<div class="row">
    <div class="col-12 row pad-right" >
		<div class="col-8">
			<h4 class="page-title">View Application</h4>
		</div>
		<div class="col-4 text-right pad-right">
			<a class="btn btn-secondary btn-sm active" href="#" role="button" [routerLink]="['/brand/list']" >Back</a>
		</div>
	</div>
</div>
<div class="row col-12" *ngIf="apploading"><span  class="spinner-border spinner-border-sm mr-1"></span></div>
<div class="row" *ngIf="applicationdata && !apploading">
    <div class="col-12">
        <div class="add card-box table-responsive details-view">
<!--		
<div class="row" *ngIf="applicationdata" >
    <div class="col-sm-12 mat-accordion">
	-->
			<!--<app-application-product-list id="314"></app-application-product-list>-->
			<div class="clearfix"></div>
			
			<div class="m-t-5" style="margin-bottom:10px;" *ngIf="applicationdata.audit_type!='1'">
				<mat-accordion>
					<mat-expansion-panel (opened)="panelOpenState = false" (closed)="panelOpenState = true">
						<mat-expansion-panel-header>
							<mat-panel-title>View Parent Application Details</mat-panel-title>
						</mat-expansion-panel-header>
						
						<div class="row" *ngIf="applicationdata" >
							<div class="col-sm-12">
								<div class="clearfix"></div>			
								<app-appdetail [id]="applicationdata.parent_app_id" ></app-appdetail>							
							</div>				
						</div>
					</mat-expansion-panel>                
				</mat-accordion>
			</div>
			
			
			<form #appform="ngForm"  >
				<div class="clearfix"></div>
				

	 
					
					<h3>Application Details</h3>
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Number</th>
							<td width="30%">{{ applicationdata.code }}</td>
							<th width="20%">Created Date &amp; Time</th>
							<td width="30%">{{ applicationdata.created_at }}</td>
						</tr>
						<tr>
							<th width="20%">Created By</th>
							<td width="30%">{{ applicationdata.created_by }}</td>
							<th width="20%">Application Type</th>
							<td width="30%">{{ applicationdata.audit_type_label }}</td>
						</tr>
						<tr>
							<th width="20%">Status</th>
							<td width="30%">{{ applicationdata.status }}</td>
							
						</tr>
						
					</table>

					<h3>Brand Details</h3>
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Brand Name</th>
							<td width="30%">{{ applicationdata.brand_name }}</td>
							<th width="20%">Brand Group</th>
							<td width="30%">{{ applicationdata.brand_group }}</td>
						</tr>
						<tr *ngIf="userType!=2 && !userdetails.rules.includes('brand_report')">
							<th  width="20%">Brand Version</th>
							<td width="30%">{{ applicationdata.brand_version }}</td>
							<th width="20%">Brand Status</th>
							<td width="30%">{{ applicationdata.brand_status }}</td>
						</tr>
						
					</table>
					
					
					
					<h3>Company Details</h3>
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Company Name</th>
							<td width="30%">{{ applicationdata.company_name }}</td>
							<th width="20%">Postal Code</th>
							<td width="30%">{{ applicationdata.zipcode }}</td>
						</tr>
						<tr>
							<th width="20%">Address</th>
							<td width="30%">{{ applicationdata.address }}</td>
							<th width="20%">Country</th>
							<td width="30%">{{ applicationdata.country_id_name }}</td>
						</tr>
						<tr>
							<th width="20%">State</th>
							<td width="30%">{{ applicationdata.state_id_name }}</td>
							<th width="20%">City</th>
							<td width="30%">{{ applicationdata.city }}</td>
						</tr>
					</table>
					
					<!-- <div class="mat-accordion">
						<div class="card-box enq-view">
							<h3>Main Contact Person</h3>
							<ul>
								<li><span class="label-pad">Salutation</span>   <span class="name-pad">{{ applicationdata.salutation_name }}</span></li>
								<li><span class="label-pad">Name</span>   <span class="name-pad">{{ applicationdata.first_name }} {{ applicationdata.last_name }}</span></li>				
								<li><span class="label-pad">Job Title</span>   <span class="name-pad">{{ applicationdata.job_title }}</span></li>				
								<li><span class="label-pad">Telephone</span>   <span class="name-pad">{{ applicationdata.telephone }}</span></li>
								<li><span class="label-pad">Email Address</span>   <span class="name-pad">{{ applicationdata.email_address }}</span></li>					
							</ul>
						</div>
					</div> -->
					
					
					 
					<h3>Standard Information</h3>
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Standard(s)</th>
							<td width="80%">
								<ul>
									<li *ngFor="let standard of applicationdata.standards; ">
									<span>{{ standard }}</span></li>
								</ul>
							</td>
						</tr>
					</table>	
					
					<div class="m-b-5" *ngIf="applicationdata.applicationcertifiedbyothercb && applicationdata.applicationcertifiedbyothercb.length>0">
						<h3>Already Certified Details</h3>
						<table class="table table-bordered col-12">
							<thead>
							<tr>
								<th scope="col" class="center" style="width: 5%;">S.No</th>
								<th scope="col"  style="width: 12%;">Standard</th>
								<th scope="col"  >Certification Body</th>
								<th scope="col" class="center" style="width: 12%;">Validity Date</th>
								<th scope="col" >Certification File</th>
							</tr>
							</thead>
							<tbody>
								<ng-container *ngFor="let application of applicationdata.applicationcertifiedbyothercb; index as i">
									<tr>
										<td scope="row" class="center">{{  1+ i }}</td>
										<td >{{ application.standard_name }}</td>
										<td >{{ application.certification_body_name }}</td>
										<td class="center">{{ application.validity_date }}</td>
										<td><span class="name-pad" *ngIf="application.certification_file"><a href="javascript:void(0);" (click)="downloadcertificateFile(application.id,application.certification_file);openmodal(downloading);" ><i class="fa fa-download" ></i>&nbsp;{{ application.certification_file }}</a></span></td>
											
									</tr> 
									
								</ng-container>               
							</tbody>
						</table>
					</div>
					
					<h3>Product Details dff</h3>
					<table class="table table-bordered col-12 m-b-15">
						<thead>
						<tr>
							<th scope="col" class="center">S.No</th>
							<th scope="col"  >Product Category</th>
							<th scope="col"  >Type of Product</th>
							<th scope="col" class="center" >Wastage (%)</th>
							<th scope="col" >Material Composition</th>
							<th scope="col"  >Standard</th>
							<th scope="col"  >Label Grade</th>
						</tr>
						</thead>
						<tbody>
							<ng-container *ngFor="let product of applicationdata.productDetails; index as i">
								<tr>
									<td scope="row" class="center"   >{{  1+ i }}</td>
									<td >{{ product.name }}</td>
									<td >{{ product.product_type_name }}</td>
									<td class="center">{{ product.wastage }}</td>
									<td >
										{{ product.materialcompositionname }}
									</td>
									<td>{{ product.standard_name }}</td>
									<td>{{ product.label_grade_name }}</td>
								</tr> 
								
							</ng-container>               
						</tbody>
					</table>					

					
					
										
					<h3>Facility Details</h3>
					<div *ngFor="let unit of applicationdata.units; index as i" style="margin-bottom:5px;" >
					<mat-accordion >
						<mat-expansion-panel (opened)="panelOpenState = false" (closed)="panelOpenState = true" [expanded]="applicationdata.app_status==arrEnumStatus['submitted']">
							<mat-expansion-panel-header>
								<mat-panel-title>
								{{ unit.unit_type_name}} : {{ unit.name }}
								</mat-panel-title>
							</mat-expansion-panel-header>							
							
							<h3>{{ unit.unit_type_name}} Details</h3>
							<table class="table-secondary m-b-15">
								<tr>
									<th width="20%">Name</th>
									<td width="30%">{{ unit.name }}</td>
									<th width="20%">Postal Code</th>
									<td width="30%">{{ unit.zipcode }}</td>
								</tr>
								<tr>
									<th width="20%">Address</th>
									<td colspan="3">{{ unit.address }}</td>
								</tr>
								<tr>
									<th width="20%">Country</th>
									<td width="30%">{{ unit.country_id_name }}</td>
									<th width="20%">State</th>
									<td width="30%">{{ unit.state_id_name }}</td>
								</tr>
								<tr>
									<th width="20%">City</th>
									<td width="30%">{{ unit.city }}</td>
									<th width="20%">No. of Employees</th>
									<td width="30%">{{ unit.no_of_employees }}</td>
								</tr>
							</table>
							
							<h3>{{ unit.unit_type_name}} Product Details</h3>						 
							<table class="table table-bordered col-12 m-b-15">
								<thead>
								<tr>
									<th scope="col" class="center">S.No</th>
									<th scope="col"  >Product Category</th>
									<th scope="col"  >Type of Product</th>
									<th scope="col" class="center" >Wastage (%)</th>
									<th scope="col" >Material Composition</th>
									<th scope="col"  >Standard</th>
									<th scope="col"  >Label Grade</th>
								</tr>
								</thead>
								<tbody>
									 
										<tr *ngFor="let product of unit?.product_details; index as is;">
											<td scope="row" class="center"   >{{  1+ is }}</td>
											<td >{{ product.name }}</td>
											<td >{{ product.product_type_name }}</td>
											<td class="center">{{ product.wastage }}</td>
											<td >
												{{ product.materialcompositionname }}
											</td>
											<td>{{ product.standard_name }}</td>
											<td>{{ product.label_grade_name }}</td>
										</tr> 
											  
								</tbody>
							</table>
														
							
							<h3>Standard Information</h3>
							<table class="table-secondary m-b-15">
								<tr>
									<th width="20%">Standard(s)</th>
									<td width="80%">
										<ul>
											<li *ngFor="let standard of unit.standarddetails; ">
											<span>{{ standard.name }}</span></li>
										</ul>
									</td>
								</tr>
							</table>						
							
							<!--
							<div class="row col-12 pad-left pad-right">
								<div class="col-9">
									<h3>Business Sector Information</h3> 
								</div>
								<div class="col-3">
									<span class="blink_me text-danger fa-lg">NEXT ACTION</span>
								</div>	
							</div>
							-->
							
							
							
																				
							<div class="mat-accordion">								
								<h3>{{ unit.unit_type_name}} Process Details</h3>
								<table class="table-secondary m-b-15">
									<tr>
										<th width="20%">Process(es)</th>
										<td width="80%"><span *ngFor="let prs of unit.process; let isLast=last;" >{{ prs }}{{isLast ? '' : ', '}}</span></td>
									</tr>
									<tr *ngIf="applicationdata.audit_type == 3">
										<th width="20%">Process Addition</th>
										<td width="80%"  ><span *ngFor="let prs of unit.new_process; let isLast=last;" >{{ prs }}{{isLast ? '' : ', '}}</span></td>
									</tr>
								</table>								
							</div>
							
						
						</mat-expansion-panel>                
					</mat-accordion>
				</div>	
						

					<div class="text-right m-t-10">
						<!-- <button type="button"  (click)=
							 [disabled]="loading"
							class="btn but-cust green m-b-5 ">
							<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							Edit Offer
						</button> -->

						<!-- <button type="button" *ngIf="offerdata.can_approve_reject" [disabled]="loading"
							class="btn but-cust green m-b-5 ml-2" (click)="open(commentContent,'offerapprove')">
							<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							Approve
						</button> -->
						<!--(offerdata.offer.offer_status==offerdata?.offerenumstatus['customer_approved']) && (userdetails.resource_access==1 || (userType==1 && userdetails.rules.includes('offer_approvals')) )  -->
						<!-- <button type="button" *ngIf="offerdata.can_approve_reject" [disabled]="loading"
							class="btn  but-cust  red m-b-5 ml-2" (click)="open(commentContent,'offerreject')">
							<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							Reject
						</button> -->
						
						<button type="button"  *ngIf="(userdetails.resource_access==1 || userType==2)" [disabled]="loading" class="btn but-cust blue m-b-5 ml-2" (click)="open(editbrandConfirmContent,'editbrand',appform)" >
						<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							Edit</button>
						<!-- *ngIf="(applicationdata?.app_status==arrEnumStatus['submitted'])  && (userdetails.resource_access==1 || userType==3 || ((userType==1) && userdetails.rules.includes('submit_for_review')) )"  -->

						<button type="button"  *ngIf="(applicationdata?.brand_status=='Open' || applicationdata?.brand_status=='Re Assigned' || btnEnable==true)  && (userdetails.resource_access==1 || userType==3 || (userType==1 && userdetails.rules.includes('brand_management')) )" [disabled]="loading" class="btn  but-cust  red m-b-5 ml-2" (click)="open(brandConfirmContent,'brandreject',appform)" >
							<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							Reject
						</button>

						<button type="button" *ngIf="(applicationdata?.brand_status=='Open' || applicationdata?.brand_status=='Re Assigned' || btnEnable==true)  && (userdetails.resource_access==1 || userType==3 || (userType==1 && userdetails.rules.includes('brand_management')) )" [disabled]="loading" class="btn but-cust green m-b-5 ml-2" (click)="open(brandConfirmContent,'brandapprove',appform)" >
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
						Approve</button>

						<!-- <button type="button" *ngIf="(applicationdata?.app_status!=arrEnumStatus['approved'] && applicationdata?.hasapprover==1 ) && (userdetails.resource_access==1 || ((userType==3 || userType==1) && userdetails.rules.includes('assign_application_approver')) )" [disabled]="loading" class="btn but-cust blue m-b-5 m-r-10" (click)="open(changeapprovercontent)" >
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
						Change Approver</button> 


						<button type="button" *ngIf="(applicationdata?.app_status==arrEnumStatus['review_completed']) && (userdetails.resource_access==1 || ((userType==3 || userType==1) && userdetails.rules.includes('assign_application_approver')) ) " [disabled]="loading" class="btn but-cust green m-b-5 m-r-5" (click)="open(approvercontent)" >
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
						Assign Approver</button>

						<button type="button" *ngIf="(applicationdata?.app_status==arrEnumStatus['review_completed']) && (userdetails.resource_access==1 || ((userType==3 || userType==1) && userdetails.rules.includes('application_approval')) ) " [disabled]="loading" class="btn but-cust green m-b-5" (click)="open(selfapproverconfirmcontent)" >
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
						Assign as Approver</button>
						-->
						<!--(applicationdata?.app_status==arrEnumStatus['review_in_process']) && (userdetails.resource_access==1 || ((userType==3 || userType==1) && userdetails.rules.includes('application_review') && -->
						
						
							<!--(applicationdata?.app_status==arrEnumStatus['approval_in_process']) && (userdetails.resource_access==1 || ((userType==3 || userType==1) && userdetails.rules.includes('application_review') && applicationdata?.approverid==userdetails.user_id ) )-->
					
						
					</div>
					
					<div class="card-box enq-view">
						
					</div>
			</form>
		</div>
    </div>				
</div>
<app-usermessage [success]="success" [error]="error"  ></app-usermessage>
<ng-template #brandConfirmContent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">{{modtitle}}</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<form>
		<div class="form-group">
			<label for="status">Comment(s)</label>
			<div class="input-group">
						
				<textarea name="comment" [(ngModel)]="model.reject_comment" rows="4" style="width:100%; display:inline;" ></textarea>
				 
				<div class="validationerror" *ngIf="reject_comment_error"  >Please enter the comment</div>
			</div>
		</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
		<button type="button" class="btn btn-success " (click)="checkUserSel('ospreject')">Save</button>
	</div>
</ng-template>

<ng-template #editbrandConfirmContent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Edit Brand</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<form [formGroup]="brandchangeForm">
			
			<div class="form-group row">
				<div class="col-8">
				<label>Click here to Download the Consent Form. </label>
				<a style="font-size: 15px;" href="javascript:void(0);"  (click)="openmodal(downloading);DownloadFile('consent','Agreement_Consent_Form_Inditex_Suppliers_(R2).docx')" class="pl-2" title="Download" alt="Download"><i class="fa fa-download" style="cursor: pointer;"></i></a>
			</div>	
		</div>
			<div class="form-group row">
			
				<div class="col-4">
					<label>Brands <span class="text-danger">*</span></label>
					<mat-select placeholder="Brands" formControlName="brand_ids" multiple class="form-control select2" [class.is-invalid]="f.brand_ids.invalid && f.brand_ids.touched">
						<mat-select-trigger>
						<span *ngIf="f.brand_ids.value?.length == 1" >{{f.brand_ids.value ? getSelectedValue('brand_id', f.brand_ids.value): ''}}</span>
						<span *ngIf="f.brand_ids.value?.length > 1" class="example-additional-selection">
							{{f.brand_ids.value.length}} {{ 'selected' }}
						</span>
						</mat-select-trigger>
						<mat-option *ngFor="let bl of brandlist" [value]="bl.id"  >{{bl.brand_name}}</mat-option>
					</mat-select>
					<!-- [disabled]="(standard_addition_id && unitBSectorDisable[unit_autoid] && unitBSectorDisable[unit_autoid].includes(bsector.id) ) ? true:false" -->
					<div *ngIf="f.brand_ids.errors" class="invalid-feedback">
						<div *ngIf="f.brand_ids.errors.required" >Brand is required</div>
					</div>	
				</div>
				<div class="col-6">
					<label>Upload File for Brand</label><br>
					<input type="file" formControlname="brand_file" (change)="brandfileChange($event)"  >
					<br><div style="font-size:11px;" >supported file formats: <span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span *ngIf="!last">, </span> </span></div>
					<div *ngIf="brand_file" style="padding:5px; border:1px solid #cecece; background-color: beige; height:32px;">
						{{ brand_file }}
						<a href="javascript:void(0);"  (click)="removebrandFile()" style="color:red; font-weight:bold;margin-right: 5px;float:right;" >X</a>
					</div>
					<div *ngIf="brandFileError" class="validationerror" >
						{{brandFileError}}
					</div>
				</div>
				<!-- <div class="col-6">
					<label>Brand(s)<span class="text-danger">*</span></label>
					<select formControlName="sel_brand"  class="form-control select2 m-t-3" [class.is-invalid]="f.sel_brand.invalid &&
					f.sel_brand.touched">
						<option value="" >-- Brands --</option>
						<option *ngFor="let bl of brandlist" value= {{bl.id}}>{{bl.brand_name}}</option>
					</select>
					<div *ngIf="f.sel_brand.errors" class="invalid-feedback">
						<div *ngIf="f.sel_brand.errors.required">
							Brand is required
						</div>
					</div>
				</div> -->
			</div>
			
			</form>	
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
		<button type="button" class="btn btn-success " (click)="checkUserSel('editbrand')">Save</button>
	</div>
</ng-template>


<ng-template #submitreviewconfirmcontent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body" style="font-size:16px;">
			Are you sure, do you want to submit this application for review?
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="modal.close('submitforreview')">Ok</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>
<ng-template #reviewconfirmcontent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body" style="font-size:16px;">
			Are you sure, do you want to assign this application to you as reviewer?
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="modal.close('selfreviewer')">Ok</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>

<ng-template #selfapproverconfirmcontent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body" style="font-size:16px;">
		Are you sure, do you want to assign this application to you as approver?
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="modal.close('selfapprover')">Ok</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
		
	</div>
</ng-template>


<ng-template #changereviewercontent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Change Reviewer</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<form>
		<div class="form-group">
			<label for="user_id">User</label>
			<div class="input-group">
						
				<select name="user_id" [(ngModel)]="model.user_id"  class="form-control select2" style="width:320px; display:inline;" >
						<option value="">-- User --</option>
						<option *ngFor="let user of revieweruserList" value= {{user.id}}>{{ user.first_name+' '+user.last_name }}</option>
				</select>     
				<div class="validationerror" *ngIf="user_id_error"  >Please select the user</div>
			</div>
		</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="checkUserSel('','change')">Save</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>



<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Assign Reviewer</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span class="c-icon" aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
        <div class="form-group">
            <label for="user_id">User</label>
            <div class="input-group">
                     
                <select name="user_id" [(ngModel)]="model.user_id"  class="form-control select2" style="width:320px; display:inline;" >
                        <option value="">-- User --</option>
                        <option *ngFor="let user of revieweruserList" value= {{user.id}}>{{ user.first_name+' '+user.last_name }}</option>
                </select>     
                <div class="validationerror" *ngIf="user_id_error"  >Please select the user</div>
            </div>
        </div>
        </form>
    </div>
    <div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="checkUserSel()">Save</button>
        <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
    </div>
</ng-template>

<ng-template #changeapprovercontent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Change Approver</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<form>
		<div class="form-group">
			<label for="user_id">User</label>
			<div class="input-group">
						

				<select name="user_id" [(ngModel)]="model.approver_user_id"  class="form-control select2" style="width:320px; display:inline;" >
						<option value="">-- User --</option>
						<option *ngFor="let user of approveruserList" value= {{user.id}}>{{ user.first_name+' '+user.last_name }}</option>
				</select>     
				<div class="validationerror" *ngIf="user_id_error"  >Please select the user</div>
			</div>
		</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="checkUserSel('approver','change')">Save</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>

<ng-template #approvercontent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Assign Approver</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<form>
		<div class="form-group">
			<label for="user_id">User</label>
			<div class="input-group">
						

				<select name="user_id" [(ngModel)]="model.approver_user_id"  class="form-control select2" style="width:320px; display:inline;" >
						<option value="">-- User --</option>
						<option *ngFor="let user of approveruserList" value= {{user.id}}>{{ user.first_name+' '+user.last_name }}</option>
				</select>     
				<div class="validationerror" *ngIf="user_id_error"  >Please select the user</div>
			</div>
		</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="checkUserSel('approver')">Save</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>
 

<ng-template #approverConfirmContent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Approve Decision</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
		<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<form>
		<div class="form-group">
			<label for="status">Status <span class="text-danger">*</span></label>
			<div class="input-group">
						

				<select name="status" [(ngModel)]="model.status"  class="form-control select2" style="width:120px; display:inline;" >
						<option value="">-- Status --</option>
						<option *ngFor="let status of approvalStatusList" value= {{status.id}}>{{ status.name }}</option>
				</select>     
				
			</div>
			<div class="validationerror" *ngIf="status_error"  >Please select the status</div>
		</div>
		<div class="form-group">
			<label for="status">Comment(s)</label>
			<div class="input-group">
						
				<textarea name="comment" [(ngModel)]="model.comment" rows="4" style="width:100%; display:inline;" ></textarea>
				 
				<div class="validationerror" *ngIf="comment_error"  >Please enter the comment</div>
			</div>
		</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="checkUserSel('statusapproval')">Save</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>

<ng-template #downloading let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">File Downloading</h4>
	</div>
	<div class="modal-body" style="font-size:16px;">
		Please wait, your file is downloading ...
	</div>
</ng-template>


<ng-template #productEntryDetails let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title"> Change Product Material Composition</h4>		
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	
	<div class="modal-body">
		<app-application-product-list [id]="id"></app-application-product-list>				
	</div>
	
	<div class="modal-footer" >
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Close</button>
	</div>	
	
</ng-template>
		 