<div class="col-12 row pad-right" >
	<div class="col-8">
		<h4 class="page-title">{{title}}</h4>
	</div>
	<div class="col-4 text-right pad-right">
		<a class="btn btn-secondary btn-sm active" href="#" role="button" [routerLink]="['/master/list-file-uploads/index']"><i class="fa fa-arrow-left text-white"></i> Back</a>
	</div>
</div>
<div class="row">
    <div class="col-12">
        <div class="add card-box table-responsive">
            <form  [formGroup]="form" (ngSubmit)="onSubmit()"  >
                                                             
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 enq-view">
					
					<div class="form-group row">
					
						<div class="col-4">
							<label>Name of the Report <span class="text-danger">*</span></label>
							<input type="text" formControlName="name" [class.is-invalid]="f.name.invalid &&
							f.name.touched " class="form-control" placeholder="Name of the Report" >
							<div *ngIf="f.name.errors" class="invalid-feedback">
								<div *ngIf="f.name.errors.required">Name of the Report is required</div>
								<div *ngIf="f.name.errors.pattern || f.name.hasError('whitespace')">Invalid Name of the Report</div>
								<div *ngIf="f.name.errors.maxlength">Name of the Report cannot exceed 255 characters</div>	
							</div>
													
						</div> 

						<div class="col-4">
							<label>Standards <span class="text-danger">*</span></label>
							<mat-select placeholder="Standard" formControlName="standard_id" multiple class="form-control select2"  [class.is-invalid]="f.standard_id.invalid && f.standard_id.touched">
								<mat-select-trigger>
								<span *ngIf="f.standard_id.value?.length == 1" >{{f.standard_id.value ? getSelectedValue('standard_id', f.standard_id.value): ''}}</span>
								<span *ngIf="f.standard_id.value?.length > 1" class="example-additional-selection">
									{{f.standard_id.value.length}} {{ 'selected' }}</span>
								</mat-select-trigger>
								<mat-option *ngFor="let std of standardList" [value]="std.id"  >{{std.name}}</mat-option>
							</mat-select>
							<!-- [disabled]="(standard_addition_id && unitBSectorDisable[unit_autoid] && unitBSectorDisable[unit_autoid].includes(bsector.id) ) ? true:false" -->
							<div *ngIf="f.standard_id.errors" class="invalid-feedback">
								<div *ngIf="f.standard_id.errors.required" >Standard is required</div>
							</div>	
						</div>
                        <div class="col-4">
							<label>Process <span class="text-danger">*</span></label>
							<mat-select placeholder="Process" formControlName="process_id" multiple class="form-control select2"  [class.is-invalid]="f.process_id.invalid && f.process_id.touched">
								<mat-select-trigger>
								<span *ngIf="f.process_id.value?.length == 1" >{{f.process_id.value ? getSelectedValue('process_id', f.process_id.value): ''}}</span>
								<span *ngIf="f.process_id.value?.length > 1" class="example-additional-selection">
									{{f.process_id.value.length}} {{ 'selected' }}</span>
								</mat-select-trigger>
								<mat-option *ngFor="let prs of processList" [value]="prs.id"  >{{prs.name}}</mat-option>
							</mat-select>
							
							<div *ngIf="f.process_id.errors" class="invalid-feedback">
								<div *ngIf="f.process_id.errors.required" >Process is required</div>
							</div>	
						</div>
                        <!-- <div class="col-4" >
                            <label>Is File Upload Required <span class="text-danger">*</span></label> <br>
                            <select formControlName="file_upload_consent" class="form-control select2" [class.is-invalid]="f.file_upload_consent.invalid && f.file_upload_consent.touched">
                                <option value="" >-- Is File Upload Required --</option>
                                <option  value='1'>Yes</option>
                                <option  value='2'>No</option>
                            </select>
                            <div *ngIf="f.file_upload_consent.errors" class="invalid-feedback">
                                <div *ngIf="f.file_upload_consent.errors.required">Is File Upload is required</div>								
                            </div>
                        </div> -->

						
						
					</div>  
					
					
					<div class="col-lg-12 text-center mt-4 mb-4">
						<button [disabled]="loading || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
							<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							{{btnLabel}}
						</button>
						<button [disabled]="loading || buttonDisable" type="button" [routerLink]="['/master/list-file-uploads/index']" class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
							<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
							Cancel
						</button>
						
						<div class="clearfix"></div>
						
						<app-usermessage [success]="success" [error]="error"  ></app-usermessage>
					</div>				
						
				</div>
                 
            </form>
        </div>
    </div>
</div>

