<div class="row">
	<div class="col-12">

		<div>
			<button type="button"
				*ngIf="(userdetails.resource_access==1 || userType==3 || userdetails.rules.includes('add_user_personnel_details') || id==userdetails.uid) && (userType!=3 || (userType==3 && btnLabel!='Update'))"
				(click)="changeUserTab('personnel_details')"
				class="btn btn-sm {{personnel_details_status ? 'btn-success' : 'btn-primary'}}">Personnel</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('edit_user_roles') || userType==3)"
				(click)="changeUserTab('role')" class="btn btn-sm {{role_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Add Role</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_qualification_details') || userType==3 || id==userdetails.uid)"
				(click)="changeUserTab('qualification_details')"
				class="btn btn-sm {{qualification_details_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Academic</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_working_experience') || userType==3 || id==userdetails.uid)"
				(click)="changeUserTab('working_experience')"
				class="btn btn-sm {{working_experience_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Work</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_consultancy_experience') || userType==3 || id==userdetails.uid)"
				(click)="changeUserTab('consultancy_experience')"
				class="btn btn-sm {{consultancy_experience_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Consultancy</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_cpd') || userType==3 || id==userdetails.uid)"
				(click)="changeUserTab('cpd')" class="btn btn-sm {{cpd_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">CPD</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_audit_experience') || userType==3 || id==userdetails.uid)"
				(click)="changeUserTab('inspection_audit_experience')"
				class="btn btn-sm {{inspection_audit_experience_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Audit</button>

			<!--
			<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_cpd') || userType==3)" (click)="changeUserTab('cpd')" class="btn btn-sm btn-primary" style="margin-left:3px;">CPD</button>
			-->

			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_declaration') || userType==3 || id==userdetails.uid)"
				(click)="changeUserTab('declaration')"
				class="btn btn-sm {{declaration_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Declaration</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_standards_business_sectors') || userType==3)"
				(click)="changeUserTab('standards_business_sectors')"
				class="btn btn-sm {{standards_business_sectors_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Standard</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_business_group') || userType==3)"
				(click)="changeUserTab('business_sectors')"
				class="btn btn-sm {{business_sectors_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Business Group</button>

			<!--
			<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_map_group_user_role') || userType==3)" (click)="changeUserTab('map_group_user_role')" class="btn btn-sm {{map_group_user_role_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Assign Role</button>
			<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_te_business_group') || userType==3)" (click)="changeUserTab('technical_expert_business_group')" class="btn btn-sm {{technical_expert_business_group_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">TE Group</button>
			-->

			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_map_group_user_role'))"
				(click)="changeUserTab('map_group_user_role')"
				class="btn btn-sm {{map_group_user_role_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">Assign Role</button>
			<button type="button"
				*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_te_business_group'))"
				(click)="changeUserTab('technical_expert_business_group')"
				class="btn btn-sm {{technical_expert_business_group_status ? 'btn-success' : 'btn-primary'}}"
				style="margin-left:3px;">TE Group</button>
		</div>

		<div class="add card-box table-responsive">


			<!--
                <div class="col-12 row pad-right" >
                    <div class="col-11">						
						<h4 class="page-title">{{ title }}</h4>						
                    </div>
					
                    <div class="col-1 text-right pad-right">
						<a class="btn btn-secondary btn-sm active" href="#" role="button" [routerLink]="['/master/user/list']" >Back</a>
                    </div>
					
                </div>
				-->

			<!--
				personnel_details
				role
				standards_business_sectors
				qualification_details
				working_experience
				inspection_audit_experience
				consultancy_experience
				certificate_details
				cpd 
				declaration
				-->

			<!--
				<div class="col-12 row" style="border:1px solid #ff0000;">				
					<div class="col-2 center"><button type="button" (click)="changeUserTab('personnel_details')" class="btn btn-primary">Personnel Details</button></div>
					<div class="col-1 center"><button type="button" (click)="changeUserTab('role')" class="btn btn-primary">Roles</button></div>
					<div class="col-3 center"><button type="button" (click)="changeUserTab('standards_business_sectors')" class="btn btn-primary">Standards & Business Sectors</button></div>
					<div class="col-2 center"><button type="button" (click)="changeUserTab('qualification_details')" class="btn btn-primary">Qualification Details</button></div>
					<div class="col-3 center"><button type="button" (click)="changeUserTab('working_experience')" class="btn btn-primary">Working Experience</button></div>
				</div>
				-->
			<!-- && hasRoles -->

			<!--
				<div>				
					<button type="button" *ngIf="userdetails.resource_access==1 || userType==3 || userdetails.rules.includes('add_user_personnel_details')" (click)="changeUserTab('personnel_details')" class="btn btn-sm {{personnel_details_status ? 'btn-success' : 'btn-primary'}}">Personnel</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('edit_user_roles') || userType==3)" (click)="changeUserTab('role')" class="btn btn-sm {{role_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Roles</button>					
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_qualification_details') || userType==3)" (click)="changeUserTab('qualification_details')" class="btn btn-sm {{qualification_details_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Academic</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_working_experience') || userType==3)" (click)="changeUserTab('working_experience')" class="btn btn-sm {{working_experience_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Work</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_consultancy_experience') || userType==3)" (click)="changeUserTab('consultancy_experience')" class="btn btn-sm {{consultancy_experience_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Consultancy</button>
					<button type="button" *ngIf="userData && userData.is_auditor==1 && id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_certificate_details') || userType==3)" (click)="changeUserTab('certificate_details')" class="btn btn-sm {{certificate_details_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">CPD</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_audit_experience') || userType==3)" (click)="changeUserTab('inspection_audit_experience')" class="btn btn-sm {{inspection_audit_experience_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Inspection/Audit</button>

					
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_cpd') || userType==3)" (click)="changeUserTab('cpd')" class="btn btn-sm btn-primary" style="margin-left:3px;">CPD</button>
					
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_declaration') || userType==3)" (click)="changeUserTab('declaration')" class="btn btn-sm {{declaration_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Declaration</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_standards_business_sectors') || userType==3)" (click)="changeUserTab('standards_business_sectors')" class="btn btn-sm {{standards_business_sectors_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Standard</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_business_group') || userType==3)" (click)="changeUserTab('business_sectors')" class="btn btn-sm {{business_sectors_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Business Group</button>

					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_map_group_user_role') || userType==3)" (click)="changeUserTab('map_group_user_role')" class="btn btn-sm {{map_group_user_role_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Map Group to User Role</button>
					<button type="button" *ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_map_group_user_role') || userType==3)" (click)="changeUserTab('technical_expert_business_group')" class="btn btn-sm {{technical_expert_business_group_status ? 'btn-success' : 'btn-primary'}}" style="margin-left:3px;">Technical Expert Business Group</button>
				</div>
				
				<div class="m-t-10 m-b-15">	
					
					
					
				</div>
				-->

			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 enq-view pad-left pad-right">

				<div
					*ngIf="((userdetails.resource_access==1  || userType==3 ||userdetails.rules.includes('add_user_personnel_details') || id==userdetails.uid) && personnel_details_status) && (userType!=3 || (userType==3 && btnLabel!='Update'))">
					<form [formGroup]="customerForm" (ngSubmit)="onPersonnelSubmit()">
						<div class="tabDiv">
							<h3>Personnel Details</h3>
							<div class="form-group row m-t-10">
								<div class="col-4">
									<label>First Name <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="First Name"
										matTooltipClass="tooltip-text-size" aria-tooltip="First Name"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="first_name"
										[class.is-invalid]="f.first_name.invalid &&	f.first_name.touched "
										class="form-control" placeholder="First Name">
									<div *ngIf="f.first_name.errors" class="invalid-feedback">
										<div *ngIf="f.first_name.errors.required">First Name is required</div>
										<div *ngIf="f.first_name.errors.maxlength">First Name cannot exceed 255
											characters</div>
										<div *ngIf="f.first_name.errors.pattern || f.first_name.hasError('whitespace')">
											Invalid First Name</div>
									</div>
								</div>

								<div class="col-4">
									<label>Last Name <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Last Name"
										matTooltipClass="tooltip-text-size" aria-tooltip="Last Name"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="last_name"
										[class.is-invalid]="f.last_name.invalid && f.last_name.touched "
										class="form-control" placeholder="Last Name">
									<div *ngIf="f.last_name.errors" class="invalid-feedback">
										<div *ngIf="f.last_name.errors.required">Last Name is required</div>
										<div *ngIf="f.last_name.errors.maxlength">Last Name cannot exceed 255 characters
										</div>
										<div *ngIf="f.last_name.errors.pattern || f.last_name.hasError('whitespace')">
											Invalid Last Name</div>
									</div>
								</div>
								<div class="col-4">
									<label>Email <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Email"
										matTooltipClass="tooltip-text-size" aria-tooltip="Email"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="email"
										[class.is-invalid]="f.email.invalid && f.email.touched " class="form-control"
										placeholder="Email">
									<div *ngIf="f.email.errors" class="invalid-feedback">
										<div *ngIf="f.email.errors.required">Email is required</div>
										<div *ngIf="f.email.errors.maxlength">Email cannot exceed 255 characters</div>
										<div *ngIf="f.email.errors.email">Email must be a valid email address</div>
										<div *ngIf="f.email.hasError('whitespace')">Invalid Email</div>
									</div>
								</div>
							</div>

							<div class="form-group row">
								<div class="col-4">
									<label>Telephone <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Telephone Number" matTooltipClass="tooltip-text-size"
										aria-tooltip="Telephone Number" matTooltipPosition="right"></i>
									<input type="text" class="form-control" formControlName="telephone"
										[class.is-invalid]="f.telephone.invalid && f.telephone.touched"
										class="form-control" placeholder="Telephone">
									<div *ngIf="f.telephone.errors" class="invalid-feedback">
										<div *ngIf="f.telephone.errors.required"> Telephone cannot be blank.</div>
										<div *ngIf="f.telephone.errors.minlength">Telephone must be at least 8
											characters</div>
										<div *ngIf="f.telephone.errors.maxlength">Telephone cannot exceed 15 characters
										</div>
										<div *ngIf="f.telephone.errors.pattern || f.telephone.hasError('whitespace')">
											Invalid Telephone Number</div>
									</div>
								</div>

								<div class="col-4">
									<label>Country <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Country"
										matTooltipClass="tooltip-text-size" aria-tooltip="Country"
										matTooltipPosition="right"></i>
									<select formControlName="country_id" class="form-control select2"
										(change)="getStateList($event.target.value,'state_id')"
										[class.is-invalid]="f.country_id.invalid && f.country_id.touched">
										<option value="">-- Country --</option>
										<option *ngFor="let country of countryList" value={{country.id}}>
											{{country.name}}</option>
									</select>
									<div *ngIf="f.country_id.errors" class="invalid-feedback">
										<div *ngIf="f.country_id.errors.required"> Country cannot be blank.</div>
									</div>
								</div>

								<div class="col-4">
									<label>State <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="State"
										matTooltipClass="tooltip-text-size" aria-tooltip="State"
										matTooltipPosition="right"></i>
									<select formControlName="state_id" class="form-control select2"
										[class.is-invalid]="f.state_id.invalid && f.state_id.touched">
										<option value="">-- State --</option>
										<option *ngFor="let states of stateList" value={{states.id}}>{{states.name}}
										</option>
									</select>
									<div *ngIf="f.state_id.errors" class="invalid-feedback">
										<div *ngIf="f.state_id.errors.required"> State cannot be blank.</div>
									</div>
								</div>
							</div>
							<div class="form-group row">
								<div class="col-4">
									<label>Passport/ID <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Passport/ID"
										matTooltipClass="tooltip-text-size" aria-tooltip="Passport/ID"
										matTooltipPosition="right"></i><br>
									<input type="file" formControlname="passport_file"
										(change)="passportfileChange($event)" style="width:184px">
									<br>
									<div style="font-size:11px;">supported file formats: <span
											*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
											docs}}<span *ngIf="!last">, </span> </span></div>
									<div *ngIf="passport_file" class="file-border-box">
										<a href="javascript:void(0);"
											(click)="downloadUserFile(passport_file,'passport');open(downloading)"><i
												class="fa fa-download"></i> {{ passport_file }}</a>
										<a href="javascript:void(0);" (click)="removepassportFile()"
											style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>

									</div>
									<div *ngIf="passportFileErr" class="validationerror">
										{{passportFileErr}}
									</div>
								</div>

								<div class="col-4">
									<label>Member Agreement/Contract <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Member Agreement/Contract" matTooltipClass="tooltip-text-size"
										aria-tooltip="Member Agreement/Contract" matTooltipPosition="right"></i><br>
									<input type="file" formControlname="contract_file"
										(change)="contractfileChange($event)" style="width:184px">
									<br>
									<div style="font-size:11px;">supported file formats: <span
											*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
											docs}}<span *ngIf="!last">, </span> </span></div>
									<div *ngIf="contract_file" class="file-border-box">
										<a href="javascript:void(0);"
											(click)="downloadUserFile(contract_file,'contract');open(downloading)"><i
												class="fa fa-download"></i> {{ contract_file }}</a>
										<a href="javascript:void(0);" (click)="removecontractFile()"
											style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
									</div>
									<div *ngIf="contractFileErr" class="validationerror">
										{{contractFileErr}}
									</div>
								</div>
							</div>
							<div class="form-group row" >
								<div class="col-lg-12 text-center mt-4">
									<button [disabled]="loadingArr['personnel'] || buttonDisable"
										class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
										<span *ngIf="loadingArr['personnel']"
											class="spinner-border spinner-border-sm mr-1"></span>
										{{btnLabel}}
									</button>
								</div>
							</div>

						</div>
					</form>
				</div>

				<div class="form-group"
					*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('edit_user_roles') || userType==3) && role_status">
					<div class="card-box enq-view lst">
						<h3>Roles</h3>
						<mat-tab-group>
							<mat-tab label="New ({{filterUser?.length}})">
								<form [formGroup]="userloginForm">
									<div class="tabDiv">
										<div class="form-group">

											<div class="tbl-sec pl-0 pr-0">
												<table id="datatable" class="table table-bordered tab-bor col-12">
													<thead>
														<tr>
															<th scope="col" width="6%" class="center">S.No</th>
															<th scope="col">OSS</th>
															<th scope="col">Role</th>
															<!--
																<th scope="col">Username</th>
																-->
															<th scope="col" width="10%" class="center">Action</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngIf="filterUser?.length==0">
															<td colspan="5" class="center">No User Details Added</td>
														</tr>
														<tr *ngFor="let userEntry of filterUser; let i=index; "
															[class.currentedit]="this.userIndex===i">
															<td scope="row" class="center">{{ 1+ i }}</td>
															<td>{{ userEntry.franchise_name }}</td>
															<td>{{ userEntry.role_name }}</td>
															<!--
																	<td>{{ userEntry.username }}</td>
																	-->
															<td class="center">

																<a href="javascript:void(0);" *ngIf="userEntry.editable"
																	(click)="editUser(i)" title="Edit" alt="Edit"> <i
																		class="fa fa-edit"></i> </a>
																&nbsp;&nbsp;
																<!--<a href="javascript:void(0);" (click)="removeUser(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a> -->
																<a href="javascript:void(0);"
																	(click)="openConfirm(confirmAction,'delete',userEntry.id,'role')"
																	title="Delete" alt="Delete"> <i
																		class="fa fa-trash text-danger"></i> </a>

															</td>
														</tr>
													</tbody>
												</table>
												<div class="validationerror" *ngIf="userErrors">Please add user details
												</div>
											</div>
										</div>

										<div class="col-12 text-right" *ngIf="filterUser?.length>0">
											<button style="float:right;" (click)="open(confirmSendToApproval,'role')"
												[disabled]="loadingArr['userloginForm'] || buttonDisable"
												class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
												<span *ngIf="loadingArr['userloginForm']"
													class="spinner-border spinner-border-sm mr-1"></span>
												Send for Approval
											</button>
											<div class="clearfix"></div>
										</div>

										<h3>{{roleEditStatus ? 'Update':'Add'}} Role</h3>
										<div class="form-group row m-t-10">

											<div class="col-6">
												<label>OSS <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="OSS" matTooltipClass="tooltip-text-size"
													aria-tooltip="OSS" matTooltipPosition="right"></i>
												<mat-select placeholder="-- OSS --" formControlName="franchise_id"
													class="form-control select2"
													[class.is-invalid]="uf.franchise_id.invalid && uf.franchise_id.touched"
													(selectionChange)="hideError();getUserRoleList($event.value);">
													<!--<mat-select-search formControlName="franchiseFilterCtrl" ></mat-select-search>-->
													<mat-option *ngFor="let franchise of filteredfranchiseMulti | async"
														[value]="franchise.id">{{franchise.osp_details}}</mat-option>
												</mat-select>
												<div *ngIf="uf.franchise_id.errors" class="invalid-feedback">
													<div *ngIf="uf.franchise_id.errors.required">OSS cannot be blank.
													</div>
												</div>
												<div class="validationerror" *ngIf="franchise_idErrors"></div>
											</div>
											<!--
													<div class="col-6">
														<label>Role <span class="text-danger">*</span></label> <i class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Role" matTooltipClass="tooltip-text-size" aria-tooltip="Role" matTooltipPosition="right"></i>
														<mat-select placeholder="-- Role --" (selectionChange)="chkLoginRequired();hideError()" formControlName="role_id" class="form-control select2" [class.is-invalid]="uf.role_id.invalid &&
														uf.role_id.touched"  >
															<mat-option *ngFor="let roles of roleList" [value]="roles.id">{{roles.role_name}}</mat-option>
														</mat-select>
														<div *ngIf="uf.role_id.errors" class="invalid-feedback">
															<div *ngIf="uf.role_id.errors.required">Role cannot be blank.</div>
														</div>
														<div class="validationerror" *ngIf="role_idErrors">{{role_idErrors}}</div>
													</div>
													-->
											<div class="col-6">
												<label>Role <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Role" matTooltipClass="tooltip-text-size"
													aria-tooltip="Role" matTooltipPosition="right"></i>
												<mat-select placeholder="-- Role --" formControlName="role_id"
													class="form-control select2" [class.is-invalid]="uf.role_id.invalid &&
														uf.role_id.touched">
													<mat-option *ngFor="let roles of roleList" [value]="roles.id">
														{{roles.role_name}}</mat-option>
												</mat-select>
												<div *ngIf="uf.role_id.errors" class="invalid-feedback">
													<div *ngIf="uf.role_id.errors.required">Role cannot be blank.</div>
												</div>
												<div class="validationerror" *ngIf="role_idErrors">{{role_idErrors}}
												</div>
											</div>

										</div>

										<div class="form-group row">

											<!--													
													<div class="row col-12 prd-lab" >
														<div class="col-4">
															<label>Username <span class="text-danger">*</span></label> <i class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Username" matTooltipClass="tooltip-text-size" aria-tooltip="Username" matTooltipPosition="right"></i>
															<input type="text" formControlName="username"  class="form-control" placeholder="Username" [class.is-invalid]="uf.username.invalid && uf.username.touched" >
															<div *ngIf="uf.username.errors" class="invalid-feedback">
																<div *ngIf="uf.username.errors.required">Username is required</div>
																<div *ngIf="uf.username.errors.minlength">Username must be at least 6 characters</div>
																<div *ngIf="uf.username.errors.maxlength">Username cannot exceed 15 characters</div>
																<div *ngIf="uf.username.errors.pattern || uf.username.hasError('whitespace')">Please enter valid Username</div>
																<div *ngIf="uf.username.errors.cannotContainSpace">Username can not contain space.</div>
															</div>
															<div class="validationerror" *ngIf="usernameErrors && uf.username.invalid">{{usernameErrors}}</div>
														</div>
													
														<div class="col-4">
															<label>Password <span class="text-danger">*</span></label> <i class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Password" matTooltipClass="tooltip-text-size" aria-tooltip="Password" matTooltipPosition="right"></i>
															<input type="password" formControlName="user_password"  class="form-control" placeholder="Password" [class.is-invalid]="uf.user_password.invalid && uf.user_password.touched">
															<div *ngIf="uf.user_password.errors" class="invalid-feedback">
																<div *ngIf="uf.user_password.errors.required">Password is required</div>
																<div *ngIf="uf.user_password.errors.minlength">Password must be at least 6 characters</div>
																<div *ngIf="uf.user_password.errors.maxlength">Password cannot exceed 15 characters</div>
																<div *ngIf="uf.user_password.errors.pattern || uf.user_password.hasError('whitespace')">Please enter valid Password</div>
																<div *ngIf="uf.user_password.errors.cannotContainSpace">Password can not contain space.</div>
															</div>
														</div>
														
														<div class="row col-2 prd-lab" style="padding-top:25px;">
															<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addUser()"  >
																<span *ngIf="buttonDisable" class="spinner-border spinner-border-sm mr-1"></span>
																+Add Role</a>
														</div>
														
													</div>
													-->

											<div class="col-12 text-center">
												<button [disabled]="loadingArr['userloginForm'] || buttonDisable"
													(click)="addUser()"
													class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
													<span *ngIf="loadingArr['userloginForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													{{ roleEditStatus ? 'Update':'Save'}}
												</button>
												<button [disabled]="loadingArr['userloginForm'] || buttonDisable"
													type="button" (click)="resetUserForm('userloginForm')"
													class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
													<span *ngIf="loadingArr['userloginForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Reset</button>
												<div class="clearfix"></div>
											</div>

										</div>

										<!--
												<div class="form-group row">
													<div class="col-lg-12 text-center mt-4 ">
														<button (click)="onRoleSubmit()" [disabled]="loadingArr['userloginForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
															<span *ngIf="loadingArr['userloginForm']" class="spinner-border spinner-border-sm mr-1"></span>
															Save
														</button>
														<button style="float:right;" (click)="open(confirmSendToApproval,'role')" [disabled]="loadingArr['userloginForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
															<span *ngIf="loadingArr['userloginForm']" class="spinner-border spinner-border-sm mr-1"></span>
															Send for Approval
														</button>
													</div>
													
												</div>
												<div class="col-lg-12 error">
													Note: After completing your actions, please click "Submit" button to store the data.
												</div>
												-->

									</div>
								</form>
							</mat-tab>
							<mat-tab label="Waiting for Approval ({{userListEntriesWaitingApproval?.length}})">
								<!--<form  [formGroup]="userapprovalForm" (ngSubmit)="onRoleApprovalSubmit()"  > -->
								<div class="tabDiv">

									<div class="form-group row">

										<div class="tbl-sec">
											<table id="datatable" class="table table-bordered tab-bor col-12">
												<thead>
													<tr>
														<th scope="col" width="6%" class="center">S.No</th>
														<th scope="col">OSS</th>
														<th scope="col">Role</th>
														<th scope="col" style="width:10%;" class="center"
															*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('user_role_approval')">
															Review</th>
														<!--																
																<th scope="col">Username</th>
																-->
													</tr>
												</thead>
												<tbody>
													<tr *ngIf="userListEntriesWaitingApproval?.length==0">
														<td colspan="4" class="center">No Role Waiting for Approval</td>
													</tr>

													<tr
														*ngFor="let userEntry of userListEntriesWaitingApproval; let i=index; ">
														<td scope="row" class="center">{{ 1+ i }}</td>
														<td>{{ userEntry.franchise_name }}</td>
														<td>{{ userEntry.role_name }}</td>
														<td class="center"
															*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('user_role_approval')">
															<a href="javascript:void(0);" title="Review Role"
																alt="Review Role"
																(click)="openreviewmodel(userRoleReviewContent,'role',userEntry.user_role_id,'Role',userEntry)"><i
																	class="fa fa-check"
																	style="font-size: 20px;"></i></a></td>
														<!--		
																	<td>{{ userEntry.username }}</td>
																	-->
														<!--<td  class="center">
																		<a href="javascript:void(0);" (click)="approveUser(i)" title="Edit" alt="Edit"> <i class="fa fa-ok"></i> </a>
																	</td>-->
													</tr>
												</tbody>
											</table>
											<div class="validationerror" *ngIf="userErrors">Please add user details
											</div>
										</div>



									</div>



								</div>
								<!-- </form> -->
							</mat-tab>
							<mat-tab label="Approved ({{userListEntriesApproved?.length}})">
								<div class="tabDiv">

									<div class="form-group row">

										<div class="tbl-sec">
											<table id="datatable" class="table table-bordered tab-bor col-12">
												<thead>
													<tr>
														<th scope="col" width="6%" class="center">S.No</th>
														<th scope="col">OSS</th>
														<th scope="col">Role</th>
														<th scope="col">Username</th>
														<th scope="col" width="10%" class="center">More Details</th>
													</tr>
												</thead>
												<tbody>
													<tr *ngIf="userListEntriesApproved?.length==0">
														<td colspan="5" class="center">No Approved User</td>
													</tr>
													<tr
														*ngFor="let userEntry of userListEntriesApproved; let i=index; ">
														<td scope="row" class="center">{{ 1+ i }}</td>
														<td>{{ userEntry.franchise_name }}</td>
														<td>{{ userEntry.role_name }}</td>
														<td>{{ userEntry.username }}</td>
														<td class="center">
															<a href="javascript:void(0);"
																(click)="showApprovedRoleDetails(RoleDetails,i)"
																title="View" alt="View"><i class="fa fa-eye"></i></a>

															<a href="javascript:void(0);"
																*ngIf="userEntry.status==0 && userType!=3 "
																(click)="openConfirm(confirmAction,'deactivate',userEntry.id,'role')"
																class="pl-2" title="Active" alt="Active"><i
																	class="fa fa-toggle-on text-success"></i></a>

															<a href="javascript:void(0);"
																*ngIf="userEntry.status==1 && userType!=3"
																(click)="openConfirm(confirmAction,'activate',userEntry.id,'role')"
																class="pl-2" title="In-active" alt="In-active"><i
																	class="fa fa-toggle-off text-danger"></i></a>
														</td>
													</tr>
												</tbody>
											</table>

										</div>
									</div>
								</div>
							</mat-tab>
							<mat-tab label="Rejected ({{filterRejectedUser?.length}})">
								<div class="tabDiv">

									<div class="form-group row">

										<div class="tbl-sec">
											<table id="datatable" class="table table-bordered tab-bor col-12">
												<thead>
													<tr>
														<th scope="col" width="6%" class="center">S.No</th>
														<th scope="col">OSS</th>
														<th scope="col">Role</th>

														<!--
															<th scope="col">Username</th>
															-->
														<th scope="col" width="10%" class="center">Action</th>
													</tr>
												</thead>
												<tbody>
													<tr *ngIf="userListEntriesRejected.length==0">
														<td colspan="5" class="center">No Rejected User</td>
													</tr>
													<tr
														*ngFor="let userEntry of userListEntriesRejected; let i=index; ">
														<td scope="row" class="center">{{ 1+ i }}</td>
														<td>{{ userEntry.franchise_name }}</td>
														<td>{{ userEntry.role_name }}</td>

														<!--
																<td>{{ userEntry.username }}</td>
																-->
														<td class="center">
															<!--<a href="javascript:void(0);" (click)="removeRejectUser(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
															<a href="javascript:void(0);"
																(click)="openConfirm(confirmAction,'delete',userEntry.id,'role')"
																title="Delete" alt="Delete"> <i
																	class="fa fa-trash text-danger"></i> </a>
															&nbsp;&nbsp;
															<a href="javascript:void(0);"
																(click)="showRejectedRoleDetails(RoleDetails,userEntry.user_role_id)"
																title="View" alt="View"><i class="fa fa-eye"></i></a>
															&nbsp;&nbsp;
															<a href="javascript:void(0);"
																(click)="rejRoleSubmitConfirm(confirmRoleSendAction,userEntry.user_role_id)"
																title="Send For Approval" alt="Send For Approval"> <i
																	class="fa fa-check" style="font-size: 20px;"></i>
															</a>

														</td>
													</tr>
												</tbody>
											</table>
											<div class="form-group row">
												<div class="col-lg-12 text-center mt-4 ">
													<!--<button *ngIf="userListEntriesRejected.length>0" (click)="rejonRoleSubmit()" [disabled]="loadingArr['userloginForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
																<span *ngIf="loadingArr['userloginForm']" class="spinner-border spinner-border-sm mr-1"></span>
																Save
															</button>
															<button *ngIf="filterRejectedUser?.length>0" style="float:right;" (click)="open(confirmSendToApproval,'rejrole')" [disabled]="loadingArr['userloginForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
																<span *ngIf="loadingArr['userloginForm']" class="spinner-border spinner-border-sm mr-1"></span>
																Send for Approval
															</button>
															-->
												</div>
											</div>
										</div>
									</div>
								</div>
							</mat-tab>
						</mat-tab-group>
					</div>
				</div>

				<div class="form-group"
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_standards_business_sectors') || userType==3)) && standards_business_sectors_status">
					<div class="card-box enq-view lst">
						<h3>Standard</h3>
						<mat-tab-group>
							<mat-tab label="New">
								<form [formGroup]="standardForm">
									<div class="tabDiv">
										<div class="form-group row m-t-10">

											<!-- standardList -->
											<div class="col-4">
												<label>Standard <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Standard" matTooltipClass="tooltip-text-size"
													aria-tooltip="Standard" matTooltipPosition="right"></i>
												<select formControlName="standard"
													(change)="setStdDisplay($event.target.value)"
													class="form-control select2" [class.is-invalid]="sf.standard.invalid &&
													sf.standard.touched">
													<option value="">-- Standard --</option>
													<option *ngFor="let standard of standardNewList"
														value={{standard.id}}>{{standard.code}}</option>
												</select>
												<div *ngIf="sf.standard.errors" class="invalid-feedback">
													<div *ngIf="sf.standard.errors.required"> Standard cannot be blank.
													</div>
												</div>
											</div>

											<div class="col-4">
												<label>PreQualification<span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="PreQualification" matTooltipClass="tooltip-text-size"
													aria-tooltip="Last Name" matTooltipPosition="right"></i>
												<input type="text" formControlName="pre_qualification"
													[class.is-invalid]="sf.pre_qualification.invalid && sf.pre_qualification.touched"
													class="form-control" placeholder="PreQualification">
												<div *ngIf="sf.pre_qualification.errors" class="invalid-feedback">
													<div *ngIf="sf.pre_qualification.errors.required">Pre Qualification
														is required</div>
												</div>
											</div>

											<div class="col-4">
												<label>Upload the PreQualification File<span
														class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Pre Qualification File"
													matTooltipClass="tooltip-text-size"
													aria-tooltip="Pre Qualification File"
													matTooltipPosition="right"></i>
												<input type="file" formControlname="qua_exam_file"
													(change)="qua_examfileChange($event)">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>

												<div *ngIf="qua_exam_file" class="file-border-box">
													<ng-container *ngIf="!standardFormDetails.id">{{ qua_exam_file }}
													</ng-container>
													<a *ngIf="standardFormDetails.id" href="javascript:void(0);"
														(click)="downloadstdFile(standardFormDetails.id,'standard',qua_exam_file);open(downloading)"><i
															class="fa fa-download"></i> {{ qua_exam_file }}</a>
													<a href="javascript:void(0);" (click)="removequa_examFiles()"
														style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
												</div>

												<div *ngIf="qua_examfileErrors" class="validationerror">
													{{ qua_examfileErrors }}
												</div>
											</div>
											<!--<div class="col-4">
													<label>Process</label>
													<mat-select placeholder="Process *" (selectionChange)="getBsectorList($event.value)" formControlName="process" multiple class="form-control select2" [class.is-invalid]="sf.process.invalid &&
													sf.process.touched">
														<mat-select-trigger>
														<span *ngIf="sf.process.value?.length == 1" >{{sf.process.value ?  getSelectedValue('process',sf.process.value) : ''}}</span>
														<span *ngIf="sf.process.value?.length > 1" class="example-additional-selection">
															{{sf.process.value.length}} {{ 'selected' }}
														</span>
														</mat-select-trigger>
														<mat-select-search formControlName="processFilterCtrl" ></mat-select-search>
														<mat-option *ngFor="let processd of filteredprocessMulti | async" [value]="processd.id">{{processd.name}}</mat-option>
													</mat-select>
													<div *ngIf="sf.process.errors" class="invalid-feedback">
														<div *ngIf="sf.process.errors.required"> Process cannot be blank.</div>
													</div>
												</div>
											
												<div class="col-4">
													<label>Business Sector</label>
													<mat-select placeholder="Business Sector *" (selectionChange)="getBsectorgroupList($event.value)" formControlName="business_sector_id" multiple class="form-control select2" [class.is-invalid]="sf.business_sector_id.invalid && sf.business_sector_id.touched">
														<mat-select-trigger>
														<span *ngIf="sf.business_sector_id.value?.length == 1" >{{sf.business_sector_id.value ? getSelectedValue('business_sector_id', sf.business_sector_id.value): ''}}</span>
														<span *ngIf="sf.business_sector_id.value?.length > 1" class="example-additional-selection">
															{{sf.business_sector_id.value.length}} {{ 'selected' }}
														</span>
														</mat-select-trigger>
														<mat-option *ngFor="let bsector of bsectorList" [value]="bsector.id">{{bsector.name}}</mat-option>
													</mat-select>
													
													<div *ngIf="sf.business_sector_id.errors" class="invalid-feedback">
														<div *ngIf="sf.business_sector_id.errors.required" >Business Sector is required</div>
													</div>
												</div>
						
												<div class="col-4">
													<label>Business Sector Group</label>
													<mat-select placeholder="Business Sector Group *" formControlName="business_sector_group_id" multiple class="form-control select2" [class.is-invalid]="sf.business_sector_group_id.invalid && sf.business_sector_group_id.touched">
														<mat-select-trigger>
														<span *ngIf="sf.business_sector_group_id.value?.length == 1" >{{sf.business_sector_group_id.value ? getSelectedValue('business_sector_group_id', sf.business_sector_group_id.value): ''}}</span>
														<span *ngIf="sf.business_sector_group_id.value?.length > 1" class="example-additional-selection">
															{{sf.business_sector_group_id.value.length}} {{ 'selected' }}
														</span>
														</mat-select-trigger>
														<mat-option *ngFor="let bsectorgroup of bsectorgroupList" [value]="bsectorgroup.id">{{bsectorgroup.group_code}}</mat-option>
													</mat-select>
													
													<div *ngIf="sf.business_sector_group_id.errors" class="invalid-feedback">
														<div *ngIf="sf.business_sector_group_id.errors.required" >Business Sector Group is required</div>
													</div>
												</div>-->

										</div>
										<div class="form-group row">
											<div class="col-4">
												<label>Standard Exam Date <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Standard Exam Date" matTooltipClass="tooltip-text-size"
													aria-tooltip="Standard Exam Date" matTooltipPosition="right"></i>
												<input type="text" formControlName="std_exam_date" class="form-control"
													placeholder="Standard Exam Date" [class.is-invalid]="sf.std_exam_date.invalid &&
													sf.std_exam_date.touched" matInput [matDatepicker]="std_exam_date" (click)="std_exam_date.open()"
													style="width:85%; float:left;">
												<mat-datepicker-toggle matSuffix [for]="std_exam_date"
													style="float:left;"></mat-datepicker-toggle>
												<mat-datepicker #std_exam_date></mat-datepicker>
												<div *ngIf="sf.std_exam_date.errors" class="invalid-feedback">
													<div *ngIf="sf.std_exam_date.errors.required">Standard Exam Date
														cannot be blank.</div>
												</div>
											</div>

											<div class="col-4">
												<label>Upload the Standard Exam <span
														class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Standard Exam File" matTooltipClass="tooltip-text-size"
													aria-tooltip="Standard Exam File" matTooltipPosition="right"></i>
												<input type="file" formControlname="std_exam"
													(change)="std_examfileChange($event)">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>

												<div *ngIf="std_exam_file" class="file-border-box">
													<ng-container *ngIf="!standardFormDetails.id">{{ std_exam_file }}
													</ng-container>
													<a *ngIf="standardFormDetails.id" href="javascript:void(0);"
														(click)="downloadstdFile(standardFormDetails.id,'standard',std_exam_file);open(downloading)"><i
															class="fa fa-download"></i> {{ std_exam_file }}</a>
													<a href="javascript:void(0);" (click)="removestd_examFiles()"
														style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
												</div>

												<div *ngIf="std_examfileErrors" class="validationerror">
													{{ std_examfileErrors }}
												</div>
											</div>
										</div>



										<div class="form-group row" *ngIf="showRecycle">
											<div class="col-4">
												<label>Recycle Exam Date <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Recycle Exam Date" matTooltipClass="tooltip-text-size"
													aria-tooltip="Recycle Exam Date" matTooltipPosition="right"></i>
												<input type="text" formControlName="recycle_exam_date"
													class="form-control" placeholder="Recycle Exam Date"
													[class.is-invalid]="sf.recycle_exam_date.invalid &&
													sf.recycle_exam_date.touched" matInput [matDatepicker]="recycle_exam_date"
													(click)="recycle_exam_date.open()" style="width:85%; float:left;">
												<mat-datepicker-toggle matSuffix [for]="recycle_exam_date"
													style="float:left;"></mat-datepicker-toggle>
												<mat-datepicker #recycle_exam_date></mat-datepicker>
												<div *ngIf="sf.recycle_exam_date.errors" class="invalid-feedback">
													<div *ngIf="sf.recycle_exam_date.errors.required">Recycle Exam Date
														cannot be blank.</div>
												</div>

											</div>

											<div class="col-4">
												<label>Upload the Recycle Exam <span
														class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Recycle Exam File" matTooltipClass="tooltip-text-size"
													aria-tooltip="Recycle Exam File" matTooltipPosition="right"></i>
												<input type="file" formControlname="recycle_exam"
													(change)="recycle_examfileChange($event)">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>

												<div *ngIf="recycle_exam_file" class="file-border-box">

													<ng-container *ngIf="!standardFormDetails.id">{{ recycle_exam_file
														}}</ng-container>
													<a href="javascript:void(0);" *ngIf="standardFormDetails.id"
														(click)="downloadstdFile(standardFormDetails.id,'recycle',recycle_exam_file);open(downloading);"><i
															class="fa fa-download"></i>{{ recycle_exam_file }}</a>
													<a href="javascript:void(0);" (click)="removerecycle_examFiles()"
														style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>

												</div>

												<div *ngIf="recycle_examfileErrors" class="validationerror">
													{{ recycle_examfileErrors }}
												</div>

											</div>


										</div>

										<div class="form-group row" *ngIf="showSocial">
											<div class="col-4">
												<label>Social Course Exam Date <span
														class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Social Course Exam Date"
													matTooltipClass="tooltip-text-size"
													aria-tooltip="Social Course Exam Date"
													matTooltipPosition="right"></i>
												<input type="text" formControlName="social_exam_date"
													class="form-control" placeholder="Social Course Exam Date"
													[class.is-invalid]="sf.social_exam_date.invalid &&
													sf.social_exam_date.touched" matInput [matDatepicker]="social_exam_date" (click)="social_exam_date.open()"
													style="width:85%; float:left;">
												<mat-datepicker-toggle matSuffix [for]="social_exam_date"
													style="float:left;"></mat-datepicker-toggle>
												<mat-datepicker #social_exam_date></mat-datepicker>
												<div *ngIf="sf.social_exam_date.errors" class="invalid-feedback">
													<div *ngIf="sf.social_exam_date.errors.required">Social Course Exam
														Date cannot be blank.</div>
												</div>
											</div>

											<div class="col-4">
												<label>Upload the Social Exam <span class="text-danger">*</span></label>
												<i class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Social Exam" matTooltipClass="tooltip-text-size"
													aria-tooltip="Social Exam" matTooltipPosition="right"></i>
												<input type="file" formControlname="social_exam"
													(change)="social_examfileChange($event)">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>

												<div *ngIf="social_exam_file" class="file-border-box">

													<ng-container *ngIf="!standardFormDetails.id">{{ social_exam_file }}
													</ng-container>
													<a href="javascript:void(0);" *ngIf="standardFormDetails.id"
														(click)="downloadstdFile(standardFormDetails.id,'social',social_exam_file);open(downloading)"><i
															class="fa fa-download"></i>{{ social_exam_file }}</a>
													<a href="javascript:void(0);" (click)="removesocial_examFiles()"
														style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
												</div>

												<div *ngIf="social_exam_fileErrors" class="validationerror">
													{{ social_exam_fileErrors }}
												</div>
											</div>


										</div>
										<div class="form-group row">
											<div class="col-4">
												<label>Witness Date</label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Witness Date" matTooltipClass="tooltip-text-size"
													aria-tooltip="Witness Date" matTooltipPosition="right"></i>
												<input type="text" formControlName="witness_date" class="form-control"
													placeholder="Witness Date" [max]="minDate" [class.is-invalid]="sf.witness_date.invalid &&
													sf.witness_date.touched" matInput [matDatepicker]="witness_date" (click)="witness_date.open()"
													style="width:85%; float:left;">
												<mat-datepicker-toggle matSuffix [for]="witness_date"
													style="float:left;"></mat-datepicker-toggle>
												<mat-datepicker #witness_date></mat-datepicker>
												<div *ngIf="sf.witness_date.errors" class="invalid-feedback">
													<div *ngIf="sf.witness_date.errors.required">Witness Date cannot be
														blank.</div>
												</div>
											</div>

											<div class="col-4">
												<label>Upload the Witness</label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Upload the Witness" matTooltipClass="tooltip-text-size"
													aria-tooltip="Upload the Witness" matTooltipPosition="right"></i>
												<input type="file" formControlname="witness_file"
													(change)="witnessfileChange($event)">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>

												<div *ngIf="witness_file" class="file-border-box">
													<ng-container *ngIf="!standardFormDetails.id">{{ witness_file }}
													</ng-container>
													<a href="javascript:void(0);" *ngIf="standardFormDetails.id"
														(click)="downloadstdFile(standardFormDetails.id,'witness',witness_file);open(downloading)"><i
															class="fa fa-download"></i>{{ witness_file }}</a>
													<a href="javascript:void(0);" (click)="removestd_witnessFiles()"
														style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
													<!---->
												</div>

												<div *ngIf="witness_fileErrors" class="validationerror">
													{{ witness_fileErrors }}
												</div>
											</div>
											<!--<div class="col-4">
													<label>Valid Until</label>
													<input type="text" formControlName="witness_valid_until"  class="form-control" placeholder="Valid Until Date *" [class.is-invalid]="sf.witness_valid_until.invalid &&
													sf.witness_valid_until.touched" matInput [matDatepicker]="witness_valid_until" (click)="witness_valid_until.open()" style="width:85%; float:left;">
													<mat-datepicker-toggle matSuffix  [for]="witness_valid_until" style="float:left;"></mat-datepicker-toggle>
														<mat-datepicker #witness_valid_until></mat-datepicker>
													<div *ngIf="sf.witness_valid_until.errors" class="invalid-feedback">
														<div *ngIf="sf.witness_valid_until.errors.required">Witness Valid Until cannot be blank.</div>
													</div>
												</div>

												<div class="col-4">
													<label>Witness Comment</label>
													<textarea  rows="3" formControlName="witness_comment" [class.is-invalid]="sf.witness_comment.invalid && sf.witness_comment.touched" placeholder="Comments *" class="form-control" ></textarea>
													<div *ngIf="sf.witness_comment.errors" class="invalid-feedback">
														<div *ngIf="sf.responsibility.witness_comment.required">Witness comment cannot be blank.</div>
													</div>

												</div>-->

										</div>
										<div class="form-group row">
											<div class="col-lg-12 text-center mt-4 ">
												<button (click)="onStandardSubmit()"
													[disabled]="loadingArr['standardForm'] || buttonDisable"
													class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
													<span *ngIf="loadingArr['standardForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Save
												</button>

												<button style="float:right;" *ngIf="standardFormDetails.id"
													(click)="open(confirmSendToApproval,'standard')"
													[disabled]="loadingArr['standardForm'] || buttonDisable"
													class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
													<span *ngIf="loadingArr['standardForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Send for Approval
												</button>
											</div>
										</div>
									</div>
								</form>
							</mat-tab>
							<mat-tab label="Waiting for Approval ({{standard_approvalwaitingEntries?.length}})">
								<div class="tbl-sec pl-0 pr-0">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Standard</th>
												<th scope="col">Standard Exam Date</th>
												<th scope="col">Standard Exam File</th>
												<th scope="col">Recycle Exam Date</th>
												<th scope="col">Recycle Exam File</th>
												<th scope="col">Social Exam Date</th>
												<th scope="col">Social Exam File</th>
												<th scope="col" style="width:10%;" class="center"
													*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('standard_approval')">
													Review</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="standard_approvalwaitingEntries?.length==0">
												<td colspan="9" class="center">No Standard Waiting for Approval</td>
											</tr>
											<tr *ngFor="let standard of standard_approvalwaitingEntries; let i=index; ">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ standard.standard_name }}</td>
												<td class="center">{{ standard.standard_exam_date }}</td>
												<td class="center"><a href="javascript:void(0);"
														(click)="downloadstdFile(standard.id,'standard',standard.standard_exam_file);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="standard.standard_exam_file"></i> {{
														standard.standard_exam_file }}</a></td>
												<td>{{ standard.recycle_exam_date }}</td>
												<td><a href="javascript:void(0);"
														(click)="downloadstdFile(standard.id,'recycle',standard.recycle_exam_file);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="standard.recycle_exam_file"></i> {{
														standard.recycle_exam_file }}</a></td>
												<td>{{ standard.social_course_exam_date }}</td>
												<td><a href="javascript:void(0);"
														(click)="downloadstdFile(standard.id,'social',standard.social_course_exam_file);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="standard.social_course_exam_file"></i> {{
														standard.social_course_exam_file }}</a></td>
												<td class="center"
													*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('standard_approval')">
													<a href="javascript:void(0);" title="Review Standard"
														alt="Review Standard"
														(click)="openreviewmodel(approverStandardConfirmContent,'standard',standard.id,'Standard')"><i
															class="fa fa-check" style="font-size: 20px;"></i></a></td>
											</tr>
										</tbody>
									</table>
								</div>
							</mat-tab>
							<mat-tab label="Approved ({{standard_approvedEntries?.length}})">
								<div class="tbl-sec pl-0 pr-0" style="overflow: auto;">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col" class="center">Standard</th>
												<th scope="col" class="center">Standard Exam Date</th>
												<th scope="col" *ngIf='userType!=3'>Standard Exam File</th>
												<th scope="col" class="center">Witness Date</th>
												<th scope="col" *ngIf='userType!=3'>Witness File</th>
												<th scope="col" class="center">Witness Valid Until</th>
												<th scope="col" class="center">Pre Qualification</th>
												<th scope="col" class="center" *ngIf='userType!=3'>Pre Qualification
													File</th>
												<th scope="col" *ngIf='userType!=3'>More Details</th>
												<!-- <th scope="col">Recycle Exam Date</th>
													<th scope="col">Recycle Exam File</th>
													<th scope="col">Social Exam Date</th>
													<th scope="col">Social Exam File</th> -->
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="standard_approvedEntries?.length==0">
												<td colspan="8" class="center">No Standard Approved</td>
											</tr>
											<tr *ngFor="let standard of standard_approvedEntries; let i=index; ">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ standard.standard_name }}</td>
												<td class="center">{{ standard.standard_exam_date }}</td>
												<td class="center" *ngIf='userType!=3'><a href="javascript:void(0);"
														(click)="downloadstdFile(standard.id,'standard',standard.standard_exam_file);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="standard.standard_exam_file"></i> {{
														standard.standard_exam_file }}</a></td>
												<td class="center">{{ standard.witness_date }}</td>
												<td class="center" *ngIf='userType!=3'><a href="javascript:void(0);"
														(click)="downloadstdFile(standard.id,'witness',standard.witness_file);openmodal(downloading)"><i
															class="fa fa-download" *ngIf="standard.witness_file"></i> {{
														standard.witness_file }}</a></td>
												<td class="center">{{ standard.witness_valid_until }}</td>
												<td class="center">{{standard.pre_qualification}}</td>
												<td class="center" *ngIf='userType!=3'><a href="javascript:void(0);"
														(click)="downloadstdFile(standard.id,'qua_exam',standard.qua_exam_file);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="standard.qua_exam_file"></i>{{standard.qua_exam_file}}</a>
												</td>
												<td class="center" *ngIf='userType!=3'>
													<a href="javascript:void(0);"
														(click)="showApprovedStdDetails(StdDetails,i)" title="View"
														alt="View"><i class="fa fa-eye"></i></a>

													<a href="javascript:void(0);" class="pl-2"
														(click)="editStandardFiles(StandardFileDetails,i)"
														title="Edit Files" alt="Edit Files"><i
															class="fa fa-edit"></i></a>

													<a *ngIf="standard.rejected_history?.length > 0"
														href="javascript:void(0);" class="pl-2"
														(click)="showApprovedStdHistoryDetails(StandardRejectDetails,i)"
														title="Rejected History" alt="Rejected History"><i
															class="fa fa-flag"></i></a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</mat-tab>
							<mat-tab label="Rejected ({{standard_rejectedEntries?.length}})">
								<div class="tbl-sec pl-0 pr-0">
									<form [formGroup]="standardRejectionForm">
										<table id="datatable" class="table table-bordered tab-bor col-12">
											<thead>
												<tr>
													<th scope="col" width="6%" class="center">S.No</th>
													<th scope="col">Standard</th>
													<th scope="col">Standard Exam Date</th>
													<th scope="col">Standard Exam File</th>
													<th scope="col">Witness Date</th>
													<th scope="col">Witness File</th>
													<th scope="col" class="center">Pre Qualification</th>
													<th scope="col" class="center">Pre Qualification File</th>
													<!--<th scope="col">Witness Valid Until</th>-->

													<!-- <th scope="col">Recycle Exam Date</th>
													<th scope="col">Recycle Exam File</th>
													<th scope="col">Social Exam Date</th>
													<th scope="col">Social Exam File</th> -->
													<th scope="col">Action</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngIf="standard_rejectedEntries?.length==0">
													<td colspan="8" class="center">No Standard Rejected</td>
												</tr>
												<tr *ngFor="let standard of standard_rejectedEntries; let i=index; "
													[class.currentedit]="this.rejStandardIndex===i">
													<td scope="row" class="center">{{ 1+ i }}</td>
													<td>{{ standard.standard_name }}</td>
													<td class="center">{{ standard.standard_exam_date }}</td>
													<td class="center"><a href="javascript:void(0);"
															(click)="downloadstdFile(standard.id,'standard',standard.standard_exam_file);openmodal(downloading)"><i
																class="fa fa-download"
																*ngIf="standard.standard_exam_file"></i> {{
															standard.standard_exam_file }}</a></td>
													<td class="center">{{ standard.witness_date }}</td>
													<td class="center"><a href="javascript:void(0);"
															(click)="downloadstdFile(standard.id,'witness',standard.witness_file);openmodal(downloading)"><i
																class="fa fa-download"
																*ngIf="standard.witness_file"></i> {{
															standard.witness_file }}</a></td>
													<td class="center">{{ standard.pre_qualification }}</td>
													<td class="center"><a href="javascript:void(0);"
															(click)="downloadstdFile(standard.id,'qua_exam',standard.qua_exam_file);openmodal(downloading)"><i
																class="fa fa-download"
																*ngIf="standard.qua_exam_file"></i> {{
															standard.qua_exam_file }}</a></td>
													<!--<td class="center">{{ standard.witness_valid_until }}</td>-->
													<!-- <td>{{ standard.recycle_exam_date }}</td>
														<td><a href="javascript:void(0);" (click)="downloadstdFile(standard.id,'recycle',standard.recycle_exam_file);openmodal(downloading)" ><i class="fa fa-download" *ngIf="standard.recycle_exam_file"></i>{{ standard.recycle_exam_file }}</a></td>
														<td>{{ standard.social_course_exam_date }}</td>
														<td><a href="javascript:void(0);" (click)="downloadstdFile(standard.id,'social',standard.social_course_exam_file);openmodal(downloading)" ><i class="fa fa-download" *ngIf="standard.social_course_exam_file"></i>{{ standard.social_course_exam_file }}</a></td> -->


													<td class="center">
														<a href="javascript:void(0);" (click)="editStandardRejection(i)"
															title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
														<a href="javascript:void(0);"
															(click)="showRejectedStdDetails(StdDetails,i)" title="View"
															alt="View"><i class="fa fa-eye"></i></a>
														<a *ngIf="standard.rejected_history?.length > 0"
															href="javascript:void(0);" class="pl-2"
															(click)="showRejectedStdHistoryDetails(StandardRejectDetails,i)"
															title="Reject History" alt="Reject History"><i
																class="fa fa-flag"></i></a>
													</td>
												</tr>
											</tbody>
										</table>
										<div *ngIf="stdrejdetails">
											<div class="form-group row">
												<div class="col-4">
													<label>PreQualification<span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="PreQualification"
														matTooltipClass="tooltip-text-size" aria-tooltip="Last Name"
														matTooltipPosition="right"></i>
													<input type="text" formControlName="pre_qualification"
														[class.is-invalid]="srf.pre_qualification.invalid && srf.pre_qualification.touched"
														class="form-control" placeholder="PreQualification">
													<div *ngIf="srf.pre_qualification.errors" class="invalid-feedback">
														<div *ngIf="srf.pre_qualification.errors.required">Pre
															Qualification is required</div>
													</div>
												</div>


												<div class="col-8">
													<label>Upload the PreQualification File<span
															class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Pre Qualification File"
														matTooltipClass="tooltip-text-size"
														aria-tooltip="Pre Qualification File"
														matTooltipPosition="right"></i>
													<input type="file" formControlname="qua_exam_file"
														(change)="rejqua_examfileChange($event)">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>

													<div *ngIf="rejqua_exam_file" class="file-border-box">

														<a href="javascript:void(0);"
															(click)="downloadstdFile(stdrejdetails.id,'qua_exam',rejqua_exam_file);open(downloading)"><i
																class="fa fa-download"></i> {{ rejqua_exam_file }}</a>
														<a href="javascript:void(0);" (click)="rejremovequa_examFiles()"
															style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
													</div>

													<div *ngIf="rejqua_examfileErrors" class="validationerror">
														{{ rejqua_examfileErrors }}
													</div>
												</div>
											</div>
											<div class="form-group row">
												<div class="col-12">
													<label>Standard: </label>
													{{ stdrejdetails.standard_name }}
												</div>
												<div class="col-4">
													<label>Standard Exam Date <span class="text-danger">*</span></label>
													<input type="text" formControlName="std_exam_date"
														class="form-control" placeholder="Standard Exam Date *"
														[class.is-invalid]="srf.std_exam_date.invalid &&
													srf.std_exam_date.touched" matInput [matDatepicker]="rejstd_exam_date" (click)="rejstd_exam_date.open()"
														style="width:85%; float:left;">
													<mat-datepicker-toggle matSuffix [for]="rejstd_exam_date"
														style="float:left;"></mat-datepicker-toggle>
													<mat-datepicker #rejstd_exam_date></mat-datepicker>
													<div *ngIf="srf.std_exam_date.errors" class="invalid-feedback">
														<div *ngIf="srf.std_exam_date.errors.required">Standard Exam
															Date cannot be blank.</div>
													</div>
												</div>

												<div class="col-4">
													<label>Upload the Standard Exam <span
															class="text-danger">*</span></label>
													<input type="file" formControlname="std_exam"
														(change)="rejstd_examfileChange($event)">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>

													<div *ngIf="rejstd_exam_file" class="file-border-box">
														<a href="javascript:void(0);"
															(click)="downloadstdFile(stdrejdetails.id,'standard',rejstd_exam_file);open(downloading)"><i
																class="fa fa-download"></i> {{ rejstd_exam_file }}</a>
														<a href="javascript:void(0);" (click)="rejremovestd_examFiles()"
															style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
													</div>

													<div *ngIf="rejstd_examfileErrors" class="validationerror">
														{{ rejstd_examfileErrors }}
													</div>
												</div>
											</div>



											<div class="form-group row" *ngIf="rejshowRecycle">
												<div class="col-4">
													<label>Recycle Exam Date <span class="text-danger">*</span></label>
													<input type="text" formControlName="recycle_exam_date"
														class="form-control" placeholder="Recycle Exam Date *"
														[class.is-invalid]="srf.recycle_exam_date.invalid &&
													srf.recycle_exam_date.touched" matInput [matDatepicker]="rejrecycle_exam_date"
														(click)="rejrecycle_exam_date.open()"
														style="width:85%; float:left;">
													<mat-datepicker-toggle matSuffix [for]="rejrecycle_exam_date"
														style="float:left;"></mat-datepicker-toggle>
													<mat-datepicker #rejrecycle_exam_date></mat-datepicker>
													<div *ngIf="srf.recycle_exam_date.errors" class="invalid-feedback">
														<div *ngIf="srf.recycle_exam_date.errors.required">Recycle Exam
															Date cannot be blank.</div>
													</div>

												</div>

												<div class="col-4">
													<label>Upload the Recycle Exam <span
															class="text-danger">*</span></label>
													<input type="file" formControlname="recycle_exam"
														(change)="rejrecycle_examfileChange($event)">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>

													<div *ngIf="rejrecycle_exam_file" class="file-border-box">
														<a href="javascript:void(0);"
															(click)="downloadstdFile(stdrejdetails.id,'recycle',rejrecycle_exam_file);open(downloading);"><i
																class="fa fa-download"></i> {{ rejrecycle_exam_file
															}}</a>
														<a href="javascript:void(0);"
															(click)="rejremoverecycle_examFiles()"
															style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
													</div>

													<div *ngIf="rejrecycle_examfileErrors" class="validationerror">
														{{ rejrecycle_examfileErrors }}
													</div>

												</div>


											</div>

											<div class="form-group row" *ngIf="rejshowSocial">
												<div class="col-4">
													<label>Social Course Exam Date</label>
													<input type="text" formControlName="social_exam_date"
														class="form-control" placeholder="Social Course Exam Date *"
														[class.is-invalid]="srf.social_exam_date.invalid &&
													srf.social_exam_date.touched" matInput [matDatepicker]="rejsocial_exam_date"
														(click)="rejsocial_exam_date.open()"
														style="width:85%; float:left;">
													<mat-datepicker-toggle matSuffix [for]="rejsocial_exam_date"
														style="float:left;"></mat-datepicker-toggle>
													<mat-datepicker #rejsocial_exam_date></mat-datepicker>
													<div *ngIf="srf.social_exam_date.errors" class="invalid-feedback">
														<div *ngIf="srf.social_exam_date.errors.required">Social Course
															Exam Date cannot be blank.</div>
													</div>
												</div>

												<div class="col-4">
													<label>Upload the Social Exam</label>
													<input type="file" formControlname="social_exam"
														(change)="rejsocial_examfileChange($event)">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>

													<div *ngIf="rejsocial_exam_file" class="file-border-box">
														<a href="javascript:void(0);"
															(click)="downloadstdFile(stdrejdetails.id,'social',rejsocial_exam_file);open(downloading)"><i
																class="fa fa-download"></i> {{ rejsocial_exam_file
															}}</a>
														<a href="javascript:void(0);"
															(click)="rejremovesocial_examFiles()"
															style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
													</div>

													<div *ngIf="rejsocial_exam_fileErrors" class="validationerror">
														{{ rejsocial_exam_fileErrors }}
													</div>
												</div>


											</div>
											<div class="form-group row">
												<div class="col-4">
													<label>Witness Date</label>
													<input type="text" formControlName="witness_date"
														class="form-control" placeholder="Witness Date *"
														[class.is-invalid]="srf.witness_date.invalid &&
													srf.witness_date.touched" matInput [matDatepicker]="rejwitness_date" [max]="minDate"
														(click)="rejwitness_date.open()" style="width:85%; float:left;">
													<mat-datepicker-toggle matSuffix [for]="rejwitness_date"
														style="float:left;"></mat-datepicker-toggle>
													<mat-datepicker #rejwitness_date></mat-datepicker>
													<div *ngIf="srf.witness_date.errors" class="invalid-feedback">
														<div *ngIf="srf.witness_date.errors.required">Witness Date
															cannot be blank.</div>
													</div>
												</div>

												<div class="col-4">
													<label>Upload the Witness</label>
													<input type="file" formControlname="witness_file"
														(change)="rejwitnessfileChange($event)">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>

													<div *ngIf="rejwitness_file" class="file-border-box">
														<a href="javascript:void(0);"
															(click)="downloadstdFile(stdrejdetails.id,'witness',rejwitness_file);open(downloading)"><i
																class="fa fa-download"></i> {{ rejwitness_file }}</a>
														<a href="javascript:void(0);"
															(click)="rejremovestd_witnessFiles()"
															style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
													</div>

													<div *ngIf="rejwitness_fileErrors" class="validationerror">
														{{ rejwitness_fileErrors }}
													</div>
												</div>
											</div>
											<div class="form-group row">
												<div class="col-lg-12 text-center mt-4 ">
													<button (click)="onRejectionStandardSubmit()"
														[disabled]="loadingArr['standardForm'] || buttonDisable"
														class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
														<span *ngIf="loadingArr['standardForm']"
															class="spinner-border spinner-border-sm mr-1"></span>
														Update &amp; Send for Approval
													</button>
													&nbsp;&nbsp;
													<button [disabled]="loadingArr['standardForm'] || buttonDisable"
														type="button" (click)="resetUserForm('rejectionstandards')"
														class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
														<span *ngIf="loadingArr['standardForm']"
															class="spinner-border spinner-border-sm mr-1"></span>
														Cancel</button>

													<!--
													<button style="float:right;" (click)="open(confirmSendToApproval,'rejectionstandard')" [disabled]="loadingArr['standardForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
														<span *ngIf="loadingArr['standardForm']" class="spinner-border spinner-border-sm mr-1"></span>
														Send for Approval
													</button> -->
												</div>
											</div>
										</div>
									</form>
								</div>
							</mat-tab>
						</mat-tab-group>
					</div>
				</div>



				<div class="form-group"
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_business_group') || userType==3)) && business_sectors_status">
					<div class="card-box enq-view lst">
						<h3>Business Group</h3>
						<mat-tab-group>
							<mat-tab label="New ({{businessEntries?.length}})">
								<form [formGroup]="businessForm">
									<div class="tabDiv">

										<div class="form-group m-b-20">

											<div class="tbl-sec pl-0 pr-0">
												<table id="datatable" class="table table-bordered tab-bor col-12">
													<thead>
														<tr>
															<th scope="col" width="6%" class="center">S.No</th>
															<th scope="col">Standard</th>
															<th scope="col">Business Sector</th>
															<th scope="col">Business Sector Group</th>
															<th scope="col">Academic Qualification Available</th>
															<th scope="col">Exam File</th>
															<th scope="col">Technical Interview File</th>
															<th scope="col" width="10%" class="center"
																*ngIf='userType!=3'>Action</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngIf="businessEntries?.length==0">
															<td colspan="8" class="center">No Business Group Added</td>
														</tr>
														<ng-container
															*ngFor="let businessEntry of businessEntries; let i=index; ">
															<tr>
																<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																	scope="row" class="center">{{ 1+ i }}</td>
																<td
																	[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
																	{{ businessEntry.standard_name }}</td>
																<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																	class="center">{{ businessEntry.business_sector_name
																	}}</td>
																<td class="center">{{
																	businessEntry.business_sector_group_name_arr[0] }}
																</td>
																<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																	class="center">{{
																	businessEntry.academic_qualification_name }}</td>

																<td
																	[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
																	<a href="javascript:void(0);"
																		(click)="downloadbgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																			class="fa fa-download"
																			*ngIf="businessEntry.examfilename"></i> {{
																		businessEntry.examfilename }}</a></td>
																<td
																	[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
																	<a href="javascript:void(0);"
																		(click)="downloadbgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																			class="fa fa-download"
																			*ngIf="businessEntry.technicalfilename"></i>
																		{{ businessEntry.technicalfilename }}</a></td>
																<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																	class="center">
																	<a href="javascript:void(0);"
																		(click)="editBusiness(i)" title="Edit"
																		alt="Edit"> <i class="fa fa-edit"></i> </a>
																	&nbsp;&nbsp;
																	<a href="javascript:void(0);"
																		(click)="openConfirm(confirmAction,'delete',businessEntry.id,'business_group')"
																		title="Delete" alt="Delete"> <i
																			class="fa fa-trash text-danger"></i> </a>
																</td>
															</tr>
															<ng-container
																*ngIf="businessEntry.business_sector_group_name_arr.length>1">
																<tr
																	*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1;">
																	<td class="center">{{ bEntry }}</td>
																</tr>
															</ng-container>
														</ng-container>
													</tbody>
												</table>
												<div class="validationerror" *ngIf="businessErrors">Please add Business
													Group details</div>
											</div>
										</div>

										<div class="col-12 text-center" *ngIf="businessEntries?.length>0">
											<button style="float:right;"
												(click)="open(confirmSendToApproval,'businessgroup')"
												[disabled]="loadingArr['businessForm'] || buttonDisable"
												class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
												<span *ngIf="loadingArr['businessForm']"
													class="spinner-border spinner-border-sm mr-1"></span>
												Send for Approval
											</button>
											<div class="clearfix"></div>
										</div>

										<h3>{{ businessEditStatus ? 'Update':'Add'}} Business Group</h3>
										<div class="form-group row m-t-10 m-b-20">


											<div class="col-4">
												<label>Standard <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Standard" matTooltipClass="tooltip-text-size"
													aria-tooltip="Standard" matTooltipPosition="right"></i>
												<mat-select placeholder="-- Standard --"
													(selectionChange)="getBgsectorList($event.value)"
													formControlName="standard_id" class="form-control select2"
													[class.is-invalid]="bf.standard_id.invalid &&
														bf.standard_id.touched">
													<!--<mat-select-trigger>
															<span *ngIf="bf.standard_id.value?.length == 1" >{{bf.standard_id.value ? getSelectedValue('standard', bf.standard.value): ''}}</span>
															<span *ngIf="bf.standard_id.value?.length > 1" class="example-additional-selection">
																{{bf.standard_id.value.length}} {{ 'selected' }}
															</span>
															</mat-select-trigger> -->
													<mat-option *ngFor="let standards of standard_approvedEntries"
														[value]="standards.standard">{{standards.standard_name}}
													</mat-option>
												</mat-select>
												<div *ngIf="bf.standard_id.errors" class="invalid-feedback">
													<div *ngIf="bf.standard_id.errors.required"> Standard cannot be
														blank.</div>
												</div>
												<div *ngIf="sameStandardError" class="validationerror">
													<div *ngIf="sameStandardError"> {{ sameStandardError }}</div>
												</div>
											</div>



											<div class="col-4">
												<label>Business Sector <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Business Sector" matTooltipClass="tooltip-text-size"
													aria-tooltip="Business Sector" matTooltipPosition="right"></i>
												<mat-select placeholder="-- Business Sector --"
													(selectionChange)="getBgsectorgroupList($event.value)"
													formControlName="business_sector_id" class="form-control select2"
													[class.is-invalid]="bf.business_sector_id.invalid && bf.business_sector_id.touched">
													<!--<mat-select-trigger>
															<span *ngIf="bf.business_sector_id.value?.length == 1" >{{bf.business_sector_id.value ? getSelectedValue('business_sector_id', bf.business_sector_id.value): ''}}</span>
															<span *ngIf="bf.business_sector_id.value?.length > 1" class="example-additional-selection">
																{{bf.business_sector_id.value.length}} {{ 'selected' }}
															</span>
															</mat-select-trigger> -->
													<mat-option *ngFor="let bsector of bgsectorList"
														[value]="bsector.id">{{bsector.name}}</mat-option>
												</mat-select>
												<span *ngIf="loadingArr['bgSector']"
													class="spinner-border spinner-border-sm mr-1"></span>
												<div *ngIf="bf.business_sector_id.errors" class="invalid-feedback">
													<div *ngIf="bf.business_sector_id.errors.required">Business Sector
														is required</div>
												</div>
											</div>

											<div class="col-4">
												<label>Business Sector Group <span class="text-danger">*</span></label>
												<i class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Business Sector Group"
													matTooltipClass="tooltip-text-size"
													aria-tooltip="Business Sector Group" matTooltipPosition="right"></i>
												<mat-select placeholder="-- Business Sector Group --"
													formControlName="business_sector_group_id" multiple
													class="form-control select2"
													[class.is-invalid]="bf.business_sector_group_id.invalid && bf.business_sector_group_id.touched">
													<mat-select-trigger>
														<span
															*ngIf="bf.business_sector_group_id.value?.length == 1">{{bf.business_sector_group_id.value
															? getSelectedValue('business_sector_group_id_group',
															bf.business_sector_group_id.value): ''}}</span>
														<span *ngIf="bf.business_sector_group_id.value?.length > 1"
															class="example-additional-selection">
															{{bf.business_sector_group_id.value.length}} {{ 'selected'
															}}
														</span>
													</mat-select-trigger>
													<mat-option *ngFor="let bsectorgroup of bgsectorgroupList"
														[value]="bsectorgroup.id">{{bsectorgroup.group_code}}
													</mat-option>
												</mat-select>
												<span *ngIf="loadingArr['bgSectorGroup']"
													class="spinner-border spinner-border-sm mr-1"></span>
												<div *ngIf="bf.business_sector_group_id.errors"
													class="invalid-feedback">
													<div *ngIf="bf.business_sector_group_id.errors.required">Business
														Sector Group is required</div>
												</div>
											</div>
										</div>
										<div class="form-group row">
											<div class="col-7">
												<label style="float: left;padding-top:6px">Is there a related Academic
													qualification available for the applied business sector <span
														class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Is there a related Academic qualification available for the applied business sector"
													matTooltipClass="tooltip-text-size"
													aria-tooltip="Is there a related Academic qualification available for the applied business sector"
													matTooltipPosition="right"></i>
											</div>
											<div class="col-5">
												&nbsp;&nbsp;
												<select formControlName="academic_qualification"
													class="form-control select2" [class.is-invalid]="bf.academic_qualification.invalid &&
														bf.academic_qualification.touched" style="float: left; width:150px;">
													<option value="">-- Select --</option>
													<option value="1">Yes</option>
													<option value="2">No</option>
												</select>

												<div *ngIf="bf.academic_qualification.errors" class="invalid-feedback">
													<br>
													<div *ngIf="bf.academic_qualification.errors.required">Academic
														qualification available is required</div>
												</div>
											</div>
										</div>
										<div class="form-group row">
											<div class="col-6">
												<label>Technical Interview File <span
														class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Technical Interview File"
													matTooltipClass="tooltip-text-size"
													aria-tooltip="Technical Interview File"
													matTooltipPosition="right"></i>&nbsp;&nbsp;
												<input type="file" formControlname="technical_interview_file"
													(change)="businessFileChange($event,'technical')">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.userService.technicalvalidDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>
												<div *ngIf="technicalInterviewFileNames" class="file-border-box">
													{{ technicalInterviewFileNames }}
													<a href="javascript:void(0);"
														(click)="businessremoveFiles('technical')"
														style="color:red; font-weight:bold;">X</a>
												</div>
												<div *ngIf="uploadtechnicalErrors" class="validationerror">
													{{ uploadtechnicalErrors }}
												</div>
											</div>
											<div class="col-6" *ngIf="bf.academic_qualification.value==2">
												<label>Exam File <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Exam File" matTooltipClass="tooltip-text-size"
													aria-tooltip="Exam File" matTooltipPosition="right"></i>&nbsp;&nbsp;
												<input type="file" formControlname="exam_file"
													(change)="businessFileChange($event,'exam')">
												<div style="font-size:11px;">supported file formats:
													<span
														*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
														docs}}<span *ngIf="!last">, </span> </span>
												</div>
												<div *ngIf="examFileNames" class="file-border-box">
													{{ examFileNames }}
													<a href="javascript:void(0);" (click)="businessremoveFiles('exam')"
														style="color:red; font-weight:bold;">X</a>
												</div>
												<div *ngIf="uploadexamErrors" class="validationerror">
													{{ uploadexamErrors }}
												</div>
											</div>

										</div>
										<!--
													<div class="col-4" style="padding-top:10px;">
														<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addBusiness()"  >+Add Another Business Group</a>
													</div>
													-->

										<div class="col-12 text-center">
											<button [disabled]="loadingArr['businessForm'] || buttonDisable"
												(click)="addBusiness()"
												class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
												<span *ngIf="loadingArr['businessForm']"
													class="spinner-border spinner-border-sm mr-1"></span>
												{{ businessEditStatus ? 'Update':'Save'}}
											</button>
											<button [disabled]="loadingArr['businessForm'] || buttonDisable"
												type="button" (click)="resetUserForm('business_group')"
												class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
												<span *ngIf="loadingArr['businessForm']"
													class="spinner-border spinner-border-sm mr-1"></span>
												Reset</button>
											<div class="clearfix"></div>
										</div>



										<!--
											<div class="form-group row">
												<div class="col-lg-12 text-center mt-4 ">
													<button (click)="onBusinessSubmit()" [disabled]="loadingArr['businessForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
														<span *ngIf="loadingArr['businessForm']" class="spinner-border spinner-border-sm mr-1"></span>
														Save
													</button>

													<button style="float:right;" (click)="open(confirmSendToApproval,'businessgroup')" [disabled]="loadingArr['businessForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
														<span *ngIf="loadingArr['businessForm']" class="spinner-border spinner-border-sm mr-1"></span>
														Send for Approval
													</button>
												</div>

												
												
											</div>
											<div class="col-lg-12 error">
												Note: After completing your actions, please click "Submit" button to store the data.
											</div>
											-->

									</div>
								</form>
							</mat-tab>
							<mat-tab label="Waiting for Approval ({{business_approvalwaitingEntries?.length}})">
								<div class="form-group row m-b-20">

									<div class="tbl-sec">
										<table id="datatable" class="table table-bordered tab-bor col-12">
											<thead>
												<tr>
													<th scope="col" width="6%" class="center">S.No</th>
													<th scope="col">Standard</th>
													<th scope="col">Business Sector</th>
													<th scope="col">Business Sector Group</th>
													<th scope="col">Academic Qualification Available</th>
													<th scope="col">Exam File</th>
													<th scope="col">Technical Interview File</th>
													<th scope="col" style="width:10%;" class="center"
														*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('business_group_approval')">
														Review</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngIf="business_approvalwaitingEntries?.length==0">
													<td colspan="8" class="center">No Business Group Waiting for
														Approval</td>
												</tr>
												<ng-container
													*ngFor="let businessEntry of business_approvalwaitingEntries; let i=index; ">
													<tr>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															scope="row" class="center">{{ 1+ i }}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															{{ businessEntry.standard_name }}</td>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.business_sector_name }}</td>
														<td class="center">{{
															businessEntry.business_sector_group_name_arr[0] }}</td>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.academic_qualification_name
															}}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a *ngIf="businessEntry.academic_qualification!=1"
																href="javascript:void(0);"
																(click)="downloadbgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																	class="fa fa-download"
																	*ngIf="businessEntry.examfilename"></i> {{
																businessEntry.examfilename }}</a></td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a href="javascript:void(0);"
																(click)="downloadbgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																	class="fa fa-download"
																	*ngIf="businessEntry.technicalfilename"></i> {{
																businessEntry.technicalfilename }}</a></td>
														<td class="center"
															*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('business_group_approval')">
															<a href="javascript:void(0);" title="Review Business Group"
																alt="Review Business Group"
																(click)="openreviewmodel(approverConfirmContent,'businessgroup',businessEntry.business_sector_group_code_id[0],'Business Group')"><i
																	class="fa fa-check"
																	style="font-size: 20px;"></i></a></td>
													</tr>
													<ng-container
														*ngIf="businessEntry.business_sector_group_name_arr.length>1">
														<tr
															*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1; let ib=index;">
															<td class="center">{{ bEntry }}</td>
															<td class="center"
																*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('business_group_approval')">
																<a href="javascript:void(0);"
																	title="Review Business Group"
																	alt="Review Business Group"
																	(click)="openreviewmodel(approverConfirmContent,'businessgroup',businessEntry.business_sector_group_code_id[1+ib],'Business Group')"><i
																		class="fa fa-check"
																		style="font-size: 20px;"></i></a></td>
														</tr>
													</ng-container>
												</ng-container>
												<!--<tr *ngFor="let businessEntry of business_approvalwaitingEntries; let i=index; "  >
															<td scope="row" class="center">{{  1+ i }}</td>
															<td>{{ businessEntry.standard_name }}</td>
															<td class="center">{{ businessEntry.business_sector_name }}</td>
															<td class="center">{{ businessEntry.business_sector_group_name }}</td>
															<td><a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'exam',examFileNames[i]?.name);openmodal(downloading)" ><i class="fa fa-download" *ngIf="examFileNames[i]?.name"></i>{{ examFileNames[i]?.name }}</a></td>
															<td><a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'interview',technicalInterviewFileNames[i]?.name);openmodal(downloading)" ><i class="fa fa-download" *ngIf="examFileNames[i]?.name"></i>{{ technicalInterviewFileNames[i]?.name }}</a></td>
														</tr>-->
											</tbody>
										</table>
										<div class="validationerror" *ngIf="businessErrors">Please add Business Group
											details</div>
									</div>
								</div>
							</mat-tab>
							<mat-tab label="Approved ({{business_approvedEntries?.length}})">
								<div class="form-group row m-b-20">

									<div class="tbl-sec">
										<table id="datatable" class="table table-bordered tab-bor col-12">
											<thead>
												<tr>
													<th scope="col" width="6%" class="center">S.No</th>
													<th scope="col">Standard</th>
													<th scope="col" class="center">Business Sector</th>
													<th scope="col" class="center">Business Sector Group</th>
													<th scope="col" width="6%" *ngIf='userType!=3'>Academic
														Qualification Available</th>
													<th scope="col" *ngIf='userType!=3'>Exam File</th>
													<th scope="col" *ngIf='userType!=3'>Technical Interview File</th>
													<th scope="col" width="10%" *ngIf='userType!=3'>More Details</th>
													<th scope="col" *ngIf='userType!=3'>Action</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngIf="business_approvedEntries?.length==0">
													<td colspan="9" class="center">No Business Group Approved</td>
												</tr>
												<ng-container
													*ngFor="let businessEntry of business_approvedEntries; let i=index; ">
													<tr>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															scope="row" class="center">{{ 1+ i }}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															{{ businessEntry.standard_name }}</td>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.business_sector_name }}</td>
														<td class="center">{{
															businessEntry.business_sector_group_name_arr[0] }}</td>

														<td *ngIf='userType!=3'
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.academic_qualification_name
															}}</td>

														<td *ngIf='userType!=3'
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a href="javascript:void(0);"
																(click)="downloadbgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																	class="fa fa-download"
																	*ngIf="businessEntry.examfilename"></i> {{
																businessEntry.examfilename }}</a></td>
														<td *ngIf='userType!=3'
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a href="javascript:void(0);"
																(click)="downloadbgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																	class="fa fa-download"
																	*ngIf="businessEntry.technicalfilename"></i> {{
																businessEntry.technicalfilename }}</a></td>
														<td *ngIf='userType!=3' class="center">
															<a href="javascript:void(0);"
																(click)="showApprovedbgroupDetails(bgroupDetails,i,0)"
																title="View" alt="View"><i class="fa fa-eye"></i></a>

															<a href="javascript:void(0);"
																(click)="editBgroupDateDetails(BgroupDateDetails,i,businessEntry.business_sector_group_code_id[0],businessEntry.bscode_approval_date[0])"
																title="Edit Approval Date" class="pl-2"
																alt="Edit Approval Date"><i class="fa fa-edit"></i></a>

															<a *ngIf="businessEntry.rejected_history?.length > 0"
																href="javascript:void(0);" class="pl-2"
																(click)="showApprovedbgroupHistoryDetails(bgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[0]])"
																title="Rejected History" alt="Rejected History"><i
																	class="fa fa-flag"></i></a>

															<a href="javascript:void(0);" class="pl-2"
																(click)="openConfirm(confirmAction,'delete',businessEntry.id,'business_group_code',businessEntry.business_sector_group_code_id[0])"
																title="Delete" alt="Delete"> <i
																	class="fa fa-trash text-danger"></i> </a>
														</td>

														<td *ngIf='userType!=3' class="center"
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a href="javascript:void(0);"
																*ngIf="businessEntry.examfilename || businessEntry.technicalfilename"
																(click)="editBgroupDetails(BgroupFileDetails,i)"
																title="Edit Files" alt="Edit Files"><i
																	class="fa fa-edit"></i></a>
														</td>

													</tr>
													<ng-container
														*ngIf="businessEntry.business_sector_group_name_arr.length>1">
														<tr
															*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1;  let ie=index;">
															<td class="center">{{ bEntry }}</td>
															<td *ngIf='userType!=3' class="center">

																<a *ngIf='userType!=3' href="javascript:void(0);"
																	(click)="showApprovedbgroupDetails(bgroupDetails,i,1+ie)"
																	title="View" alt="View"><i
																		class="fa fa-eye"></i></a>


																<a *ngIf='userType!=3' href="javascript:void(0);"
																	(click)="editBgroupDateDetails(BgroupDateDetails,i,businessEntry.business_sector_group_code_id[1+ie],businessEntry.bscode_approval_date[1+ie])"
																	title="Edit Approval Date" class="pl-2"
																	alt="Edit Approval Date"><i
																		class="fa fa-edit"></i></a>

																<a *ngIf="businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]]?.length > 0 && userType!=3"
																	href="javascript:void(0);" class="pl-2"
																	(click)="showRejectedbgroupHistoryDetails(bgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]])"
																	title="Rejected History" alt="Rejected History"><i
																		class="fa fa-flag"></i></a>

																<a *ngIf='userType!=3' href="javascript:void(0);"
																	class="pl-2"
																	(click)="openConfirm(confirmAction,'delete',businessEntry.id,'business_group_code',businessEntry.business_sector_group_code_id[1+ie])"
																	title="Delete" alt="Delete"> <i
																		class="fa fa-trash text-danger"></i> </a>
															</td>
														</tr>
													</ng-container>
												</ng-container>
												<!--<tr *ngFor="let businessEntry of business_approvedEntries; let i=index; " >
															<td scope="row" class="center">{{  1+ i }}</td>
															<td>{{ businessEntry.standard_name }}</td>
															<td class="center">{{ businessEntry.business_sector_name }}</td>
															<td class="center">{{ businessEntry.business_sector_group_name }}</td>
															<td><a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'exam',examFileNames[i]?.name);openmodal(downloading)" ><i class="fa fa-download" *ngIf="examFileNames[i]?.name"></i>{{ examFileNames[i]?.name }}</a></td>
															<td><a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'interview',technicalInterviewFileNames[i]?.name);openmodal(downloading)" ><i class="fa fa-download" *ngIf="examFileNames[i]?.name"></i>{{ technicalInterviewFileNames[i]?.name }}</a></td>
														</tr>
													-->
											</tbody>
										</table>
										<div class="validationerror" *ngIf="businessErrors">Please add Business Group
											details</div>
									</div>
								</div>
							</mat-tab>
							<mat-tab label="Rejected ({{business_rejectedEntries?.length}})">
								<div class="form-group row m-b-20">

									<form [formGroup]="rejbusinessForm">
										<div class="tbl-sec">
											<table id="datatable" class="table table-bordered tab-bor col-12">
												<thead>
													<tr>
														<th scope="col" width="6%" class="center">S.No</th>
														<th scope="col">Standard</th>
														<th scope="col">Business Sector</th>
														<th scope="col">Business Sector Group</th>
														<th scope="col">Academic Qualification Available</th>
														<th scope="col">Exam File</th>
														<th scope="col">Technical Interview File</th>
														<th scope="col">More Details</th>
														<th scope="col">Action</th>
													</tr>
												</thead>
												<tbody>
													<tr *ngIf="business_rejectedEntries?.length==0">
														<td colspan="9" class="center">No Business Group Rejected</td>
													</tr>
													<ng-container
														*ngFor="let businessEntry of business_rejectedEntries; let i=index; ">
														<tr>
															<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																scope="row" class="center">{{ 1+ i }}</td>
															<td
																[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
																{{ businessEntry.standard_name }}</td>
															<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																class="center">{{ businessEntry.business_sector_name }}
															</td>
															<td class="center">{{
																businessEntry.business_sector_group_name_arr[0] }}</td>

															<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																class="center">{{
																businessEntry.academic_qualification_name }}</td>

															<td
																[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
																<a href="javascript:void(0);"
																	(click)="downloadbgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																		class="fa fa-download"
																		*ngIf="businessEntry.examfilename"></i> {{
																	businessEntry.examfilename }}</a></td>
															<td
																[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
																<a href="javascript:void(0);"
																	(click)="downloadbgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																		class="fa fa-download"
																		*ngIf="businessEntry.technicalfilename"></i> {{
																	businessEntry.technicalfilename }}</a></td>
															<td class="center">
																<a href="javascript:void(0);"
																	(click)="showRejectedbgroupDetails(bgroupDetails,i,0)"
																	title="View" alt="View"><i
																		class="fa fa-eye"></i></a>


																<a *ngIf="businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[0]]?.length > 0"
																	href="javascript:void(0);" class="pl-2"
																	(click)="showRejectedbgroupHistoryDetails(bgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[0]])"
																	title="Rejected History" alt="Rejected History"><i
																		class="fa fa-flag"></i></a>

															</td>
															<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																class="center">
																<a href="javascript:void(0);"
																	(click)="rejeditBusiness(i)" title="Edit"
																	alt="Edit"> <i class="fa fa-edit"></i> </a>


															</td>
														</tr>
														<ng-container
															*ngIf="businessEntry.business_sector_group_name_arr.length>1">
															<tr
																*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1; let ie=index;">
																<td class="center">{{ bEntry }}</td>
																<td class="center">
																	<a href="javascript:void(0);"
																		(click)="showRejectedbgroupDetails(bgroupDetails,i,1+ie)"
																		title="View" alt="View"><i
																			class="fa fa-eye"></i></a>

																	<a *ngIf="businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]]?.length > 0"
																		href="javascript:void(0);" class="pl-2"
																		(click)="showRejectedbgroupHistoryDetails(bgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]])"
																		title="Rejected History"
																		alt="Rejected History"><i
																			class="fa fa-flag"></i></a>
																</td>
															</tr>
														</ng-container>
													</ng-container>
													<!--<tr *ngFor="let businessEntry of business_rejectedEntries; let i=index; "   >
																<td scope="row" class="center">{{  1+ i }}</td>
																<td>{{ businessEntry.standard_name }}</td>
																<td class="center">{{ businessEntry.business_sector_name }}</td>
																<td class="center">{{ businessEntry.business_sector_group_name }}</td>
																<td><a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'exam',examFileNames[i]?.name);openmodal(downloading)" ><i class="fa fa-download" *ngIf="examFileNames[i]?.name"></i>{{ examFileNames[i]?.name }}</a></td>
																<td><a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'interview',technicalInterviewFileNames[i]?.name);openmodal(downloading)" ><i class="fa fa-download" *ngIf="examFileNames[i]?.name"></i>{{ technicalInterviewFileNames[i]?.name }}</a></td>
															</tr>-->
												</tbody>
											</table>
										</div>
										<div *ngIf="brejdetail">
											<div class="row col-12 prd-lab">
												<div class="col-4">
													<label>Standard: </label>
													{{ brejdetail.standard_name }}
												</div>



												<div class="col-4">
													<label>Business Sector: </label>
													{{ brejdetail.business_sector_name }}
												</div>

												<div class="col-4">
													<label>Business Sector Group:</label>
													{{ brejdetail.business_sector_group_name }}
													<!--<mat-select placeholder="Business Sector Group *" formControlName="business_sector_group_id" multiple class="form-control select2" [class.is-invalid]="bf.business_sector_group_id.invalid && bf.business_sector_group_id.touched">
																<mat-select-trigger>
																<span *ngIf="bf.business_sector_group_id.value?.length == 1" >{{bf.business_sector_group_id.value ? getSelectedValue('business_sector_group_id_group', bf.business_sector_group_id.value): ''}}</span>
																<span *ngIf="bf.business_sector_group_id.value?.length > 1" class="example-additional-selection">
																	{{bf.business_sector_group_id.value.length}} {{ 'selected' }}
																</span>
																</mat-select-trigger>
																<mat-option *ngFor="let bsectorgroup of bgsectorgroupList" [value]="bsectorgroup.id">{{bsectorgroup.group_code}}</mat-option>
															</mat-select>
															
															<div *ngIf="bf.business_sector_group_id.errors" class="invalid-feedback">
																<div *ngIf="bf.business_sector_group_id.errors.required" >Business Sector Group is required</div>
															</div>-->
												</div>
											</div>

											<div class="row col-12 prd-lab">
												<div class="col-7">
													<label style="float: left;padding-top:6px">Is there a related
														Academic qualification available for the applied business
														sector</label>
												</div>
												<div class="col-5">
													&nbsp;&nbsp;
													<select formControlName="academic_qualification"
														class="form-control select2" [class.is-invalid]="bf.academic_qualification.invalid &&
															bf.academic_qualification.touched" style="float: left; width:150px;">
														<option value="">-- Select --</option>
														<option value="1">Yes</option>
														<option value="2">No</option>
													</select>

													<div *ngIf="bf.academic_qualification.errors"
														class="invalid-feedback"><br>
														<div *ngIf="bf.academic_qualification.errors.required">Academic
															qualification available is required</div>
													</div>
												</div>
											</div>
											<div class="row col-12 prd-lab">
												<div class="col-6">
													<label>Technical Interview File <span
															class="text-danger">*</span></label>&nbsp;&nbsp;
													<input type="file" formControlname="technical_interview_file"
														(change)="rejbusinessFileChange($event,'technical')">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.userService.technicalvalidDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>
													<div *ngIf="rejtechnicalInterviewFileNames" class="file-border-box">
														<a
															(click)="downloadbgroupFile(brejdetail.id,'interview', rejtechnicalInterviewFileNames);openmodal(downloading)"><i
																class="fa fa-download"></i> {{
															rejtechnicalInterviewFileNames }} </a>
														<a href="javascript:void(0);"
															(click)="rejbusinessremoveFiles('technical')"
															style="color:red; font-weight:bold;">X</a>
													</div>
													<div *ngIf="rejuploadtechnicalErrors" class="validationerror">
														{{ rejuploadtechnicalErrors }}
													</div>
												</div>
												<div class="col-6" *ngIf="brf.academic_qualification.value==2">
													<label>Exam File <span
															class="text-danger">*</span></label>&nbsp;&nbsp;
													<input type="file" formControlname="exam_file"
														(change)="rejbusinessFileChange($event,'exam')">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>
													<div *ngIf="rejexamFileNames" class="file-border-box">
														<a
															(click)="downloadbgroupFile(brejdetail.id,'exam', rejexamFileNames);openmodal(downloading)"><i
																class="fa fa-download"></i> {{ rejexamFileNames }} </a>
														<a href="javascript:void(0);"
															(click)="rejbusinessremoveFiles('exam')"
															style="color:red; font-weight:bold;">X</a>
													</div>
													<div *ngIf="rejuploadexamErrors" class="validationerror">
														{{ rejuploadexamErrors }}
													</div>
												</div>

											</div>
										</div>


										<div class="form-group row" *ngIf="brejdetail">
											<div class="col-lg-12 text-center mt-4 ">
												<!-- rejonBusinessSubmit() -->
												<button *ngIf="business_rejectedEntries.length>0"
													(click)="rejaddBusiness()"
													[disabled]="loadingArr['businessForm'] || buttonDisable"
													class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
													<span *ngIf="loadingArr['businessForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Update &amp; Send for Approval
												</button>
												&nbsp;&nbsp;
												<button [disabled]="loadingArr['businessForm'] || buttonDisable"
													type="button" (click)="resetUserForm('rejbusiness_group')"
													class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
													<span *ngIf="loadingArr['businessForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Cancel</button>
												<!--
														<button *ngIf="business_rejectedEntries.length>0" style="float:right;" (click)="open(confirmSendToApproval,'rejbusinessgroup')" [disabled]="loadingArr['businessForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
															<span *ngIf="loadingArr['businessForm']" class="spinner-border spinner-border-sm mr-1"></span>
															Send for Approval
														</button>
														-->
											</div>

										</div>

									</form>




								</div>
							</mat-tab>
						</mat-tab-group>
					</div>
				</div>


				<div
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_qualification_details') || userType==3 || id==userdetails.uid)) && qualification_details_status">
					<form [formGroup]="qualificationForm">
						<div class="tabDiv">
							<h3>Academic</h3>
							<div class="form-group row">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Academic</th>
												<th scope="col">Board/University</th>
												<th scope="col">Title</th>
												<th scope="col" class="center">Start Year</th>
												<th scope="col" class="center">End Year</th>
												<th scope="col">Certificate</th>
												<th scope="col" width="10%" class="center">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="qualificationEntries?.length==0">
												<td colspan="7" class="center">No Academic Added</td>
											</tr>
											<tr *ngFor="let qualificationEntry of qualificationEntries; let i=index; "
												[class.currentedit]="this.qualificationIndex===i">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ qualificationEntry.qualification }}</td>
												<td>{{ qualificationEntry.university }}</td>
												<td>{{ qualificationEntry.subject }}</td>
												<td class="center">{{ qualificationEntry.start_year }}</td>
												<td class="center">{{ qualificationEntry.end_year }}</td>
												<td><a href="javascript:void(0);"
														(click)="downloadacademicFile(qualificationEntry.id,qualificationEntry.academic_certificate);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="qualificationEntry.academic_certificate"></i> {{
														qualificationEntry.academic_certificate }}</a></td>

												<td class="center">
													<a href="javascript:void(0);" (click)="editAcademic(i)" title="Edit"
														alt="Edit"> <i class="fa fa-edit"></i> </a>
													&nbsp;&nbsp;
													<!--<a href="javascript:void(0);" (click)="removeAcademic(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
													<a href="javascript:void(0);" *ngIf='userType!=3'
														(click)="openConfirm(confirmAction,'delete',qualificationEntry.id,'qualification')"
														title="Delete" alt="Delete"> <i
															class="fa fa-trash text-danger"></i> </a>

												</td>
											</tr>
										</tbody>
									</table>
									<div class="validationerror" *ngIf="qualificationErrors">Please add academic details
									</div>
								</div>
							</div>

							<h3>{{ qualificationEditStatus ? 'Update':'Add'}} Academic</h3>
							<div class="form-group row m-t-10">
								<div class="col-4">
									<label>Academic <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Academic"
										matTooltipClass="tooltip-text-size" aria-tooltip="Academic"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="qualification" class="form-control"
										placeholder="Academic" [class.is-invalid]="qf.qualification.invalid &&
										qf.qualification.touched">
									<div *ngIf="qf.qualification.errors" class="invalid-feedback">
										<div *ngIf="qf.qualification.errors.required">Academic cannot be blank.</div>
										<div
											*ngIf="qf.qualification.errors.pattern || qf.qualification.hasError('whitespace')">
											Invalid Academic</div>
									</div>
								</div>

								<div class="col-4">
									<label>Board/University <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Board/University" matTooltipClass="tooltip-text-size"
										aria-tooltip="Board/University" matTooltipPosition="right"></i>
									<input type="text" formControlName="university" class="form-control"
										placeholder="Board/University" [class.is-invalid]="qf.university.invalid &&
										qf.university.touched">
									<div *ngIf="qf.university.errors" class="invalid-feedback">
										<div *ngIf="qf.university.errors.required">Board/University cannot be blank.
										</div>
										<div
											*ngIf="qf.university.errors.pattern || qf.university.hasError('whitespace')">
											Invalid Board/University</div>
									</div>
								</div>

								<div class="col-4">
									<label>Title <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Title"
										matTooltipClass="tooltip-text-size" aria-tooltip="Title"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="subject" class="form-control"
										placeholder="Title" [class.is-invalid]="qf.subject.invalid &&
										qf.subject.touched">
									<div *ngIf="qf.subject.errors" class="invalid-feedback">
										<div *ngIf="qf.subject.errors.required">Title cannot be blank.</div>
										<div *ngIf="qf.subject.errors.pattern || qf.subject.hasError('whitespace')">
											Invalid Title</div>
									</div>
								</div>
							</div>
							<div class="form-group row">
								<!-- <div class="col-4">
										<label>Passing Year</label>
										<select formControlName="passingyear" class="form-control select2" [class.is-invalid]="qf.passingyear.invalid &&
										qf.passingyear.touched">
											<option value="" >-- Passing Year * --</option>
											<option *ngFor="let year of range" value= {{year}}>{{year}}</option>
										</select>
										<div *ngIf="qf.passingyear.errors" class="invalid-feedback">
											<div *ngIf="qf.passingyear.errors.required">Passing Year cannot be blank.</div>
										</div>
										
									</div> -->

								<div class="col-4">
									<label>Start Year <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Start Year"
										matTooltipClass="tooltip-text-size" aria-tooltip="Start Year"
										matTooltipPosition="right"></i>
									<select formControlName="start_year" (change)="academicStarYearChange($event)"
										class="form-control select2" [class.is-invalid]="qf.start_year.invalid &&
									qf.start_year.touched">
										<option value="">-- Start Year --</option>
										<option *ngFor="let year of range" value={{year}}>{{year}}</option>
									</select>
									<div *ngIf="qf.start_year.errors" class="invalid-feedback">
										<div *ngIf="qf.start_year.errors.required">Start Year cannot be blank.</div>
										<div *ngIf="qf.start_year.errors.minval">Start Year must be smaller than End
											year.</div>
									</div>
								</div>

								<div class="col-4">
									<label>End Year <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="End Year"
										matTooltipClass="tooltip-text-size" aria-tooltip="End Year"
										matTooltipPosition="right"></i>
									<select formControlName="end_year" class="form-control select2" [class.is-invalid]="qf.end_year.invalid &&
									qf.end_year.touched">
										<option value="">-- End Year --</option>
										<option *ngFor="let year of academicEndYearRange" value={{year}}>{{year}}
										</option>
									</select>
									<div *ngIf="qf.end_year.errors" class="invalid-feedback">
										<div *ngIf="qf.end_year.errors.required">End Year cannot be blank.</div>
									</div>
								</div>

								<div class="col-4">
									<label>Upload Certificate <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Upload Certificate" matTooltipClass="tooltip-text-size"
										aria-tooltip="Upload Certificate" matTooltipPosition="right"></i>
									<input type="file" formControlname="academic_certificate"
										(change)="academicfileChange($event)">
									<div style="font-size:11px;">supported file formats:
										<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
											docs}}<span *ngIf="!last">, </span> </span>
									</div>

									<div *ngIf="this.academicfilterFile(qualificationIndex)" class="file-border-box">
										{{ this.uploadedacademicFileNames }}
										<a href="javascript:void(0);" (click)="removeacademicFiles()"
											style="color:red; font-weight:bold;">X</a>
									</div>
									<div *ngIf="academic_certificateErrors" class="validationerror">
										{{ academic_certificateErrors }}
									</div>
								</div>

								<!-- <div class="col-4">
										<label>Grade</label>
										<input type="text" formControlName="percentage"  class="form-control" placeholder="Grade *" [class.is-invalid]="qf.percentage.invalid && qf.percentage.touched">
										<div *ngIf="qf.percentage.errors" class="invalid-feedback">
											<div *ngIf="qf.percentage.errors.required">Grade cannot be blank.</div>
											<div *ngIf="qf.percentage.errors.pattern">Invalid Grade.</div>
											<div *ngIf="qf.percentage.errors.max">Grade should be maximun 100.</div>
										</div>
									</div> -->

							</div>

							<div class="col-12 text-center">
								<button [disabled]="loadingArr['qualification'] || buttonDisable"
									(click)="addAcademic()"
									class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
									<span *ngIf="loadingArr['qualification']"
										class="spinner-border spinner-border-sm mr-1"></span>
									{{ qualificationEditStatus ? 'Update':'Save'}}
								</button>
								<button [disabled]="loadingArr['qualification'] || buttonDisable" type="button"
									(click)="resetUserForm('qualification')"
									class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
									<span *ngIf="loadingArr['qualification']"
										class="spinner-border spinner-border-sm mr-1"></span>
									Reset</button>
								<div class="clearfix"></div>
							</div>

							<!--
									<div class="row col-12 prd-lab">	
										<div class="col-3" style="padding-top:25px;">
											<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addAcademic()"  >+Add Academic</a>
										</div>
									</div>
									-->


							<!--
								<div class="form-group row">
									<div class="col-lg-12 text-center mt-4 ">
										<button [disabled]="loadingArr['qualification'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['qualification']" class="spinner-border spinner-border-sm mr-1"></span>
											Submit
										</button>
									</div>
								</div>
								<div class="col-lg-12 error">
									Note: After completing your actions, please click "Submit" button to store the data.
								</div>
								-->
						</div>
					</form>
				</div>
				<div
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_working_experience') || userType==3 || id==userdetails.uid)) && working_experience_status">
					<!--
							<form  [formGroup]="experienceForm" (ngSubmit)="onExperienceSubmit()"  >
							-->
					<form [formGroup]="experienceForm">
						<div class="tabDiv">
							<h3>Work Experience</h3>
							<div class="form-group row">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="5%" class="center">S.No</th>
												<th scope="col" width="14%">Company Name</th>
												<th scope="col" width="14%">Job Title</th>
												<th scope="col" width="40%">Responsibilities</th>
												<th scope="col" width="10%" class="center">From Date</th>
												<th scope="col" width="10%" class="center">To Date</th>
												<th scope="col" width="7%" class="center">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="experienceEntries?.length==0">
												<td colspan="7" class="center">No Experience Added</td>
											</tr>
											<tr *ngFor="let experienceEntry of experienceEntries; let i=index; "
												[class.currentedit]="this.experienceIndex===i">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ experienceEntry.experience }}</td>
												<td>{{ experienceEntry.job_title }}</td>
												<td>{{ experienceEntry.responsibility }}</td>
												<td class="center">{{ experienceEntry.exp_from_date }}</td>
												<td class="center">{{ experienceEntry.exp_to_date }}</td>
												<td class="center">
													<a href="javascript:void(0);" (click)="editExperience(i)"
														title="Edit" alt="Edit"><i class="fa fa-edit"></i></a>
													&nbsp;&nbsp;
													<!--<a href="javascript:void(0);" (click)="removeExperience(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
													<a href="javascript:void(0);" *ngIf='userType!=3'
														(click)="openConfirm(confirmAction,'delete',experienceEntry.id,'experience')"
														title="Delete" alt="Delete"><i
															class="fa fa-trash text-danger"></i></a>

												</td>
											</tr>
										</tbody>
									</table>
									<div class="validationerror" *ngIf="experienceErrors">Please add experience details
									</div>
								</div>

							</div>

							<h3>{{ experienceEditStatus ? 'Update':'Add'}} Work Experience</h3>
							<div class="form-group row m-t-10">

								<div class="col-3">
									<label>Company Name <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Company Name" matTooltipClass="tooltip-text-size"
										aria-tooltip="Company Name" matTooltipPosition="right"></i>
									<input type="text" formControlName="experience" class="form-control"
										placeholder="Company Name" [class.is-invalid]="ef.experience.invalid &&
										ef.experience.touched">
									<div *ngIf="ef.experience.errors" class="invalid-feedback">
										<div *ngIf="ef.experience.errors.required">Company Name cannot be blank.</div>
										<div
											*ngIf="ef.experience.errors.pattern || ef.experience.hasError('whitespace')">
											Invalid Company Name</div>
									</div>
								</div>

								<div class="col-3">
									<label>Job Title <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Job Title"
										matTooltipClass="tooltip-text-size" aria-tooltip="Job Title"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="job_title" class="form-control"
										placeholder="Job Title" [class.is-invalid]="ef.job_title.invalid &&
										ef.job_title.touched">
									<div *ngIf="ef.job_title.errors" class="invalid-feedback">
										<div *ngIf="ef.job_title.errors.required">Job Title cannot be blank.</div>
										<div *ngIf="ef.job_title.errors.pattern || ef.job_title.hasError('whitespace')">
											Invalid Job Title</div>
									</div>
								</div>

								<div class="col-3">
									<label>From Date <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="From Date"
										matTooltipClass="tooltip-text-size" aria-tooltip="From Date"
										matTooltipPosition="right"></i><br>
									<!--<input type="text" formControlName="exp_years"  class="form-control" placeholder="Year(s) *" [class.is-invalid]="ef.exp_years.invalid &&
										ef.exp_years.touched" >-->
									<input style="display:inline;width:120px;"
										[class.is-invalid]="ef.exp_from_date.invalid && ef.exp_from_date.touched"
										formControlName="exp_from_date" (dateChange)="checkExpDate('fromdate')"
										[max]="maxDate" matInput [matDatepicker]="exp_from_date"
										(click)="exp_from_date.open()" class="form-control" placeholder="From Date">
									<mat-datepicker-toggle matSuffix [for]="exp_from_date"></mat-datepicker-toggle>
									<mat-datepicker #exp_from_date></mat-datepicker>
									<div *ngIf="ef.exp_from_date.errors" class="invalid-feedback">
										<div *ngIf="ef.exp_from_date.errors.required">From Date cannot be blank.</div>
									</div>
								</div>
								<div class="col-3">
									<label>To Date <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="To Date"
										matTooltipClass="tooltip-text-size" aria-tooltip="To Date"
										matTooltipPosition="right"></i><br>
									<!--<input type="text" formControlName="exp_years"  class="form-control" placeholder="Year(s) *" [class.is-invalid]="ef.exp_years.invalid &&
										ef.exp_years.touched" >-->
									<input style="display:inline;width:120px;"
										[class.is-invalid]="ef.exp_to_date.invalid && ef.exp_to_date.touched"
										formControlName="exp_to_date" [min]="ef.exp_from_date.value" [max]="maxDate"
										matInput [matDatepicker]="exp_to_date" (click)="exp_to_date.open()"
										class="form-control" placeholder="To Date">
									<mat-datepicker-toggle matSuffix [for]="exp_to_date"></mat-datepicker-toggle>
									<mat-datepicker #exp_to_date></mat-datepicker>
									<div *ngIf="ef.exp_to_date.errors" class="invalid-feedback">
										<div *ngIf="ef.exp_to_date.errors.required">To Date cannot be blank.</div>
										<div *ngIf="ef.exp_to_date.errors.matDatepickerMin">To Date should be less than
											From Date.</div>
									</div>
								</div>

							</div>

							<div class="form-group row">
								<div class="col-12">
									<label>Responsibilities <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Responsibilities" matTooltipClass="tooltip-text-size"
										aria-tooltip="Responsibilities" matTooltipPosition="right"></i>
									<!--
										<input type="text" formControlName="responsibility"  class="form-control" placeholder="Responsibilities *" [class.is-invalid]="ef.responsibility.invalid &&
										ef.responsibility.touched">
										-->
									<textarea rows="3" formControlName="responsibility"
										[class.is-invalid]="ef.responsibility.invalid && ef.responsibility.touched"
										placeholder="Responsibilities" class="form-control"></textarea>
									<div *ngIf="ef.responsibility.errors" class="invalid-feedback">
										<div *ngIf="ef.responsibility.errors.required">Responsibilities cannot be blank.
										</div>
										<div
											*ngIf="ef.responsibility.errors.pattern || ef.responsibility.hasError('whitespace')">
											Invalid Responsibilities</div>
									</div>
								</div>
								<!--										
									<div class="col-4" style="padding-top:15px;">
										<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addExperience()"  >+Add Another Experience</a>
									</div>
									-->
							</div>

							<div class="col-12 text-center">
								<button [disabled]="loadingArr['experience'] || buttonDisable" (click)="addExperience()"
									class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
									<span *ngIf="loadingArr['experience']"
										class="spinner-border spinner-border-sm mr-1"></span>
									{{ experienceEditStatus ? 'Update':'Save'}}
								</button>
								<button [disabled]="loadingArr['experience'] || buttonDisable" type="button"
									(click)="resetUserForm('experience')"
									class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
									<span *ngIf="loadingArr['experience']"
										class="spinner-border spinner-border-sm mr-1"></span>
									Reset</button>
								<div class="clearfix"></div>
							</div>


							<!--	
								<div class="form-group row">
									<div class="col-lg-12 text-center mt-4 ">
										<button [disabled]="loadingArr['experience'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['experience']" class="spinner-border spinner-border-sm mr-1"></span>
											Submit
										</button>
										
			
										<div class="clearfix"></div>
										
									</div>
									
								</div>								
								
								<div class="col-lg-12 error">
									Note: After completing your actions, please click "Submit" button to store the data.
								</div>
								-->
						</div>
					</form>
				</div>

				<div
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_audit_experience') || userType==3 || id==userdetails.uid)) && inspection_audit_experience_status">
					<!--
							<form  [formGroup]="auditExpForm" (ngSubmit)="onAudExperienceSubmit()"  >
							-->
					<form [formGroup]="auditExpForm">
						<div class="tabDiv">
							<h3>Inspection/Audit Experience</h3>
							<div class="form-group row">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Standard</th>
												<th scope="col">Year</th>
												<th scope="col">Company</th>
												<th scope="col">Business Sector</th>
												<th scope="col">Role in Audit</th>
												<!-- <th scope="col" class="center">Process</th> -->
												<th scope="col">CB</th>
												<th scope="col">Days</th>
												<th scope="col" width="10%" class="center">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="auditexperienceEntries?.length==0">
												<td colspan="7" class="center">No Inspection/Audit Experience Added</td>
											</tr>
											<tr *ngFor="let audexperienceEntry of auditexperienceEntries; let i=index; "
												[class.currentedit]="this.auditexperienceIndex===i">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ audexperienceEntry.standard_name }}</td>
												<td>{{ audexperienceEntry.year }}</td>
												<td>{{ audexperienceEntry.company }}</td>
												<td>{{ audexperienceEntry.sector_name }}</td>
												<td>{{ audexperienceEntry.auditrolelist }}</td>
												<td>{{ audexperienceEntry.cb_name }}</td>
												<td>{{ audexperienceEntry.days }}</td>
												<td class="center">
													<a href="javascript:void(0);" (click)="editauditExperience(i)"
														title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
													&nbsp;&nbsp;
													<!--<a href="javascript:void(0);" (click)="removeaudExperience(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
													<a href="javascript:void(0);" *ngIf='userType!=3'
														(click)="openConfirm(confirmAction,'delete',audexperienceEntry.id,'audit_experience')"
														title="Delete" alt="Delete"> <i
															class="fa fa-trash text-danger"></i> </a>

												</td>
											</tr>
										</tbody>
									</table>
									<div class="validationerror" *ngIf="auditexperienceErrors">Please add Audit
										Experience details</div>
								</div>
							</div>

							<h3>{{ audexperienceEditStatus ? 'Update':'Add'}} Inspection/Audit Experience </h3>
							<div class="form-group row m-t-10">
								<div class="col-2">
									<label>Audit Standard <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Standard"
										matTooltipClass="tooltip-text-size" aria-tooltip="Standard"
										matTooltipPosition="right"></i>
									<select formControlName="standard" class="form-control select2" [class.is-invalid]="aef.standard.invalid &&
										aef.standard.touched">
										<option value="">-- Standard --</option>
										<option *ngFor="let standard of userData.auditstandardlist"
											value={{standard.id}}>{{standard.standard_name}}</option>
									</select>
									<div *ngIf="aef.standard.errors" class="invalid-feedback">
										<div *ngIf="aef.standard.errors.required"> Standard cannot be blank.</div>
									</div>
								</div>

								<div class="col-2">

									<label>Bussiness Sectors <span class="text-danger">*</span></label>
									<i class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Business Sector" matTooltipClass="tooltip-text-size"
										aria-tooltip="Business Sector" matTooltipPosition="right"></i>
									<select formControlName="business_sector" class="form-control select2"
										[class.is-invalid]="aef.business_sector.invalid &&
										aef.business_sector.touched">
										<option value="">-- Business Sector --</option>
										<option *ngFor="let bsec of userData.listbusinesssector" value={{bsec.name}}>
											{{bsec.name}}</option>
									</select>
									<div *ngIf="aef.business_sector.errors" class="invalid-feedback">
										<div *ngIf="aef.business_sector.errors.required"> Business Sector cannot be
											blank.</div>
									</div>
								</div>




								<div class="col-8">
									<label>Company <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Company"
										matTooltipClass="tooltip-text-size" aria-tooltip="Company"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="company" class="form-control"
										placeholder="Company" [class.is-invalid]="aef.company.invalid &&
										aef.company.touched">
									<div *ngIf="aef.company.errors" class="invalid-feedback">
										<div *ngIf="aef.company.errors.required">Company cannot be blank.</div>
										<div *ngIf="aef.company.errors.pattern || aef.company.hasError('whitespace')">
											Invalid Company</div>
									</div>
								</div>
							</div>


							<div class="form-group row">
								<!--<div class="col-4">
										<label>Process</label>
										<mat-select placeholder="Process *" formControlName="process" multiple class="form-control select2" [class.is-invalid]="aef.process.invalid &&
										aef.process.touched">
											<mat-select-trigger>
											<span *ngIf="aef.process.value?.length == 1" >{{aef.process.value ?  getSelectedValue('process',aef.process.value) : ''}}</span>
											<span *ngIf="aef.process.value?.length > 1" class="example-additional-selection">
												{{aef.process.value.length}} {{ 'selected' }}
											</span>
											</mat-select-trigger>
											<mat-select-search formControlName="processFilterCtrl" ></mat-select-search>
											<mat-option *ngFor="let processd of filteredprocessMulti | async" [value]="processd.id">{{processd.name}}</mat-option>
										</mat-select>
										<div *ngIf="aef.process.errors" class="invalid-feedback">
											<div *ngIf="aef.process.errors.required"> Process cannot be blank.</div>
										</div>
									</div>
								-->
								<div class="col-4">
									<label>CB <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="CB"
										matTooltipClass="tooltip-text-size" aria-tooltip="CB"
										matTooltipPosition="right"></i>
									<select formControlName="cb" class="form-control select2" [class.is-invalid]="aef.cb.invalid &&
										aef.cb.touched">
										<option value="">-- CB --</option>
										<option *ngFor="let cb of cbList" value={{cb.id}}>{{cb.name}}</option>
									</select>
									<div *ngIf="aef.cb.errors" class="invalid-feedback">
										<div *ngIf="aef.cb.errors.required">CB cannot be blank.</div>
									</div>
								</div>
								<div class="col-4">
									<label>Days <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Days"
										matTooltipClass="tooltip-text-size" aria-tooltip="Days"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="days" class="form-control" placeholder="Days"
										[class.is-invalid]="aef.days.invalid &&
										aef.days.touched">
									<div *ngIf="aef.days.errors" class="invalid-feedback">
										<div *ngIf="aef.days.errors.required">Days cannot be blank.</div>
										<div *ngIf="aef.days.errors.pattern || aef.days.hasError('whitespace')">Invalid
											Days</div>
									</div>
								</div>
								<!--
									<div class="col-4">
										<a style="margin-top:22px;" class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addaudExperience()"  >+Add Another Inspection/Audit Experience</a>
									</div>	
									-->

								<div class="col-2">
									<label>Year <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Year"
										matTooltipClass="tooltip-text-size" aria-tooltip="Year"
										matTooltipPosition="right"></i>
									<select formControlName="year" class="form-control select2" [class.is-invalid]="aef.year.invalid &&
										aef.year.touched">
										<option value="">-- Year --</option>
										<option *ngFor="let years of range" value={{years}}>{{years}}</option>
									</select>
									<div *ngIf="aef.year.errors" class="invalid-feedback">
										<div *ngIf="aef.year.errors.required">Year cannot be blank.</div>
									</div>
								</div>
								<div class="col-2">

									<label>Audit Role<span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Audit Role"
										matTooltipClass="tooltip-text-size" aria-tooltip="Audit Role"
										matTooltipPosition="right"></i>
									<select formControlName="audit_role" class="form-control select2" [class.is-invalid]="aef.audit_role.invalid &&
										aef.audit_role.touched">
										<option value="">-- Audit Role --</option>
										<option *ngFor="let auditroleitem of this.userData.auditrolelist | keyvalue" value={{auditroleitem.key}}>{{auditroleitem.value}}</option>
									    <!-- <option *ngFor="let audit_role of auditroleList" value={{audit_role.id}}>{{audit_role.audit_rolename}}</option> -->
										<!-- *ngFor="let decitem of this.userData.declaration_contract | keyvalue"
										value={{decitem.key}}>{{decitem.value}} -->



									</select>
									<div *ngIf="aef.audit_role.errors" class="invalid-feedback">
										<div *ngIf="aef.audit_role.errors.required">Audit Role cannot be blank.</div>
									</div>
                                    
								</div>
							</div>


							<div class="col-12 text-center">
								<button [disabled]="loadingArr['audexperience'] || buttonDisable"
									(click)="addaudExperience()"
									class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
									<span *ngIf="loadingArr['audexperience']"
										class="spinner-border spinner-border-sm mr-1"></span>
									{{ audexperienceEditStatus ? 'Update':'Save'}}
								</button>
								<button [disabled]="loadingArr['audexperience'] || buttonDisable" type="button"
									(click)="resetUserForm('audit_experience')"
									class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
									<span *ngIf="loadingArr['audexperience']"
										class="spinner-border spinner-border-sm mr-1"></span>
									Reset</button>
								<div class="clearfix"></div>
							</div>

							<!--
								<div class="form-group row">
									<div class="col-lg-12 text-center mt-4 ">
										<button [disabled]="loadingArr['audexperience'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['audexperience']" class="spinner-border spinner-border-sm mr-1"></span>
											Submit
										</button>
										
			
										<div class="clearfix"></div>
										
									</div>
									
								</div>
								<div class="col-lg-12 error">
									Note: After completing your actions, please click "Submit" button to store the data.
								</div>
								-->
						</div>
					</form>
				</div>

				<div
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_consultancy_experience') || userType==3 || id==userdetails.uid)) && consultancy_experience_status">
					<form [formGroup]="conExpForm">
						<div class="tabDiv">
							<h3>Consultancy Experience</h3>
							<div class="form-group row">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Standard</th>
												<th scope="col">Company</th>
												<th scope="col" class="center">Year</th>
												<!-- <th scope="col" class="center">Process</th> -->
												<th scope="col" class="center">Days</th>
												<th scope="col" width="10%" class="center">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="consultancyexperienceEntries?.length==0">
												<td colspan="6" class="center">No Consultancy Experience Added</td>
											</tr>
											<tr *ngFor="let conexperienceEntry of consultancyexperienceEntries; let i=index; "
												[class.currentedit]="this.consultancyexperienceIndex===i">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ conexperienceEntry.standard_name }}</td>
												<td>{{ conexperienceEntry.company }}</td>
												<td class="center">{{ conexperienceEntry.year }}</td>
												<td class="center">{{ conexperienceEntry.days }}</td>
												<td class="center">
													<a href="javascript:void(0);" (click)="editconsultancyExperience(i)"
														title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
													&nbsp;&nbsp;
													<!-- <a href="javascript:void(0);" (click)="removeconExperience(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
													<a href="javascript:void(0);"
														(click)="openConfirm(confirmAction,'delete',conexperienceEntry.id,'consultancy_experience')"
														title="Delete" alt="Delete"> <i
															class="fa fa-trash text-danger"></i> </a>

												</td>
											</tr>
										</tbody>
									</table>
									<div class="validationerror" *ngIf="consultancyexperienceErrors">Please add
										Consultancy experience details</div>
								</div>
							</div>

							<h3>{{ consultancyEditStatus ? 'Update':'Add'}} Consultancy Experience</h3>
							<div class="form-group row m-t-10">
								<div class="col-2">
									<label>Standard <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Standard"
										matTooltipClass="tooltip-text-size" aria-tooltip="Standard"
										matTooltipPosition="right"></i>
									<select formControlName="standard" class="form-control select2" [class.is-invalid]="cef.standard.invalid &&
										cef.standard.touched">
										<option value="">-- Standard --</option>
										<option *ngFor="let standard of standardList" value={{standard.id}}>
											{{standard.name}}</option>
									</select>
									<div *ngIf="cef.standard.errors" class="invalid-feedback">
										<div *ngIf="cef.standard.errors.required"> Standard cannot be blank.</div>
									</div>
								</div>

								<div class="col-6">
									<label>Company <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Company"
										matTooltipClass="tooltip-text-size" aria-tooltip="Company"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="company" class="form-control"
										placeholder="Company" [class.is-invalid]="cef.company.invalid &&
										cef.company.touched">
									<div *ngIf="cef.company.errors" class="invalid-feedback">
										<div *ngIf="cef.company.errors.required">Company cannot be blank.</div>
										<div *ngIf="cef.company.errors.pattern || cef.company.hasError('whitespace')">
											Invalid Company</div>
									</div>
								</div>

								<div class="col-2">
									<label>Year <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Year"
										matTooltipClass="tooltip-text-size" aria-tooltip="Year"
										matTooltipPosition="right"></i>
									<select formControlName="year" class="form-control select2" [class.is-invalid]="cef.year.invalid &&
										cef.year.touched">
										<option value="">-- Year --</option>
										<option *ngFor="let years of range" value={{years}}>{{years}}</option>
									</select>
									<div *ngIf="cef.year.errors" class="invalid-feedback">
										<div *ngIf="cef.year.errors.required">Year cannot be blank.</div>
									</div>
								</div>

								<div class="col-2">
									<label>Days <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Days"
										matTooltipClass="tooltip-text-size" aria-tooltip="Days"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="days" class="form-control" placeholder="Days"
										[class.is-invalid]="cef.days.invalid &&
										cef.days.touched">
									<div *ngIf="cef.days.errors" class="invalid-feedback">
										<div *ngIf="cef.days.errors.required">Days cannot be blank.</div>
										<div *ngIf="cef.days.errors.pattern || cef.days.hasError('whitespace')">Invalid
											Days</div>
									</div>
								</div>

							</div>

							<div class="col-12 text-center">
								<button [disabled]="loadingArr['conexperience'] || buttonDisable"
									(click)="addconExperience()"
									class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
									<span *ngIf="loadingArr['conexperience']"
										class="spinner-border spinner-border-sm mr-1"></span>
									{{ consultancyEditStatus ? 'Update':'Save'}}
								</button>
								<button [disabled]="loadingArr['conexperience'] || buttonDisable" type="button"
									(click)="resetUserForm('consultancy_experience')"
									class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
									<span *ngIf="loadingArr['conexperience']"
										class="spinner-border spinner-border-sm mr-1"></span>
									Reset</button>
								<div class="clearfix"></div>
							</div>

						</div>
					</form>
				</div>

				<div
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_cpd') || userType==3 || id==userdetails.uid)) && cpd_status">
					<!--
							<form  [formGroup]="certificateForm" (ngSubmit)="onCertificateSubmit()"  >
							-->
					<form [formGroup]="certificateForm">
						<div class="tabDiv">
							<h3>CPD Details</h3>
							<div class="form-group row">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Certificate Name</th>
												<th scope="col">Hour(s)</th>
												<th scope="col" class="center">Completed Date</th>
												<th scope="col">File</th>
												<th scope="col" width="10%" class="center">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="certificateEntries?.length==0">
												<td colspan="6" class="center">No Certificate Added</td>
											</tr>
											<tr *ngFor="let certificateEntry of certificateEntries; let i=index; "
												[class.currentedit]="this.certificateIndex===i">
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td>{{ certificateEntry.certificate_name }}</td>
												<td>{{ certificateEntry.training_hours }}</td>
												<td class="center">{{ certificateEntry.completed_date }}</td>
												<td><a href="javascript:void(0);"
														(click)="downloadFile(certificateEntry.id,certificateEntry.filename);openmodal(downloading)"><i
															class="fa fa-download"
															*ngIf="certificateEntry.filename"></i> {{
														certificateEntry.filename }}</a></td>
												<td class="center">
													<a href="javascript:void(0);" (click)="editCertificate(i)"
														title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
													&nbsp;&nbsp;
													<!--<a href="javascript:void(0);" (click)="removeCertificate(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
													<a href="javascript:void(0);" *ngIf='userType!=3'
														(click)="openConfirm(confirmAction,'delete',certificateEntry.id,'certificate')"
														title="Delete" alt="Delete"> <i
															class="fa fa-trash text-danger"></i> </a>

												</td>
											</tr>
										</tbody>
									</table>
									<div class="validationerror" *ngIf="certificateErrors">Please add cpd details</div>
								</div>
							</div>

							<h3>{{ cpdEditStatus ? 'Update':'Add'}} CPD Details</h3>
							<div class="form-group row m-t-10">


								<div class="col-4">
									<label>Certificate Name <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Certificate Name" matTooltipClass="tooltip-text-size"
										aria-tooltip="Certificate Name" matTooltipPosition="right"></i>
									<input type="text" formControlName="certificate_name" class="form-control"
										placeholder="Certificate Name" [class.is-invalid]="cerf.certificate_name.invalid &&
										cerf.certificate_name.touched">
									<div *ngIf="cerf.certificate_name.errors" class="invalid-feedback">
										<div *ngIf="cerf.certificate_name.errors.required">Certificate Name cannot be
											blank.</div>
										<div
											*ngIf="cerf.certificate_name.errors.pattern || cerf.certificate_name.hasError('whitespace')">
											Invalid Certificate Name</div>
									</div>
								</div>

								<div class="col-2">
									<label>Hour(s) <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Hour"
										matTooltipClass="tooltip-text-size" aria-tooltip="Hour"
										matTooltipPosition="right"></i>
									<input type="text" formControlName="training_hours" maxlength="5"
										class="form-control" placeholder="Hour(s)" [class.is-invalid]="cerf.training_hours.invalid &&
										cerf.training_hours.touched">
									<div *ngIf="cerf.training_hours.errors" class="invalid-feedback">
										<div *ngIf="cerf.training_hours.errors.required"> Hour(s) cannot be blank.</div>
										<div *ngIf="cerf.training_hours.errors.pattern">Invalid Hour(s).</div>
										<div
											*ngIf="cerf.training_hours.errors.min && cerf.training_hours.errors.pattern">
											Invalid Hour.</div>
									</div>
								</div>

								<div class="col-2">
									<label style="width:100%">Completed Date <span class="text-danger">*</span> <i
											class="fa fa-info-circle text-info ml-1 info-icon-size"
											matTooltip="Completed Date" matTooltipClass="tooltip-text-size"
											aria-tooltip="Completed Date" matTooltipPosition="right"></i></label>

									<input style="width: 70%; display: inline;" [class.is-invalid]="cerf.completed_date.invalid &&
										cerf.completed_date.touched" formControlName="completed_date" [max]="maxDate" matInput
										[matDatepicker]="completed_date" (click)="completed_date.open()"
										class="form-control" placeholder="Completed Date">
									<mat-datepicker-toggle matSuffix [for]="completed_date"></mat-datepicker-toggle>
									<mat-datepicker #completed_date></mat-datepicker>
									<div *ngIf="cerf.completed_date.errors" class="invalid-feedback">
										<div *ngIf="cerf.completed_date.errors.required">Completed Date cannot be blank.
										</div>
									</div>

								</div>

								<div class="col-4">
									<label>Upload Certificate <span class="text-danger">*</span></label> <i
										class="fa fa-info-circle text-info ml-1 info-icon-size"
										matTooltip="Upload Certificate" matTooltipClass="tooltip-text-size"
										aria-tooltip="Upload Certificate" matTooltipPosition="right"></i>
									<input type="file" formControlname="upload_certificate"
										(change)="fileChange($event)">
									<div style="font-size:11px;">supported file formats:
										<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
											docs}}<span *ngIf="!last">, </span> </span>
									</div>
									<div *ngIf="uploadedFileNames" class="file-border-box">
										{{ uploadedFileNames }}
										<a href="javascript:void(0);" (click)="removeFiles()"
											style="color:red; font-weight:bold;">X</a>
									</div>
									<div *ngIf="upload_certificateErrors" class="validationerror">
										{{ upload_certificateErrors }}
									</div>
								</div>

							</div>

							<div class="col-12 text-center">
								<button [disabled]="loadingArr['certificateForm'] || buttonDisable"
									(click)="addCertificate()"
									class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
									<span *ngIf="loadingArr['certificateForm']"
										class="spinner-border spinner-border-sm mr-1"></span>
									{{ cpdEditStatus ? 'Update':'Save'}}
								</button>
								<button [disabled]="loadingArr['certificateForm'] || buttonDisable" type="button"
									(click)="resetUserForm('certificate')"
									class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
									<span *ngIf="loadingArr['certificateForm']"
										class="spinner-border spinner-border-sm mr-1"></span>
									Reset</button>
								<div class="clearfix"></div>
							</div>

							<!--
									<div class="row col-12 prd-lab">
										<div class="col-10">&nbsp;</div>
										<div class="col-2">
											<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addCertificate()">+Add Certificate</a>
										</div>
									</div>	
									-->

							<!--
								<div class="form-group row">
									<div class="col-lg-12 text-center mt-4 ">
										<button [disabled]="loadingArr['certificateForm'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['certificateForm']" class="spinner-border spinner-border-sm mr-1"></span>
											Submit
										</button>
									</div>
									
								</div>
								<div class="col-lg-12 error">
									Note: After completing your actions, please click "Submit" button to store the data.
								</div>
								-->
						</div>
					</form>
				</div>

				<!--
						<div *ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_user_cpd') || userType==3)) && cpd_status">
							<form  [formGroup]="cpdForm" (ngSubmit)="onCpdSubmit()"  >
								<div class="tabDiv">
									<h3>CPD</h3>
									<div class="form-group row">
										<div class="tbl-sec">
											<table id="datatable" class="table table-bordered tab-bor col-12" >
												<thead>
												<tr>
													<th scope="col" width="6%" class="center">S.No</th>
													<th scope="col">Subject</th>
													<th scope="col" class="center">Year</th>
													<th scope="col" class="center">Hour(s)</th>
													<th scope="col" width="10%" class="center">Action</th>
												</tr>
												</thead>
												<tbody>
													<tr *ngIf="trainingEntries?.length==0">
															<td colspan="4" class="center">No CPD Added</td>
													</tr>
													<ng-container  *ngIf="trainingEntries?.length>0">
														<tr *ngFor="let trainingEntry of trainingEntries; let i=index; " [class.currentedit]="this.trainingIndex===i">
															<td scope="row" class="center">{{  1+ i }}</td>
															<td>{{ trainingEntry.training_subject }}</td>
															<td class="center">{{ trainingEntry.training_date }}</td>
															<td class="center">{{ trainingEntry.training_hours }}</td>
															<td  class="center">
																<a href="javascript:void(0);" (click)="editTraining(i)" title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
																&nbsp;&nbsp;
																<a href="javascript:void(0);" (click)="removeTraining(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>
															</td>
														</tr>
													</ng-container>
												</tbody>
											</table>
											<div class="validationerror"  *ngIf="trainingErrors">Please add cpd details</div>
										</div>
										
										<div class="row col-12 prd-lab">
											<div class="col-6">
												<label>Subject</label>
												<input type="text" formControlName="training_subject"  class="form-control" placeholder="Subject *" [class.is-invalid]="cf.training_subject.invalid &&
												cf.training_subject.touched" >
												<div *ngIf="cf.training_subject.errors" class="invalid-feedback">
													<div *ngIf="cf.training_subject.errors.required">Subject cannot be blank.</div>
												</div>
											</div>
											
											<div class="col-2">
												<label>Year</label>
												<input type="text" formControlName="training_date"  maxlength="4" class="form-control" placeholder="Year *" [class.is-invalid]="cf.training_date.invalid &&
												cf.training_date.touched" >
												<div *ngIf="cf.training_date.errors" class="invalid-feedback">
													<div *ngIf="cf.training_date.errors.required"> Year cannot be blank.</div>
													<div *ngIf="cf.training_date.errors.pattern">Invalid Year.</div>
													<div *ngIf="cf.training_date.errors.min && !cf.training_date.errors.pattern">Invalid Year.</div>
												</div>
											</div>				
											
											<div class="col-2">
												<label>Hour(s)</label>
												<input type="text" formControlName="training_hours" maxlength="5" class="form-control" placeholder="Hour(s) *" [class.is-invalid]="cf.training_hours.invalid &&
												cf.training_hours.touched" >
												<div *ngIf="cf.training_hours.errors" class="invalid-feedback">
													<div *ngIf="cf.training_hours.errors.required"> Hour(s) cannot be blank.</div>
													<div *ngIf="cf.training_hours.errors.pattern">Invalid Hour(s).</div>
													<div *ngIf="cf.training_hours.errors.min && cf.training_hours.errors.pattern">Invalid Hour.</div>
												</div>
											</div>
				
											<div class="col-2" style="padding-top:25px;">
												<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addTraining()"  >+Add CPD</a>
											</div>
										</div>
										
									</div>
									<div class="form-group row">
										<div class="col-lg-12 text-center mt-4">
											<button [disabled]="loadingArr['cpd'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
												<span *ngIf="loadingArr['cpd']" class="spinner-border spinner-border-sm mr-1"></span>
												Submit
											</button>
										</div>
										
									</div>
								</div>
							</form>
						</div>
						-->

				<div class="form-group"
					*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_declaration') || userType==3 || id==userdetails.uid)) && declaration_status">
					<div class="card-box enq-view lst">
						<h3>Declaration</h3>
						<mat-tab-group>
							<mat-tab label="New ({{declarationEntries?.length}})">
								<form [formGroup]="declarationForm">
									<div class="tabDiv">
										<div class="form-group">
											<div class="tbl-sec pl-0 pr-0">
												<table id="datatable" class="table table-bordered tab-bor col-12">
													<thead>
														<tr>
															<th scope="col" width="6%" class="center">S.No</th>
															<th scope="col">Company</th>
															<th scope="col">Contract</th>
															<th scope="col">Interest</th>
															<th scope="col" >Name</th>
															<th scope="col" class="center" >Type Of Relationship</th>
															<th scope="col" class="center">Start Year</th>
															<th scope="col" class="center">End Year</th>
															<th scope="col" width="10%" class="center">Action</th>
														</tr>
													</thead>
													<tbody>
														<tr *ngIf="declarationEntries?.length==0">
															<td colspan="7" class="center">No Declaration Added</td>
														</tr>
														<ng-container  *ngFor="let declarationEntry of declarationEntries; let i=index; ">
															<tr>
																<td   scope="row" class="center">{{ 1+ i }}</td>
																<td  >{{ declarationEntry.declaration_company }}</td>
																<td  >{{ declarationEntry.declaration_contract }}</td>
																<td  >{{ declarationEntry.declaration_interest }}</td>
																<td class="center" >{{ declarationEntry.name }}</td>
																<td class="center" >{{ declarationEntry.type_name}}</td>
																<td  class="center">{{
																	declarationEntry.declaration_start_year }}</td>
																<td  class="center">{{
																	declarationEntry.declaration_end_year }}</td>
																<td  class="center">
																	<a href="javascript:void(0);"
																		(click)="editDeclaration(i)" title="Edit"
																		alt="Edit"> <i class="fa fa-edit"></i> </a>
																	&nbsp;&nbsp;
																	<!--<a href="javascript:void(0);" (click)="removeDeclaration(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
																	<a href="javascript:void(0);"
																		(click)="openConfirm(confirmAction,'delete',declarationEntry.id,'declaration')"
																		title="Delete" alt="Delete"> <i
																			class="fa fa-trash text-danger"></i> </a>

																</td>
															</tr>
															
														
														</ng-container>
													</tbody>
												</table>
												<div class="validationerror" *ngIf="trainingErrors">Please add
													declaration details</div>
											</div>
										</div>

										<div class="col-12 text-center" *ngIf="declarationEntries?.length>0">
											<button style="float:right;"
												(click)="open(confirmSendToApproval,'declaration')"
												[disabled]="loadingArr['declaration'] || buttonDisable"
												class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
												<span *ngIf="loadingArr['declaration']"
													class="spinner-border spinner-border-sm mr-1"></span>
												Send for Approval
											</button>
											<div class="clearfix"></div>
										</div>

										<h3>{{ declarationEditStatus ? 'Update':'Add'}} Declaration</h3>
										<input type="radio" id="sel_close_self" [checked]="df.sel_close.value=='3'?true:false" formControlName="sel_close"
											value="3" checked>&nbsp;<label for="self">
											Self</label>&nbsp;&nbsp;&nbsp;&nbsp;<br><br>
										<div *ngIf="df.sel_close.value==3 || df.sel_close.value=='' || df.sel_close.value==null ">
										<div class="form-group row m-t-10">
											<div class="col-8">
												<label>Company <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Company" matTooltipClass="tooltip-text-size"
													aria-tooltip="Company" matTooltipPosition="right"></i>
												<input type="text" formControlName="declaration_company"
													class="form-control" placeholder="Company" [class.is-invalid]="df.declaration_company.invalid &&
														df.declaration_company.touched">
												<div *ngIf="df.declaration_company.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_company.errors.required">Company cannot
														be blank.</div>
													<div
														*ngIf="df.declaration_company.errors.pattern || df.declaration_company.hasError('whitespace')">
														Invalid Company</div>
												</div>
											</div>

											<div class="col-4">
												<label>Contract <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Contract" matTooltipClass="tooltip-text-size"
													aria-tooltip="Contract" matTooltipPosition="right"></i>
												<!--
														<input type="text" formControlName="declaration_contract"  maxlength="4" class="form-control" placeholder="Contract *" [class.is-invalid]="df.declaration_contract.invalid &&
														df.declaration_contract.touched" >
														-->
												<select formControlName="declaration_contract"
													class="form-control select2" [class.is-invalid]="df.declaration_contract.invalid &&
														df.declaration_contract.touched">
													<option value="">-- Contract --</option>
													<option
														*ngFor="let decitem of this.userData.declaration_contract | keyvalue"
														value={{decitem.key}}>{{decitem.value}}</option>
												</select>
												<div *ngIf="df.declaration_contract.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_contract.errors.required"> Contract
														cannot be blank.</div>
													<div *ngIf="df.declaration_contract.errors.pattern">Invalid
														Contract.</div>
													<div
														*ngIf="df.declaration_contract.errors.min && !df.declaration_contract.errors.pattern">
														Invalid Contract.</div>
												</div>
											</div>
										</div>
										<div class="form-group row m-t-10">
											<div class="col-8">
												<label>Interest <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Interest" matTooltipClass="tooltip-text-size"
													aria-tooltip="Interest" matTooltipPosition="right"></i>
												<input type="text" formControlName="declaration_interest"
													class="form-control" placeholder="Interest" [class.is-invalid]="df.declaration_interest.invalid &&
														df.declaration_interest.touched">
												<div *ngIf="df.declaration_interest.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_interest.errors.required">Interest cannot
														be blank.</div>
													<div
														*ngIf="df.declaration_interest.errors.pattern || df.declaration_interest.hasError('whitespace')">
														Invalid Interest</div>
												</div>
											</div>

											<div class="col-2">
												<label>Start Year <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Start Year" matTooltipClass="tooltip-text-size"
													aria-tooltip="Start Year" matTooltipPosition="right"></i>
												<select formControlName="declaration_start_year"
													class="form-control select2"
													(change)="declarationStarYearChange($event)" [class.is-invalid]="df.declaration_start_year.invalid &&
													df.declaration_start_year.touched">
													<option value="">-- Start Year --</option>
													<option *ngFor="let year of range" value={{year}}>{{year}}</option>
												</select>
												<div *ngIf="df.declaration_start_year.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_start_year.errors.required">Start Year
														cannot be blank.</div>
													<div *ngIf="df.declaration_start_year.errors.minval">Start Year must
														be smaller than End year.</div>
												</div>
											</div>

											<div class="col-2">
												<label>End Year <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="End Year" matTooltipClass="tooltip-text-size"
													aria-tooltip="End Year" matTooltipPosition="right"></i>
												<select formControlName="declaration_end_year"
													class="form-control select2" [class.is-invalid]="df.declaration_end_year.invalid &&
													df.declaration_end_year.touched">
													<option value="">-- End Year --</option>
													<option *ngFor="let year of endYearRange" value={{year}}>{{year}}
													</option>
												</select>
												<div *ngIf="df.declaration_end_year.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_end_year.errors.required">End Year cannot
														be blank.</div>
												</div>
											</div>
									</div>
								</div>
										<span class="label-pad" style="width:330px;"><label> Does any of your Close Relations (family members, friends, etc.) do Consultancy, Training, Work for Other CB?</label></span> - <span class="name-pad">&nbsp;&nbsp;&nbsp;&nbsp;
											
											<input type="radio" id="sel_close_yes" [checked]="df.sel_close.value=='1'?true:false" formControlName="sel_close"
												value="1">&nbsp; <label for="yes">Yes</label>
											&nbsp;&nbsp;&nbsp;&nbsp;
											<input type="radio" id="sel_close_no" [checked]="df.sel_close.value=='2'?true:false" formControlName="sel_close"
												value="2">&nbsp;<label for="no">
												No</label>&nbsp;
											<span *ngIf="closeRelError" class="validationerror">
											{{closeRelError}}
											</span>
												
										</span>
									
										

										<div class="cs-pgm-blue top" *ngIf="df.sel_close.value==2">
											<div class="col-12 " style="padding-left: 0%;">
												<div class="form-group row">
												<div class="col-4">
													<label>Please state what your Spouse is doing <span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Please state what your Spouse is doing" matTooltipClass="tooltip-text-size"
														aria-tooltip="Please state what your Spouse is doing" matTooltipPosition="right"></i>
													<input type="text" formControlName="spouse_work"
														class="form-control" placeholder="Spouse's Work" [class.is-invalid]="df.spouse_work.invalid &&
															df.spouse_work.touched">
													<div *ngIf="df.spouse_work.errors" class="invalid-feedback">
														<div *ngIf="df.spouse_work.errors.required">Spouse's Work cannot
															be blank.</div>
														<div
															*ngIf="df.spouse_work.errors.pattern || df.spouse_work.hasError('whitespace')">
															Invalid Spouse's Work</div>
													</div>
												</div>	
											</div>
											<div class="form-group row">
												<div class="col-10">
													<span class="label-pad" style="width:330px;"><label> Does any of your Close Relations (family members, friends, etc.) do Consultancy, Training, Work for Other CB?</label></span> - <span class="name-pad">
													<input type="radio" id="sel_close2_yes" [checked]="df.sel_close2.value=='1'?true:false" formControlName="sel_close2"
														value="1">&nbsp; <label for="yes">Yes</label>
													&nbsp;&nbsp;&nbsp;&nbsp;
													<input type="radio" id="sel_close2_no" [checked]="df.sel_close2.value=='2'?true:false" formControlName="sel_close2"
														value="2">&nbsp;<label for="no">
														No</label>
												</span>
												</div>
												</div>
											</div>
										</div>

										<div class="cs-pgm-blue top" *ngIf="(df.sel_close.value!=3) && (df.sel_close.value==1 || df.sel_close2.value==1)">
											<div class="col-12 " style="padding-left: 0%;">
													
												<table id="datatable" class="table table-bordered tab-bor col-12" >
													<thead>
													<tr>
														<th scope="col" class="center">S.No</th>
														<th scope="col">Company</th>
														<th scope="col">Contract</th>
														<th scope="col">Interest</th>
														<th scope="col" >Name</th>
														<th scope="col" class="center" >Type Of Relationship</th>
														<th scope="col" class="center">Start Year</th>
														<th scope="col" class="center">End Year</th>
														<th scope="col" class="center">Action</th>
													</tr>
													</thead>
													<tbody>
														<tr *ngIf="relationEntries?.length==0">
															<td colspan="8" class="center">No Relations are Added</td>
														</tr>
														<tr *ngFor="let relationEntry of relationEntries; let i=index; ">
															<td scope="row" class="center">{{  1+ i }}</td>
															<td>{{ relationEntry.rel_declaration_company }}</td>
															<td>{{ relationEntry.rel_declaration_contract_name }}</td>
															<td>{{ relationEntry.rel_declaration_interest }}</td>
															<td>{{ relationEntry.name }}</td>
															<td>{{ relationEntry.type_name }}</td>
															<td>{{ relationEntry.rel_declaration_start_year }}</td>
															<td>{{ relationEntry.rel_declaration_end_year }}</td>

															<td  class="center">
																<a href="javascript:void(0);" (click)="editRelation(i)" title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
																<a href="javascript:void(0);" (click)="removeProcess(i)"> <i class="fa fa-trash text-danger"></i> </a>
																<!--*ngIf="!standard_addition_id || (standard_addition_id && processEntry.addition_type)"-->
															</td>
														</tr>
													</tbody>
												</table>
											</div>
											<div class="col-12 pad-left pad-right">
									
												
												<div class="form-group row">
													<div class="col-4">
														<label>Name <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="Name" matTooltipClass="tooltip-text-size"
															aria-tooltip="Name" matTooltipPosition="right"></i>
														<input type="text" formControlName="relation_name"
															class="form-control" placeholder="Name" [class.is-invalid]="df.relation_name.invalid &&
																df.relation_name.touched">
														<div *ngIf="df.relation_name.errors" class="invalid-feedback">
															<div *ngIf="df.relation_name.errors.required">Name cannot
																be blank.</div>
															<div
																*ngIf="df.relation_name.errors.pattern || df.relation_name.hasError('whitespace')">
																Invalid Name</div>
														</div>
													</div>
													<div class="col-4">
														<label>Type of Relationship <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="Type of Relationship" matTooltipClass="tooltip-text-size"
															aria-tooltip="Type of Relationship" matTooltipPosition="right"></i>
														<select formControlName="declaration_relation"
															class="form-control select2" [class.is-invalid]="df.declaration_relation.invalid &&
															df.declaration_relation.touched">
															<option value="">-- Type of Relationship --</option>
															<option *ngFor="let re of this.userData.relationList | keyvalue" value={{re.key}}>{{re.value}}
															</option>
														</select>
														<div *ngIf="df.declaration_relation.errors" class="invalid-feedback">
															<div *ngIf="df.declaration_relation.errors.required">Type of Relationship cannot
																be blank.</div>
														</div>
													</div>

													

												</div>
												<div class="form-group row m-t-10">
													<div class="col-8">
														<label>Company <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="Company" matTooltipClass="tooltip-text-size"
															aria-tooltip="Company" matTooltipPosition="right"></i>
														<input type="text" formControlName="rel_declaration_company"
															class="form-control" placeholder="Company" [class.is-invalid]="df.rel_declaration_company.invalid &&
																df.rel_declaration_company.touched">
														<div *ngIf="df.rel_declaration_company.errors" class="invalid-feedback">
															<div *ngIf="df.rel_declaration_company.errors.required">Company cannot
																be blank.</div>
															<div
																*ngIf="df.rel_declaration_company.errors.pattern || df.rel_declaration_company.hasError('whitespace')">
																Invalid Company</div>
														</div>
													</div>
		
													<div class="col-4">
														<label>Contract <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="Contract" matTooltipClass="tooltip-text-size"
															aria-tooltip="Contract" matTooltipPosition="right"></i>
														<!--
																<input type="text" formControlName="declaration_contract"  maxlength="4" class="form-control" placeholder="Contract *" [class.is-invalid]="df.declaration_contract.invalid &&
																df.declaration_contract.touched" >
																-->
														<select formControlName="rel_declaration_contract"
															class="form-control select2" [class.is-invalid]="df.rel_declaration_contract.invalid &&
																df.rel_declaration_contract.touched">
															<option value="">-- Contract --</option>
															<option
																*ngFor="let decitem of this.userData.declaration_contract | keyvalue"
																value={{decitem.key}}>{{decitem.value}}</option>
														</select>
														<div *ngIf="df.rel_declaration_contract.errors" class="invalid-feedback">
															<div *ngIf="df.rel_declaration_contract.errors.required"> Contract
																cannot be blank.</div>
															<div *ngIf="df.rel_declaration_contract.errors.pattern">Invalid
																Contract.</div>
															<div
																*ngIf="df.rel_declaration_contract.errors.min && !df.rel_declaration_contract.errors.pattern">
																Invalid Contract.</div>
														</div>
													</div>
												</div>
												<div class="form-group row m-t-10">
													<div class="col-8">
														<label>Interest <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="Interest" matTooltipClass="tooltip-text-size"
															aria-tooltip="Interest" matTooltipPosition="right"></i>
														<input type="text" formControlName="rel_declaration_interest"
															class="form-control" placeholder="Interest" [class.is-invalid]="df.rel_declaration_interest.invalid &&
																df.rel_declaration_interest.touched">
														<div *ngIf="df.rel_declaration_interest.errors" class="invalid-feedback">
															<div *ngIf="df.rel_declaration_interest.errors.required">Interest cannot
																be blank.</div>
															<div
																*ngIf="df.rel_declaration_interest.errors.pattern || df.rel_declaration_interest.hasError('whitespace')">
																Invalid Interest</div>
														</div>
													</div>
		
													<div class="col-2">
														<label>Start Year <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="Start Year" matTooltipClass="tooltip-text-size"
															aria-tooltip="Start Year" matTooltipPosition="right"></i>
														<select formControlName="rel_declaration_start_year"
															class="form-control select2"
															(change)="declarationStarYearChange($event)" [class.is-invalid]="df.rel_declaration_start_year.invalid &&
															df.rel_declaration_start_year.touched">
															<option value="">-- Start Year --</option>
															<option *ngFor="let year of range" value={{year}}>{{year}}</option>
														</select>
														<div *ngIf="df.rel_declaration_start_year.errors" class="invalid-feedback">
															<div *ngIf="df.rel_declaration_start_year.errors.required">Start Year
																cannot be blank.</div>
															<div *ngIf="df.rel_declaration_start_year.errors.minval">Start Year must
																be smaller than End year.</div>
														</div>
													</div>
		
													<div class="col-2">
														<label>End Year <span class="text-danger">*</span></label> <i
															class="fa fa-info-circle text-info ml-1 info-icon-size"
															matTooltip="End Year" matTooltipClass="tooltip-text-size"
															aria-tooltip="End Year" matTooltipPosition="right"></i>
														<select formControlName="rel_declaration_end_year"
															class="form-control select2" [class.is-invalid]="df.rel_declaration_end_year.invalid &&
															df.rel_declaration_end_year.touched">
															<option value="">-- End Year --</option>
															<option *ngFor="let year of endYearRange" value={{year}}>{{year}}
															</option>
														</select>
														<div *ngIf="df.rel_declaration_end_year.errors" class="invalid-feedback">
															<div *ngIf="df.rel_declaration_end_year.errors.required">End Year cannot
																be blank.</div>
														</div>
													</div>
											</div>
											<div class="col-2 pad-right" style="padding-top:30px;">
												<a *ngIf="!editrelation" class="btn btn-success btn-sm" href="javascript:void(0);" role="button"  (click)="addRelation()"  >+Add Relation</a>
												<a *ngIf="editrelation" class="btn btn-success btn-sm" href="javascript:void(0);" role="button"  (click)="updateRelation()"  >Update Relation</a>
											</div>
											</div>
										</div>
									

									<div class="col-12 text-center">
										<button [disabled]="loadingArr['declaration'] || buttonDisable"
											(click)="addDeclaration()"
											class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['declaration']"
												class="spinner-border spinner-border-sm mr-1"></span>
											{{ declarationEditStatus ? 'Update':'Save'}}
										</button>
										<button [disabled]="loadingArr['declaration'] || buttonDisable" type="button"
											(click)="resetUserForm('declaration')"
											class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
											<span *ngIf="loadingArr['declaration']"
												class="spinner-border spinner-border-sm mr-1"></span>
											Reset</button>
										<div class="clearfix"></div>
									</div>

									<!--
												<div class="form-group row">
													<div class="col-lg-12 text-center mt-4">
														<button (click)="onDeclarationSubmit()" [disabled]="loadingArr['declaration'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
															<span *ngIf="loadingArr['declaration']" class="spinner-border spinner-border-sm mr-1"></span>
															Save
														</button>
														&nbsp;&nbsp;&nbsp;&nbsp;
														<button style="float:right;" (click)="open(confirmSendToApproval,'declaration')" [disabled]="loadingArr['declaration'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
															<span *ngIf="loadingArr['declaration']" class="spinner-border spinner-border-sm mr-1"></span>
															Send for Approval
														</button>
													</div>
													
												</div>
												<div class="col-lg-12 error">
													Note: After completing your actions, please click "Submit" button to store the data.
												</div>
												-->
					</div>
					</form>
					</mat-tab>
					<mat-tab label="Waiting for appproval ({{declaration_approvalwaitingEntries?.length}})">
						<div class="form-group row">
							<div class="tbl-sec">
								<table id="datatable" class="table table-bordered tab-bor col-12">
									<thead>
										<tr>
											<th scope="col" width="6%" class="center">S.No</th>
											<th scope="col">Company</th>
											<th scope="col">Contract</th>
											<th scope="col">Interest</th>
											<th scope="col" >Name</th>
											<th scope="col" class="center" >Type Of Relationship</th>
											<th scope="col" class="center">Start Year</th>
											<th scope="col" class="center">End Year</th>
											<th scope="col"
												*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('declaration_approval')">
												Review</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngIf="declaration_approvalwaitingEntries?.length==0">
											<td colspan="7" class="center">No Declaration Waiting for Approval</td>
										</tr>
										<ng-container *ngFor="let declarationapprovalwaitingEntry of declaration_approvalwaitingEntries; let i=index; ">
											<tr >
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td >{{ declarationapprovalwaitingEntry.declaration_company }}</td>
												<td >{{ declarationapprovalwaitingEntry.declaration_contract }}</td>
												<td >{{ declarationapprovalwaitingEntry.declaration_interest }}</td>
												<td class="center" >{{ declarationapprovalwaitingEntry.name }}</td>
												<td class="center" >{{ declarationapprovalwaitingEntry.type_name}}</td>
												<td class="center">{{
													declarationapprovalwaitingEntry.declaration_start_year }}</td>
												<td class="center">{{
													declarationapprovalwaitingEntry.declaration_end_year }}</td>
												<td class="center" *ngIf="userdetails.resource_access==1 || userdetails.rules.includes('declaration_approval')">
													<a href="javascript:void(0);" title="Review Declaration" alt="Review Declaration"
														(click)="openreviewmodel(approverConfirmContent,'declaration',declarationapprovalwaitingEntry.id,'Declaration')"><i
															class="fa fa-check" style="font-size: 20px;"></i></a>
												</td>
											</tr>
										
										</ng-container>
									</tbody>
								</table>
							</div>
						</div>
					</mat-tab>
					<mat-tab label="Approved ({{declaration_approvedEntries?.length}})">
						<form [formGroup]="declarationApprovedForm">
						<div class="form-group row">
							<div class="tbl-sec">
								<table id="datatable" class="table table-bordered tab-bor col-12">
									<thead>
										<tr>
											<th scope="col" width="6%" class="center">S.No</th>
											<th scope="col">Company</th>
											<th scope="col">Contract</th>
											<th scope="col">Interest</th>
											<th scope="col" >Name</th>
											<th scope="col" class="center" >Type Of Relationship</th>
											<th scope="col" class="center">Start Year</th>
											<th scope="col" class="center">End Year</th>
											<th scope="col" class="center">More Details</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngIf="declaration_approvedEntries?.length==0">
											<td colspan="7" class="center">No Declaration Approved</td>
										</tr>
										<ng-container *ngFor="let declarationapprovedEntry of declaration_approvedEntries; let i=index;">
											<tr>
												<td scope="row" class="center">{{ 1+ i }}</td>
												<td >{{ declarationapprovedEntry.declaration_company }}</td>
												<td >{{ declarationapprovedEntry.declaration_contract }}</td>
												<td >{{ declarationapprovedEntry.declaration_interest }}</td>
												
												<td class="center" >{{ declarationapprovedEntry.name }}</td>
												<td class="center" >{{ declarationapprovedEntry.type_name}}</td>
												<td class="center">{{ declarationapprovedEntry.declaration_start_year }}
												</td>
												<td class="center">{{ declarationapprovedEntry.declaration_end_year }}
												</td>
												<td class="center">
													<a href="javascript:void(0);" (click)="editApprovedDeclaration(i)" title="Edit" alt="Edit"> <i class="fa fa-edit"></i>
													</a>
													&nbsp;
													<a href="javascript:void(0);"
														(click)="showApprovedDeclarationDetails(DeclarationDetails,i)"
														title="View" alt="View"><i class="fa fa-eye"></i></a>
													<a *ngIf="declarationapprovedEntry.rejected_history?.length > 0"
														href="javascript:void(0);" class="pl-2"
														(click)="showApprovedDecHistoryDetails(DeclarationRejectDetails,i)"
														title="Rejected History" alt="Rejected History"><i
															class="fa fa-flag"></i></a>

												</td>
											</tr>
										</ng-container>
									</tbody>
								</table>
								<div *ngIf="showappdecForm">
									<div class="row col-12 prd-lab" *ngIf="showapprelation">
										<div class="col-4">
											<label>Name <span class="text-danger">*</span></label> <i
												class="fa fa-info-circle text-info ml-1 info-icon-size"
												matTooltip="Name" matTooltipClass="tooltip-text-size"
												aria-tooltip="Name" matTooltipPosition="right"></i>
											<input type="text" formControlName="relation_name"
												class="form-control" placeholder="Name" [class.is-invalid]="daf.relation_name.invalid &&
												daf.relation_name.touched">
											<div *ngIf="daf.relation_name.errors" class="invalid-feedback">
												<div *ngIf="daf.relation_name.errors.required">Name cannot
													be blank.</div>
												<div
													*ngIf="daf.relation_name.errors.pattern || daf.relation_name.hasError('whitespace')">
													Invalid Name</div>
											</div>
										</div>
										<div class="col-4">
											<label>Type of Relationship <span class="text-danger">*</span></label> <i
												class="fa fa-info-circle text-info ml-1 info-icon-size"
												matTooltip="Type of Relationship" matTooltipClass="tooltip-text-size"
												aria-tooltip="Type of Relationship" matTooltipPosition="right"></i>
											<select formControlName="declaration_relation"
												class="form-control select2" [class.is-invalid]="daf.declaration_relation.invalid &&
												daf.declaration_relation.touched">
												<option value="">-- Type of Relationship --</option>
												<option *ngFor="let re of this.userData.relationList | keyvalue" value={{re.key}}>{{re.value}}
												</option>
											</select>
											<div *ngIf="daf.declaration_relation.errors" class="invalid-feedback">
												<div *ngIf="daf.declaration_relation.errors.required">Type of Relationship cannot
													be blank.</div>
											</div>
										</div>
										<div class="col-4" *ngIf="showappspwork">
											<label>Please state what your Spouse is doing <span class="text-danger">*</span></label> <i
												class="fa fa-info-circle text-info ml-1 info-icon-size"
												matTooltip="Please state what your Spouse is doing" matTooltipClass="tooltip-text-size"
												aria-tooltip="Please state what your Spouse is doing" matTooltipPosition="right"></i>
											<input type="text" formControlName="spouse_work"
												class="form-control" placeholder="Spouse's Work" [class.is-invalid]="daf.spouse_work.invalid &&
												daf.spouse_work.touched">
											<div *ngIf="daf.spouse_work.errors" class="invalid-feedback">
												<div *ngIf="daf.spouse_work.errors.required">Spouse's Work cannot
													be blank.</div>
												<div
													*ngIf="daf.spouse_work.errors.pattern || daf.spouse_work.hasError('whitespace')">
													Invalid Spouse's Work</div>
											</div>
										</div>
									</div>
									<div class="row col-12 prd-lab">
										<div class="col-8">
											<label>Company <span class="text-danger">*</span></label>
											<input type="text" formControlName="declaration_company"
												class="form-control" placeholder="Company" [class.is-invalid]="df.declaration_company.invalid &&
														df.declaration_company.touched">
											<div *ngIf="df.declaration_company.errors" class="invalid-feedback">
												<div *ngIf="df.declaration_company.errors.required">Company cannot
													be blank.</div>
												<div
													*ngIf="df.declaration_company.errors.pattern || df.declaration_company.hasError('whitespace')">
													Invalid Company</div>
											</div>
										</div>

										<div class="col-4">
											<label>Contract <span class="text-danger">*</span></label>
											<!--
														<input type="text" formControlName="declaration_contract"  maxlength="4" class="form-control" placeholder="Contract *" [class.is-invalid]="df.declaration_contract.invalid &&
														df.declaration_contract.touched" >
														-->
											<select formControlName="declaration_contract"
												class="form-control select2" [class.is-invalid]="df.declaration_contract.invalid &&
														df.declaration_contract.touched">
												<option value="">-- Contract --</option>
												<option
													*ngFor="let decitem of this.userData.declaration_contract | keyvalue"
													value={{decitem.key}}>{{decitem.value}}</option>
											</select>
											<div *ngIf="df.declaration_contract.errors" class="invalid-feedback">
												<div *ngIf="df.declaration_contract.errors.required"> Contract
													cannot be blank.</div>
												<div *ngIf="df.declaration_contract.errors.pattern">Invalid
													Contract.</div>
												<div
													*ngIf="df.declaration_contract.errors.min && !df.declaration_contract.errors.pattern">
													Invalid Contract.</div>
											</div>
										</div>
									</div>
									<div class="row col-12 prd-lab">
										<div class="col-8">
											<label>Interest <span class="text-danger">*</span></label>
											<input type="text" formControlName="declaration_interest"
												class="form-control" placeholder="Interest" [class.is-invalid]="df.declaration_interest.invalid &&
														df.declaration_interest.touched">
											<div *ngIf="df.declaration_interest.errors" class="invalid-feedback">
												<div *ngIf="df.declaration_interest.errors.required">Interest cannot
													be blank.</div>
												<div
													*ngIf="df.declaration_interest.errors.pattern || df.declaration_interest.hasError('whitespace')">
													Invalid Interest</div>
											</div>
										</div>

										<div class="col-2">
											<label>Start Year <span class="text-danger">*</span></label>
											<select formControlName="declaration_start_year"
												class="form-control select2"
												(change)="declarationStarYearChange($event)" [class.is-invalid]="df.declaration_start_year.invalid &&
													df.declaration_start_year.touched">
												<option value="">-- Start Year --</option>
												<option *ngFor="let year of range" value={{year}}>{{year}}</option>
											</select>
											<div *ngIf="df.declaration_start_year.errors" class="invalid-feedback">
												<div *ngIf="df.declaration_start_year.errors.required">Start Year
													cannot be blank.</div>
												<div *ngIf="df.declaration_start_year.errors.minval">Start Year must
													be smaller than End year.</div>
											</div>
										</div>

										<div class="col-2">
											<label>End Year <span class="text-danger">*</span></label>
											<select formControlName="declaration_end_year"
												class="form-control select2" [class.is-invalid]="df.declaration_end_year.invalid &&
													df.declaration_end_year.touched">
												<option value="">-- End Year --</option>
												<option *ngFor="let year of endYearRange" value={{year}}>{{year}}
												</option>
											</select>
											<div *ngIf="df.declaration_end_year.errors" class="invalid-feedback">
												<div *ngIf="df.declaration_end_year.errors.required">End Year cannot
													be blank.</div>
											</div>
										</div>
										<!--<div class="col-2" style="padding-top:25px;">
														<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addRejectDeclaration()"  >Update Declaration</a>
													</div>-->
									</div>
									
								
									

								

									
								</div>

								<div *ngIf="showappdecForm" class="form-group row">
									<!--onRejectDeclarationSubmit-->
									<div class="col-lg-12 text-center mt-4">
										<button *ngIf="this.declaration_approvedEntries.length>0"
											(click)="addApprovedDeclaration()"
											[disabled]="loadingArr['declaration'] || buttonDisable"
											class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['declaration']"
												class="spinner-border spinner-border-sm mr-1"></span>
											Update &amp; Send for Approval
										</button>
										<!--&nbsp;&nbsp;&nbsp;&nbsp;
													<button *ngIf="filterRejectedDeclaration.length>0" style="float:right;" (click)="open(confirmSendToApproval,'declarationreject')" [disabled]="loadingArr['declaration'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
														<span *ngIf="loadingArr['declaration']" class="spinner-border spinner-border-sm mr-1"></span>
														Send for Approval >
													</button>-->
									</div>

								</div>

							</div>
						</div>
						</form>
					</mat-tab>
					<mat-tab label="Rejected ({{filterRejectedDeclaration?.length}})">
						<form [formGroup]="declarationRejectForm">
							<div class="form-group row">
								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Company</th>
												<th scope="col">Contract</th>
												<th scope="col">Interest</th>
												<th scope="col" >Name</th>
												<th scope="col" class="center" >Type Of Relationship</th>
												<th scope="col" class="center">Start Year</th>
												<th scope="col" class="center">End Year</th>
												<th scope="col" width="10%" class="center">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="filterRejectedDeclaration?.length==0">
												<td colspan="7" class="center">No Declaration Rejected</td>
											</tr>
											<ng-container *ngIf="filterRejectedDeclaration?.length>0">
												<ng-container
													*ngFor="let declarationrejectedEntry of filterRejectedDeclaration; let i=index; ">
													<tr *ngIf="declarationrejectedEntry.deleted!=1">
														<td  scope="row" class="center">{{ 1+ i }}</td>
														<td  >{{ declarationrejectedEntry.declaration_company }}</td>
														<td  >{{ declarationrejectedEntry.declaration_contract }}</td>
														<td  >{{ declarationrejectedEntry.declaration_interest }}</td>
														<td class="center">{{ declarationrejectedEntry.name }}</td>
														<td class="center" >{{ declarationrejectedEntry.type_name}}</td>
														<td  class="center">{{
															declarationrejectedEntry.declaration_start_year }}</td>
														<td   class="center">{{
															declarationrejectedEntry.declaration_end_year }}</td>
														<td   class="center">
															<a href="javascript:void(0);"
																(click)="editRejectDeclaration(i)" title="Edit"
																alt="Edit"> <i class="fa fa-edit"></i> </a>
															&nbsp;&nbsp;
															<!--<a href="javascript:void(0);" (click)="removeRejectDeclaration(i)" title="Delete" alt="Delete"> <i class="fa fa-trash text-danger"></i> </a>-->
															<a class="pl-2" href="javascript:void(0);"
																(click)="showRejectedDeclarationDetails(DeclarationDetails,declarationrejectedEntry.id)"
																title="View" alt="View"><i class="fa fa-eye"></i></a>
															<a *ngIf="declarationrejectedEntry.rejected_history?.length > 0"
																href="javascript:void(0);" class="pl-2"
																(click)="showRejectedDecHistoryDetails(DeclarationRejectDetails,i)"
																title="Rejected History" alt="Rejected History"><i
																	class="fa fa-flag"></i></a>
														</td>
													</tr>
													
												</ng-container>
											</ng-container>
										</tbody>
									</table>

									<div *ngIf="showdecForm">
										<div class="row col-12 prd-lab" *ngIf="showrelation">
											<div class="col-4">
												<label>Name <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Name" matTooltipClass="tooltip-text-size"
													aria-tooltip="Name" matTooltipPosition="right"></i>
												<input type="text" formControlName="relation_name"
													class="form-control" placeholder="Name" [class.is-invalid]="drf.relation_name.invalid &&
													drf.relation_name.touched">
												<div *ngIf="drf.relation_name.errors" class="invalid-feedback">
													<div *ngIf="drf.relation_name.errors.required">Name cannot
														be blank.</div>
													<div
														*ngIf="drf.relation_name.errors.pattern || drf.relation_name.hasError('whitespace')">
														Invalid Name</div>
												</div>
											</div>
											<div class="col-4">
												<label>Type of Relationship <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Type of Relationship" matTooltipClass="tooltip-text-size"
													aria-tooltip="Type of Relationship" matTooltipPosition="right"></i>
												<select formControlName="declaration_relation"
													class="form-control select2" [class.is-invalid]="drf.declaration_relation.invalid &&
													drf.declaration_relation.touched">
													<option value="">-- Type of Relationship --</option>
													<option *ngFor="let re of this.userData.relationList | keyvalue" value={{re.key}}>{{re.value}}
													</option>
												</select>
												<div *ngIf="drf.declaration_relation.errors" class="invalid-feedback">
													<div *ngIf="drf.declaration_relation.errors.required">Type of Relationship cannot
														be blank.</div>
												</div>
											</div>
											<div class="col-4" *ngIf="showspwork">
												<label>Please state what your Spouse is doing <span class="text-danger">*</span></label> <i
													class="fa fa-info-circle text-info ml-1 info-icon-size"
													matTooltip="Please state what your Spouse is doing" matTooltipClass="tooltip-text-size"
													aria-tooltip="Please state what your Spouse is doing" matTooltipPosition="right"></i>
												<input type="text" formControlName="spouse_work"
													class="form-control" placeholder="Spouse's Work" [class.is-invalid]="drf.spouse_work.invalid &&
													drf.spouse_work.touched">
												<div *ngIf="drf.spouse_work.errors" class="invalid-feedback">
													<div *ngIf="drf.spouse_work.errors.required">Spouse's Work cannot
														be blank.</div>
													<div
														*ngIf="drf.spouse_work.errors.pattern || drf.spouse_work.hasError('whitespace')">
														Invalid Spouse's Work</div>
												</div>
											</div>
										</div>
										<div class="row col-12 prd-lab">
											<div class="col-8">
												<label>Company <span class="text-danger">*</span></label>
												<input type="text" formControlName="declaration_company"
													class="form-control" placeholder="Company" [class.is-invalid]="df.declaration_company.invalid &&
															df.declaration_company.touched">
												<div *ngIf="df.declaration_company.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_company.errors.required">Company cannot
														be blank.</div>
													<div
														*ngIf="df.declaration_company.errors.pattern || df.declaration_company.hasError('whitespace')">
														Invalid Company</div>
												</div>
											</div>

											<div class="col-4">
												<label>Contract <span class="text-danger">*</span></label>
												<!--
															<input type="text" formControlName="declaration_contract"  maxlength="4" class="form-control" placeholder="Contract *" [class.is-invalid]="df.declaration_contract.invalid &&
															df.declaration_contract.touched" >
															-->
												<select formControlName="declaration_contract"
													class="form-control select2" [class.is-invalid]="df.declaration_contract.invalid &&
															df.declaration_contract.touched">
													<option value="">-- Contract --</option>
													<option
														*ngFor="let decitem of this.userData.declaration_contract | keyvalue"
														value={{decitem.key}}>{{decitem.value}}</option>
												</select>
												<div *ngIf="df.declaration_contract.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_contract.errors.required"> Contract
														cannot be blank.</div>
													<div *ngIf="df.declaration_contract.errors.pattern">Invalid
														Contract.</div>
													<div
														*ngIf="df.declaration_contract.errors.min && !df.declaration_contract.errors.pattern">
														Invalid Contract.</div>
												</div>
											</div>
										</div>
										<div class="row col-12 prd-lab">
											<div class="col-8">
												<label>Interest <span class="text-danger">*</span></label>
												<input type="text" formControlName="declaration_interest"
													class="form-control" placeholder="Interest" [class.is-invalid]="df.declaration_interest.invalid &&
															df.declaration_interest.touched">
												<div *ngIf="df.declaration_interest.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_interest.errors.required">Interest cannot
														be blank.</div>
													<div
														*ngIf="df.declaration_interest.errors.pattern || df.declaration_interest.hasError('whitespace')">
														Invalid Interest</div>
												</div>
											</div>

											<div class="col-2">
												<label>Start Year <span class="text-danger">*</span></label>
												<select formControlName="declaration_start_year"
													class="form-control select2"
													(change)="declarationStarYearChange($event)" [class.is-invalid]="df.declaration_start_year.invalid &&
														df.declaration_start_year.touched">
													<option value="">-- Start Year --</option>
													<option *ngFor="let year of range" value={{year}}>{{year}}</option>
												</select>
												<div *ngIf="df.declaration_start_year.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_start_year.errors.required">Start Year
														cannot be blank.</div>
													<div *ngIf="df.declaration_start_year.errors.minval">Start Year must
														be smaller than End year.</div>
												</div>
											</div>

											<div class="col-2">
												<label>End Year <span class="text-danger">*</span></label>
												<select formControlName="declaration_end_year"
													class="form-control select2" [class.is-invalid]="df.declaration_end_year.invalid &&
														df.declaration_end_year.touched">
													<option value="">-- End Year --</option>
													<option *ngFor="let year of endYearRange" value={{year}}>{{year}}
													</option>
												</select>
												<div *ngIf="df.declaration_end_year.errors" class="invalid-feedback">
													<div *ngIf="df.declaration_end_year.errors.required">End Year cannot
														be blank.</div>
												</div>
											</div>
											<!--<div class="col-2" style="padding-top:25px;">
															<a class="btn btn-secondary btn-sm active" href="javascript:void(0);" role="button" (click)="addRejectDeclaration()"  >Update Declaration</a>
														</div>-->
										</div>
										
									
										

									

										
									</div>

									<div *ngIf="showdecForm" class="form-group row">
										<!--onRejectDeclarationSubmit-->
										<div class="col-lg-12 text-center mt-4">
											<button *ngIf="this.declaration_rejectedEntries.length>0"
												(click)="addRejectDeclaration()"
												[disabled]="loadingArr['declaration'] || buttonDisable"
												class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
												<span *ngIf="loadingArr['declaration']"
													class="spinner-border spinner-border-sm mr-1"></span>
												Update &amp; Send for Approval
											</button>
											<!--&nbsp;&nbsp;&nbsp;&nbsp;
														<button *ngIf="filterRejectedDeclaration.length>0" style="float:right;" (click)="open(confirmSendToApproval,'declarationreject')" [disabled]="loadingArr['declaration'] || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
															<span *ngIf="loadingArr['declaration']" class="spinner-border spinner-border-sm mr-1"></span>
															Send for Approval >
														</button>-->
										</div>

									</div>
								</div>
							</div>
						</form>
					</mat-tab>
					</mat-tab-group>
				</div>
			</div>






			<div
				*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_map_group_user_role') || userType==3)) && map_group_user_role_status">
				<h3>Map Business Group to User Role Except Technical Expert</h3>

				<form [formGroup]="mapUserRoleForm">
					<div class="tabDiv">

						<div class="form-group row m-b-10">

							<div class="tbl-sec">
								<table id="datatable" class="table table-bordered tab-bor col-12">
									<thead>
										<tr>
											<th scope="col" width="6%" class="center">S.No</th>
											<th scope="col">User Role</th>
											<th scope="col">Standard</th>
											<th scope="col">Business Sector</th>
											<th scope="col">Business Sector Group</th>
											<th scope="col">Document</th>
											<th scope="col" width="10%" class="center">Action</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngIf="mapuserroleEntries?.length==0">
											<td colspan="7" class="center">No Business Group Added</td>
										</tr>
										<ng-container *ngFor="let businessEntry of mapuserroleEntries; let i=index; ">
											<tr>
												<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
													scope="row" class="center">{{ 1+ i }}</td>
												<td
													[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
													{{ businessEntry.role_name }}</td>
												<td
													[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
													{{ businessEntry.standard_name }}</td>
												<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
													class="center">{{ businessEntry.business_sector_name }}</td>
												<td class="center">{{ businessEntry.business_sector_group_name_arr[0] }}
												</td>
												<td
													[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
													<a *ngIf="businessEntry.document && businessEntry.document!='NA'"
														href="javascript:void(0);"
														(click)="downloaddocumentFile(businessEntry.id,businessEntry.document);openmodal(downloading)"><i
															class="fa fa-download"></i>{{ businessEntry.document }}</a>
												</td>

												<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
													class="center">
													<a href="javascript:void(0);" (click)="editMapBusiness(i)"
														title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
													&nbsp;&nbsp;
													<a href="javascript:void(0);"
														(click)="openConfirm(confirmAction,'delete',businessEntry.id,'mapuserrole')"
														title="Delete" alt="Delete"> <i
															class="fa fa-trash text-danger"></i> </a>
												</td>
											</tr>
											<ng-container *ngIf="businessEntry.business_sector_group_name_arr.length>1">
												<tr
													*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1;">
													<td class="center">{{ bEntry }}</td>
												</tr>
											</ng-container>
										</ng-container>
									</tbody>
								</table>
								<div class="validationerror" *ngIf="businessErrors">Please add Business Group details
								</div>
							</div>
						</div>


						<h3>{{ mapbusinessEditStatus ? 'Update':'Add'}} Business Group to User Role</h3>
						<div class="form-group row m-t-10 m-b-10">
							<div class="col-4">
								<label>User Role <span class="text-danger">*</span></label> <i
									class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Standard"
									matTooltipClass="tooltip-text-size" aria-tooltip="Standard"
									matTooltipPosition="right"></i>
								<mat-select placeholder="-- User Role --"
									(selectionChange)="getUserBgsectorgroupList('')" formControlName="role_id"
									class="form-control select2" [class.is-invalid]="urf.role_id.invalid &&
											urf.role_id.touched">

									<mat-option *ngFor="let roleentry of uniqueRoleListEntriesApproved"
										[value]="roleentry.role_id">{{roleentry.role_name}}</mat-option>
								</mat-select>
								<div *ngIf="urf.role_id.errors" class="invalid-feedback">
									<div *ngIf="urf.role_id.errors.required"> User Role cannot be blank.</div>
								</div>
								<!--<div *ngIf="sameStandardError" class="validationerror">
												<div *ngIf="sameStandardError"> {{ sameStandardError }}</div>
											</div> -->
							</div>

							<div class="col-4">
								<label>Standard <span class="text-danger">*</span></label> <i
									class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Standard"
									matTooltipClass="tooltip-text-size" aria-tooltip="Standard"
									matTooltipPosition="right"></i>
								<mat-select placeholder="-- Standard --"
									(selectionChange)="getUserBgsectorList($event.value)" formControlName="standard_id"
									class="form-control select2" [class.is-invalid]="urf.standard_id.invalid &&
											urf.standard_id.touched">

									<mat-option *ngFor="let standards of standard_approvedEntries"
										[value]="standards.standard">{{standards.standard_name}}</mat-option>
								</mat-select>
								<div *ngIf="urf.standard_id.errors" class="invalid-feedback">
									<div *ngIf="urf.standard_id.errors.required"> Standard cannot be blank.</div>
								</div>
								<!--<div *ngIf="sameStandardError" class="validationerror">
												<div *ngIf="sameStandardError"> {{ sameStandardError }}</div>
											</div> -->
							</div>

							<div class="col-4">
								<label>Business Sector <span class="text-danger">*</span></label> <i
									class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Business Sector"
									matTooltipClass="tooltip-text-size" aria-tooltip="Business Sector"
									matTooltipPosition="right"></i>
								<mat-select placeholder="-- Business Sector --"
									(selectionChange)="getUserBgsectorgroupList($event.value)"
									formControlName="business_sector_id" class="form-control select2"
									[class.is-invalid]="urf.business_sector_id.invalid && urf.business_sector_id.touched">

									<mat-option *ngFor="let bsector of bgUsersectorList" [value]="bsector.id">
										{{bsector.name}}</mat-option>
								</mat-select>
								<span *ngIf="loadingArr['map_business_sector_id']"
									class="spinner-border spinner-border-sm mr-1"></span>
								<div *ngIf="urf.business_sector_id.errors" class="invalid-feedback">
									<div *ngIf="urf.business_sector_id.errors.required">Business Sector is required
									</div>
								</div>
							</div>

						</div>
						<div class="form-group row">

							<div class="col-4">
								<label>Business Sector Group <span class="text-danger">*</span></label> <i
									class="fa fa-info-circle text-info ml-1 info-icon-size"
									matTooltip="Business Sector Group" matTooltipClass="tooltip-text-size"
									aria-tooltip="Business Sector Group" matTooltipPosition="right"></i>
								<mat-select placeholder="-- Business Sector Group --"
									formControlName="business_sector_group_id" multiple class="form-control select2"
									[class.is-invalid]="urf.business_sector_group_id.invalid && urf.business_sector_group_id.touched">
									<mat-select-trigger>
										<span
											*ngIf="urf.business_sector_group_id.value?.length == 1">{{urf.business_sector_group_id.value
											? getSelectedValue('role_business_sector_group_id_group',
											urf.business_sector_group_id.value): ''}}</span>
										<span *ngIf="urf.business_sector_group_id.value?.length > 1"
											class="example-additional-selection">
											{{urf.business_sector_group_id.value.length}} {{ 'selected' }}
										</span>
									</mat-select-trigger>
									<mat-option *ngFor="let bsectorgroup of bgUsersectorgroupList"
										[value]="bsectorgroup.id">{{bsectorgroup.group_code}}</mat-option>
								</mat-select>
								<span *ngIf="loadingArr['map_business_sector_group_id']"
									class="spinner-border spinner-border-sm mr-1"></span>
								<div *ngIf="urf.business_sector_group_id.errors" class="invalid-feedback">
									<div *ngIf="urf.business_sector_group_id.errors.required">Business Sector Group is
										required</div>
								</div>
							</div>

							<div class="col-4">
								<label>Document</label> <i class="fa fa-info-circle text-info ml-1 info-icon-size"
									matTooltip="Document" matTooltipClass="tooltip-text-size" aria-tooltip="Document"
									matTooltipPosition="right"></i>
								<br>
								<input type="file" formControlname="document" (change)="documentChange($event)">
								<div style="font-size:11px;">supported file formats:
									<span *ngFor="let docs of this.userService.technicalvalidDocs; let last=last;">{{
										docs}}<span *ngIf="!last">, </span> </span>
								</div>

								<div *ngIf="this.documentfilterFile(qualificationIndex)" class="file-border-box">
									{{ this.documents }}
									<a href="javascript:void(0);" (click)="documentremoveFile()"
										style="color:red; font-weight:bold;">X</a>
								</div>

								<div *ngIf="documentFileErr" class="validationerror">
									{{ documentFileErr }}
								</div>
							</div>

						</div>

						<div class=" col-12 ">
							<div class="text-center  ">
								<button (click)="onMapUserRoleSubmit()"
									[disabled]="loadingArr['mapUserRoleForm'] || buttonDisable"
									class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
									<span *ngIf="loadingArr['mapUserRoleForm']"
										class="spinner-border spinner-border-sm mr-1"></span>
									{{ mapbusinessEditStatus ? 'Update':'Save'}}
								</button>
								&nbsp;&nbsp;
								<button [disabled]="loadingArr['mapUserRoleForm'] || buttonDisable" type="button"
									(click)="resetUserForm('mapuserrole')"
									class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
									<span *ngIf="loadingArr['mapUserRoleForm']"
										class="spinner-border spinner-border-sm mr-1"></span>
									Reset
								</button>
							</div>
						</div>


					</div>
				</form>
			</div>

			<div class="form-group"
				*ngIf="(id && (userdetails.resource_access==1 || userdetails.rules.includes('add_edit_te_business_group') || userType==3)) && technical_expert_business_group_status">
				<div class="card-box enq-view lst">
					<h3>Technical Expert Group</h3>
					<mat-tab-group>
						<mat-tab label="New ({{teBusinessEntries?.length}})">
							<div class="tabDiv">

								<div class="form-group m-b-0">

									<div class="tbl-sec pl-0 pr-0">
										<table id="datatable" class="table table-bordered tab-bor col-12">
											<thead>
												<tr>
													<th scope="col" width="6%" class="center">S.No</th>
													<th scope="col">User Role</th>
													<th scope="col">Business Sector</th>


													<th scope="col">Academic Qualification Available</th>
													<th scope="col">Exam File</th>
													<th scope="col">Technical Interview File</th>

													<th class="center" scope="col">Business Sector Group</th>
													<th scope="col" width="10%" class="center">Action</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngIf="teBusinessEntries?.length==0">
													<td colspan="8" class="center">No Business Group Added</td>
												</tr>
												<ng-container
													*ngFor="let businessEntry of teBusinessEntries; let i=index; ">
													<tr>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															scope="row" class="center">{{ 1+ i }}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															{{ businessEntry.role_name }}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															{{ businessEntry.business_sector_name }}</td>


														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.academic_qualification_name
															}}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<!-- <a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)" ><i class="fa fa-download" *ngIf="businessEntry.examfilename"></i> {{ businessEntry.examfilename }}</a> -->
															<a *ngIf="businessEntry.examfilename && businessEntry.examfilename!='NA'"
																href="javascript:void(0);"
																(click)="downloadtebgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																	class="fa fa-download"></i> {{
																businessEntry.examfilename }}</a>
															<ng-container
																*ngIf="businessEntry.examfilename && businessEntry.examfilename=='NA'">
																{{ businessEntry.examfilename }} </ng-container>
														</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<!--<a href="javascript:void(0);" (click)="downloadbgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)" ><i class="fa fa-download" *ngIf="businessEntry.technicalfilename"></i> {{ businessEntry.technicalfilename }}</a>-->
															<a *ngIf="businessEntry.technicalfilename  && businessEntry.technicalfilename!='NA'"
																href="javascript:void(0);"
																(click)="downloadtebgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																	class="fa fa-download"></i> {{
																businessEntry.technicalfilename }}</a>
															<ng-container
																*ngIf="businessEntry.technicalfilename && businessEntry.technicalfilename=='NA'">
																{{ businessEntry.technicalfilename }} </ng-container>
														</td>
														<td class="center">{{
															businessEntry.business_sector_group_name_arr[0] }}</td>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">
															<a href="javascript:void(0);" (click)="editTeBusiness(i)"
																title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
															&nbsp;&nbsp;
															<a href="javascript:void(0);"
																(click)="openConfirm(confirmAction,'delete',businessEntry.id,'te_business_group')"
																title="Delete" alt="Delete"> <i
																	class="fa fa-trash text-danger"></i> </a>
														</td>
													</tr>
													<ng-container
														*ngIf="businessEntry.business_sector_group_name_arr.length>1">
														<tr
															*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1;">
															<td class="center">{{ bEntry }}</td>
														</tr>
													</ng-container>
												</ng-container>
											</tbody>
										</table>
										<div class="validationerror" *ngIf="businessErrors">Please add Business Group
											details</div>
									</div>

									<div class="col-12" *ngIf="teBusinessEntries && teBusinessEntries.length>0">
										<button style="float:right;"
											(click)="open(confirmSendToApproval,'te_business_group')"
											[disabled]="loadingArr['technicalExpertBsForm'] || buttonDisable"
											class="btn btn-sm btn-success btn-custom waves-effect w-md waves-light m-b-5">
											<span *ngIf="loadingArr['technicalExpertBsForm']"
												class="spinner-border spinner-border-sm mr-1"></span>
											Send for Approval
										</button>
									</div>
								</div>

								<div>
									<button type="button"
										*ngIf="userdetails.resource_access==1 || userType==3 || userdetails.rules.includes('add_user_personnel_details')"
										(click)="changeTEUserTab('approved_business_group')"
										class="btn btn-sm {{approved_business_group_status ? 'btn-success' : 'btn-primary'}}">Approved
										Business Group</button>
									<button type="button"
										*ngIf="id && (userdetails.resource_access==1 || userdetails.rules.includes('edit_user_roles') || userType==3)"
										(click)="changeTEUserTab('new_business_group')"
										class="btn btn-sm {{new_business_group_status ? 'btn-success' : 'btn-primary'}}"
										style="margin-left:3px;">New Business Group</button>
								</div>

								<div class="add card-box table-responsive">

									<h3 *ngIf="approved_business_group_status">Add Approved Business Group</h3>
									<div *ngIf="approved_business_group_status">
										<form [formGroup]="technicalExpertApprovedBsForm">
											<div class="form-group row m-t-10 m-b-0">

												<div class="col-4">
													<label>User Role <span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Standard" matTooltipClass="tooltip-text-size"
														aria-tooltip="User Role" matTooltipPosition="right"></i>
													<mat-select placeholder="-- User Role --"
														(selectionChange)="getTeApprovedBgsectorgroupList('')"
														formControlName="role_id" class="form-control select2"
														[class.is-invalid]="teapprovedbsf.role_id.invalid && teapprovedbsf.role_id.touched">

														<mat-option *ngFor="let roleentry of teRoleListEntriesApproved"
															[value]="roleentry.id">{{roleentry.role_name}}</mat-option>
													</mat-select>
													<div *ngIf="teapprovedbsf.role_id.errors" class="invalid-feedback">
														<div *ngIf="teapprovedbsf.role_id.errors.required"> User Role
															cannot be blank.</div>
													</div>
													<!--<div *ngIf="sameStandardError" class="validationerror">
																		<div *ngIf="sameStandardError"> {{ sameStandardError }}</div>
																	</div> -->
												</div>

												<div class="col-4">
													<label>Business Sector <span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Business Sector" matTooltipClass="tooltip-text-size"
														aria-tooltip="Business Sector" matTooltipPosition="right"></i>
													<mat-select placeholder="-- Business Sector --"
														(selectionChange)="getTeApprovedBgsectorgroupList($event.value)"
														formControlName="business_sector_id"
														class="form-control select2"
														[class.is-invalid]="teapprovedbsf.business_sector_id.invalid && teapprovedbsf.business_sector_id.touched">

														<mat-option
															*ngFor="let bsector of technicalExpertApprovedBgSectorList"
															[value]="bsector.id">{{bsector.name}}</mat-option>
													</mat-select>
													<!--<span *ngIf="loadingArr['map_business_sector_id']" class="spinner-border spinner-border-sm mr-1"></span>-->
													<div *ngIf="teapprovedbsf.business_sector_id.errors"
														class="invalid-feedback">
														<div *ngIf="teapprovedbsf.business_sector_id.errors.required">
															Business Sector is required</div>
													</div>
												</div>

												<div class="col-4">
													<label>Business Sector Group <span
															class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Business Sector Group"
														matTooltipClass="tooltip-text-size"
														aria-tooltip="Business Sector Group"
														matTooltipPosition="right"></i>
													<mat-select placeholder="-- Business Sector Group --"
														formControlName="business_sector_group_id" multiple
														class="form-control select2"
														[class.is-invalid]="teapprovedbsf.business_sector_group_id.invalid && teapprovedbsf.business_sector_group_id.touched">
														<mat-select-trigger>
															<span
																*ngIf="teapprovedbsf.business_sector_group_id.value?.length == 1">{{teapprovedbsf.business_sector_group_id.value
																?
																getSelectedValue('approvedte_business_sector_group_id_group',
																teapprovedbsf.business_sector_group_id.value):
																''}}</span>
															<span
																*ngIf="teapprovedbsf.business_sector_group_id.value?.length > 1"
																class="example-additional-selection">
																{{teapprovedbsf.business_sector_group_id.value.length}}
																{{ 'selected' }}
															</span>
														</mat-select-trigger>
														<mat-option
															*ngFor="let bsectorgroup of technicalExpertApprovedBgSectorgroupList"
															[value]="bsectorgroup.id">{{bsectorgroup.group_code}}
														</mat-option>
													</mat-select>
													<span *ngIf="loadingArr['approvedtebsgroup']"
														class="spinner-border spinner-border-sm mr-1"></span>
													<div *ngIf="teapprovedbsf.business_sector_group_id.errors"
														class="invalid-feedback">
														<div
															*ngIf="teapprovedbsf.business_sector_group_id.errors.required">
															Business Sector Group is required</div>
													</div>
												</div>

											</div>

											<div class=" col-12 ">
												<div class="text-center  ">
													<button (click)="onApprovedTeBusinessSubmit()"
														[disabled]="loadingArr['technicalExpertApprovedBsForm'] || buttonDisable"
														class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
														<span *ngIf="loadingArr['technicalExpertApprovedBsForm']"
															class="spinner-border spinner-border-sm mr-1"></span>
														{{ approvedteBusinessGroupEditStatus ? 'Update':'Save'}}
													</button>
													&nbsp;&nbsp;
													<button
														[disabled]="loadingArr['technicalExpertApprovedBsForm'] || buttonDisable"
														type="button"
														(click)="resetUserForm('approvedte_business_group')"
														class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
														<span *ngIf="loadingArr['technicalExpertApprovedBsForm']"
															class="spinner-border spinner-border-sm mr-1"></span>
														Reset
													</button>
												</div>
											</div>

										</form>

									</div>

									<h3 *ngIf="new_business_group_status">{{ teBusinessGroupEditStatus ?
										'Update':'Add'}} Technical Expert Group</h3>
									<div *ngIf="new_business_group_status">
										<form [formGroup]="technicalExpertBsForm">
											<div class="form-group row m-t-10 m-b-0">
												<div class="col-4">
													<label>User Role <span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="User Role" matTooltipClass="tooltip-text-size"
														aria-tooltip="User Role" matTooltipPosition="right"></i>
													<mat-select placeholder="-- User Role --" formControlName="role_id"
														(selectionChange)="getTeBgsectorgroupList('')"
														class="form-control select2" [class.is-invalid]="tebsf.role_id.invalid &&
																	tebsf.role_id.touched">

														<mat-option *ngFor="let roleentry of teRoleListEntriesApproved"
															[value]="roleentry.id">{{roleentry.role_name}}</mat-option>
													</mat-select>
													<div *ngIf="tebsf.role_id.errors" class="invalid-feedback">
														<div *ngIf="tebsf.role_id.errors.required"> User Role cannot be
															blank.</div>
													</div>
												</div>
												<div class="col-4">
													<label>Business Sector <span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Business Sector" matTooltipClass="tooltip-text-size"
														aria-tooltip="Business Sector" matTooltipPosition="right"></i>
													<mat-select placeholder="-- Business Sector --"
														(selectionChange)="getTeBgsectorgroupList($event.value)"
														formControlName="business_sector_id"
														class="form-control select2"
														[class.is-invalid]="tebsf.business_sector_id.invalid && tebsf.business_sector_id.touched">
														<mat-option *ngFor="let bsector of technicalExpertBgSectorList"
															[value]="bsector.id">{{bsector.name}}</mat-option>
													</mat-select>

													<div *ngIf="tebsf.business_sector_id.errors"
														class="invalid-feedback">
														<div *ngIf="tebsf.business_sector_id.errors.required">Business
															Sector is required</div>
													</div>
												</div>

												<div class="col-4">
													<label>Business Sector Group <span
															class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Business Sector Group"
														matTooltipClass="tooltip-text-size"
														aria-tooltip="Business Sector Group"
														matTooltipPosition="right"></i>
													<mat-select placeholder="-- Business Sector Group --"
														formControlName="business_sector_group_id" multiple
														class="form-control select2"
														[class.is-invalid]="tebsf.business_sector_group_id.invalid && tebsf.business_sector_group_id.touched">
														<mat-select-trigger>
															<span
																*ngIf="tebsf.business_sector_group_id.value?.length == 1">{{tebsf.business_sector_group_id.value
																? getSelectedValue('te_business_sector_group_id_group',
																tebsf.business_sector_group_id.value): ''}}</span>
															<span
																*ngIf="tebsf.business_sector_group_id.value?.length > 1"
																class="example-additional-selection">
																{{tebsf.business_sector_group_id.value.length}} {{
																'selected' }}
															</span>
														</mat-select-trigger>
														<mat-option
															*ngFor="let bsectorgroup of technicalExpertBgSectorgroupList"
															[value]="bsectorgroup.id">{{bsectorgroup.group_code}}
														</mat-option>
													</mat-select>
													<span *ngIf="loadingArr['tebsgroup']"
														class="spinner-border spinner-border-sm mr-1"></span>

													<div *ngIf="tebsf.business_sector_group_id.errors"
														class="invalid-feedback">
														<div *ngIf="tebsf.business_sector_group_id.errors.required">
															Business Sector Group is required</div>
													</div>
												</div>

											</div>

											<div class="form-group row">

												<div class="col-7">
													<label style="float: left;padding-top:6px">Is there a related
														Academic qualification available for the applied business sector
														<span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Is there a related Academic qualification available for the applied business sector"
														matTooltipClass="tooltip-text-size"
														aria-tooltip="Is there a related Academic qualification available for the applied business sector"
														matTooltipPosition="right"></i>
												</div>
												<div class="col-5">
													&nbsp;&nbsp;
													<select formControlName="academic_qualification"
														class="form-control select2" [class.is-invalid]="tebsf.academic_qualification.invalid &&
																	tebsf.academic_qualification.touched" style="float: left; width:150px;">
														<option value="">-- Select --</option>
														<option value="1">Yes</option>
														<option value="2">No</option>
													</select>

													<div *ngIf="tebsf.academic_qualification.errors"
														class="invalid-feedback"><br>
														<div *ngIf="tebsf.academic_qualification.errors.required">
															Academic qualification available is required</div>
													</div>
												</div>
											</div>

											<div class="form-group row">
												<div class="col-6">
													<label>Technical Interview File <span
															class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Technical Interview File"
														matTooltipClass="tooltip-text-size"
														aria-tooltip="Technical Interview File"
														matTooltipPosition="right"></i>&nbsp;&nbsp;
													<input type="file" formControlname="technical_interview_file"
														(change)="TebusinessFileChange($event,'technical')">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.userService.technicalvalidDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>
													<div *ngIf="TEtechnicalInterviewFileNames" class="file-border-box">
														{{ TEtechnicalInterviewFileNames }}
														<a href="javascript:void(0);"
															(click)="TebusinessremoveFiles('technical')"
															style="color:red; font-weight:bold;">X</a>
													</div>
													<div *ngIf="uploadTEtechnicalErrors" class="validationerror">
														{{ uploadTEtechnicalErrors }}
													</div>
												</div>
												<div class="col-6" *ngIf="tebsf.academic_qualification.value==2">
													<label>Exam File <span class="text-danger">*</span></label> <i
														class="fa fa-info-circle text-info ml-1 info-icon-size"
														matTooltip="Exam File" matTooltipClass="tooltip-text-size"
														aria-tooltip="Exam File"
														matTooltipPosition="right"></i>&nbsp;&nbsp;
													<input type="file" formControlname="exam_file"
														(change)="TebusinessFileChange($event,'exam')">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>
													<div *ngIf="TEexamFileNames" class="file-border-box">
														{{ TEexamFileNames }}
														<a href="javascript:void(0);"
															(click)="TebusinessremoveFiles('exam')"
															style="color:red; font-weight:bold;">X</a>
													</div>
													<div *ngIf="uploadTEexamErrors" class="validationerror">
														{{ uploadTEexamErrors }}
													</div>
												</div>

											</div>

											<div class="col-lg-12 text-center">
												<button (click)="onTeBusinessSubmit()"
													[disabled]="loadingArr['technicalExpertBsForm'] || buttonDisable"
													class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
													<span *ngIf="loadingArr['technicalExpertBsForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													{{ teBusinessGroupEditStatus ? 'Update':'Save'}}
												</button>
												&nbsp;&nbsp;
												<button
													[disabled]="loadingArr['technicalExpertBsForm'] || buttonDisable"
													type="button" (click)="resetUserForm('te_business_group')"
													class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
													<span *ngIf="loadingArr['technicalExpertBsForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Reset
												</button>
											</div>
										</form>

									</div>
								</div>

							</div>

						</mat-tab>
						<mat-tab label="Waiting for Approval ({{teBusiness_approvalwaitingEntries?.length}})">
							<div class="form-group row m-b-20">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Role</th>
												<th scope="col">Business Sector</th>


												<th scope="col">Academic Qualification Available</th>
												<th scope="col">Exam File</th>
												<th scope="col">Technical Interview File</th>

												<th scope="col">Business Sector Group</th>
												<th scope="col" style="width:10%;" class="center"
													*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('tebusiness_group_approval')">
													Review</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="teBusiness_approvalwaitingEntries?.length==0">
												<td colspan="7" class="center">No Business Group Waiting for Approval
												</td>
											</tr>
											<ng-container
												*ngFor="let businessEntry of teBusiness_approvalwaitingEntries; let i=index; ">
												<tr>
													<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
														scope="row" class="center">{{ 1+ i }}</td>
													<td
														[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
														{{ businessEntry.role_name }}</td>
													<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
														class="center">{{ businessEntry.business_sector_name }}</td>

													<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
														class="center">{{ businessEntry.academic_qualification_name }}
													</td>
													<td
														[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
														<a *ngIf="businessEntry.examfilename && businessEntry.examfilename!='NA'"
															href="javascript:void(0);"
															(click)="downloadtebgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																class="fa fa-download"></i> {{
															businessEntry.examfilename }}</a>
														<ng-container
															*ngIf="businessEntry.examfilename && businessEntry.examfilename=='NA'">
															{{ businessEntry.examfilename }} </ng-container>
													</td>
													<td
														[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
														<a *ngIf="businessEntry.technicalfilename  && businessEntry.technicalfilename!='NA'"
															href="javascript:void(0);"
															(click)="downloadtebgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																class="fa fa-download"></i> {{
															businessEntry.technicalfilename }}</a>
														<ng-container
															*ngIf="businessEntry.technicalfilename && businessEntry.technicalfilename=='NA'">
															{{ businessEntry.technicalfilename }} </ng-container>
													</td>
													<td class="center">{{
														businessEntry.business_sector_group_name_arr[0] }}</td>
													<td class="center"
														*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('tebusiness_group_approval')">
														<a href="javascript:void(0);" title="Review Business Group"
															alt="Review Business Group"
															(click)="openreviewmodel(approverConfirmContent,'te_business_group',businessEntry.business_sector_group_code_id[0],'Technical Expert Business Group')"><i
																class="fa fa-check" style="font-size: 20px;"></i></a>
													</td>
												</tr>
												<ng-container
													*ngIf="businessEntry.business_sector_group_name_arr.length>1">
													<tr
														*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1; let ib=index;">
														<td class="center">{{ bEntry }}</td>
														<td class="center"
															*ngIf="userdetails.resource_access==1 || userdetails.rules.includes('tebusiness_group_approval')">
															<a href="javascript:void(0);" title="Review Business Group"
																alt="Review Business Group"
																(click)="openreviewmodel(approverConfirmContent,'te_business_group',businessEntry.business_sector_group_code_id[1+ib],'Technical Expert Business Group')"><i
																	class="fa fa-check"
																	style="font-size: 20px;"></i></a></td>
													</tr>
												</ng-container>
											</ng-container>
										</tbody>
									</table>
									<div class="validationerror" *ngIf="businessErrors">Please add Business Group
										details</div>
								</div>
							</div>
						</mat-tab>
						<mat-tab label="Approved ({{teBusiness_approvedEntries?.length}})">
							<div class="form-group row m-b-20">

								<div class="tbl-sec">
									<table id="datatable" class="table table-bordered tab-bor col-12">
										<thead>
											<tr>
												<th scope="col" width="6%" class="center">S.No</th>
												<th scope="col">Role</th>
												<th scope="col">Business Sector</th>


												<th scope="col">Academic Qualification Available</th>
												<th scope="col">Exam File</th>
												<th scope="col">Technical Interview File</th>
												<th scope="col">Business Sector Group</th>
												<th scope="col">More Details</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngIf="teBusiness_approvedEntries?.length==0">
												<td colspan="8" class="center">No Business Group Approved</td>
											</tr>
											<ng-container
												*ngFor="let businessEntry of teBusiness_approvedEntries; let i=index; ">
												<tr>
													<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
														scope="row" class="center">{{ 1+ i }}</td>
													<td
														[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
														{{ businessEntry.role_name }}</td>
													<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
														class="center">{{ businessEntry.business_sector_name }}</td>

													<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
														class="center">{{ businessEntry.academic_qualification_name }}
													</td>

													<td
														[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
														<a *ngIf="businessEntry.examfilename && businessEntry.examfilename!='NA'"
															href="javascript:void(0);"
															(click)="downloadtebgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																class="fa fa-download"></i> {{
															businessEntry.examfilename }}</a>
														<ng-container
															*ngIf="businessEntry.examfilename && businessEntry.examfilename=='NA'">
															{{ businessEntry.examfilename }} </ng-container>
													</td>
													<td
														[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
														<a *ngIf="businessEntry.technicalfilename  && businessEntry.technicalfilename!='NA'"
															href="javascript:void(0);"
															(click)="downloadtebgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																class="fa fa-download"></i> {{
															businessEntry.technicalfilename }}</a>
														<ng-container
															*ngIf="businessEntry.technicalfilename && businessEntry.technicalfilename=='NA'">
															{{ businessEntry.technicalfilename }} </ng-container>
													</td>

													<td class="center">{{
														businessEntry.business_sector_group_name_arr[0] }}</td>

													<td class="center">
														<a href="javascript:void(0);"
															(click)="showApprovedtebgroupDetails(tebgroupDetails,i,0)"
															title="View" alt="View"><i class="fa fa-eye"></i></a>

														<a *ngIf="businessEntry.rejected_history?.length > 0"
															href="javascript:void(0);" class="pl-2"
															(click)="showApprovedtebgroupHistoryDetails(tebgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[0]])"
															title="Rejected History" alt="Rejected History"><i
																class="fa fa-flag"></i></a>
													</td>

												</tr>
												<ng-container
													*ngIf="businessEntry.business_sector_group_name_arr.length>1">
													<tr
														*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1;  let ie=index;">
														<td class="center">{{ bEntry }}</td>
														<td class="center"><a href="javascript:void(0);"
																(click)="showApprovedtebgroupDetails(tebgroupDetails,i,1+ie)"
																title="View" alt="View"><i class="fa fa-eye"></i></a>
															<a *ngIf="businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]]?.length > 0"
																href="javascript:void(0);" class="pl-2"
																(click)="showRejectedtebgroupHistoryDetails(tebgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]])"
																title="Rejected History" alt="Rejected History"><i
																	class="fa fa-flag"></i></a>
														</td>
													</tr>
												</ng-container>
											</ng-container>

										</tbody>
									</table>
									<div class="validationerror" *ngIf="businessErrors">Please add Business Group
										details</div>
								</div>
							</div>
						</mat-tab>
						<mat-tab label="Rejected ({{teBusiness_rejectedEntries?.length}})">
							<div class="form-group row m-b-20">

								<form [formGroup]="rejTEbusinessForm" style="width:100%;">
									<div class="tbl-sec">

										<table id="datatable" class="table table-bordered tab-bor col-12">
											<thead>
												<tr>
													<th scope="col" width="6%" class="center">S.No</th>
													<th scope="col">Role</th>
													<th scope="col">Business Sector</th>

													<th scope="col">Academic Qualification Available</th>
													<th scope="col">Exam File</th>
													<th scope="col">Technical Interview File</th>
													<th scope="col">Business Sector Group</th>
													<th scope="col">More Details</th>
													<th scope="col">Action</th>
												</tr>
											</thead>
											<tbody>
												<tr *ngIf="teBusiness_rejectedEntries?.length==0">
													<td colspan="9" class="center">No Business Group Rejected</td>
												</tr>
												<ng-container
													*ngFor="let businessEntry of teBusiness_rejectedEntries; let i=index; ">
													<tr>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															scope="row" class="center">{{ 1+ i }}</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															{{ businessEntry.role_name }}</td>
														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.business_sector_name }}</td>


														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">{{ businessEntry.academic_qualification_name
															}}</td>
														<!--<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"  ><a href="javascript:void(0);" (click)="downloadtebgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)" ><i class="fa fa-download" *ngIf="businessEntry.examfilename"></i> {{ businessEntry.examfilename }}</a></td>
																	<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length" ><a href="javascript:void(0);" (click)="downloadtebgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)" ><i class="fa fa-download" *ngIf="businessEntry.technicalfilename"></i> {{ businessEntry.technicalfilename }}</a></td>
																	-->
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a *ngIf="businessEntry.examfilename && businessEntry.examfilename!='NA'"
																href="javascript:void(0);"
																(click)="downloadtebgroupFile(businessEntry.id,'exam',businessEntry.examfilename);openmodal(downloading)"><i
																	class="fa fa-download"></i> {{
																businessEntry.examfilename }}</a>
															<ng-container
																*ngIf="businessEntry.examfilename && businessEntry.examfilename=='NA'">
																{{ businessEntry.examfilename }} </ng-container>
														</td>
														<td
															[attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length">
															<a *ngIf="businessEntry.technicalfilename  && businessEntry.technicalfilename!='NA'"
																href="javascript:void(0);"
																(click)="downloadtebgroupFile(businessEntry.id,'interview',businessEntry.technicalfilename);openmodal(downloading)"><i
																	class="fa fa-download"></i> {{
																businessEntry.technicalfilename }}</a>
															<ng-container
																*ngIf="businessEntry.technicalfilename && businessEntry.technicalfilename=='NA'">
																{{ businessEntry.technicalfilename }} </ng-container>
														</td>

														<td class="center">{{
															businessEntry.business_sector_group_name_arr[0] }}</td>
														<td class="center">
															<a href="javascript:void(0);"
																(click)="showRejectedtebgroupDetails(tebgroupDetails,i,0)"
																title="View" alt="View"><i class="fa fa-eye"></i></a>
															<a *ngIf="businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[0]]?.length > 0"
																href="javascript:void(0);" class="pl-2"
																(click)="showRejectedtebgroupHistoryDetails(tebgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[0]])"
																title="Rejected History" alt="Rejected History"><i
																	class="fa fa-flag"></i></a>
														</td>
														<!--  [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
																	<td class="center">
																		<a href="javascript:void(0);" (click)="rejeditBusiness(i)" title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
																		<a href="javascript:void(0);" (click)="rejonteBusinessSubmitConfirm(confirmSendAction,businessEntry.business_sector_group_id_arr[i])" title="Send For Approval" alt="Send For Approval"> <i class="fa fa-check" style="font-size: 20px;"></i> </a>
																	</td>
																	-->

														<td [attr.rowspan]="businessEntry.business_sector_group_name_arr.length<=0?1:businessEntry.business_sector_group_name_arr.length"
															class="center">
															<a href="javascript:void(0);" (click)="terejeditBusiness(i)"
																title="Edit" alt="Edit"> <i class="fa fa-edit"></i> </a>
														</td>
													</tr>
													<ng-container
														*ngIf="businessEntry.business_sector_group_name_arr.length>1">
														<tr
															*ngFor="let bEntry of businessEntry.business_sector_group_name_arr | slice:1; let ie=index;">
															<td class="center">{{ bEntry }}</td>
															<td class="center">
																<a href="javascript:void(0);"
																	(click)="showRejectedtebgroupDetails(tebgroupDetails,i,1+ie)"
																	title="View" alt="View"><i
																		class="fa fa-eye"></i></a>

																<a *ngIf="businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]]?.length > 0"
																	href="javascript:void(0);" class="pl-2"
																	(click)="showRejectedtebgroupHistoryDetails(tebgroupHistoryDetails,i,businessEntry.rejected_history[businessEntry.business_sector_group_id_arr[1+ie]])"
																	title="Rejected History" alt="Rejected History"><i
																		class="fa fa-flag"></i></a>
															</td>
															<!--
																		<td class="center">
																			<a href="javascript:void(0);" (click)="rejonteBusinessSubmitConfirm(confirmSendAction,businessEntry.business_sector_group_id_arr[1+ie])" title="Send For Approval" alt="Send For Approval"> <i class="fa fa-check" style="font-size: 20px;"></i> </a>
																		</td>
																		-->
														</tr>
													</ng-container>
												</ng-container>
											</tbody>
										</table>
										<div *ngIf="tebrejdetail">
											<div class="row col-12 prd-lab">
												<div class="col-4">
													<label>User Role: </label>
													{{ tebrejdetail.role_name }}
												</div>
												<div class="col-4">
													<label>Business Sector: </label>
													{{ tebrejdetail.business_sector_name }}
												</div>

												<div class="col-4">
													<label>Business Sector Group:</label>
													{{ tebrejdetail.business_sector_group_name }}
												</div>
											</div>

											<div class="row col-12 prd-lab">
												<div class="col-7">
													<label style="float: left;padding-top:6px">Is there a related
														Academic qualification available for the applied business
														sector</label>
												</div>
												<div class="col-5">
													&nbsp;&nbsp;
													<select formControlName="academic_qualification"
														class="form-control select2" [class.is-invalid]="terf.academic_qualification.invalid &&
																terf.academic_qualification.touched" style="float: left; width:150px;">
														<option value="">-- Select --</option>
														<option value="1">Yes</option>
														<option value="2">No</option>
													</select>

													<div *ngIf="terf.academic_qualification.errors"
														class="invalid-feedback"><br>
														<div *ngIf="terf.academic_qualification.errors.required">
															Academic qualification available is required</div>
													</div>
												</div>
											</div>
											<div class="row col-12 prd-lab">
												<div class="col-6">
													<label>Technical Interview File <span
															class="text-danger">*</span></label>&nbsp;&nbsp;
													<input type="file" formControlname="technical_interview_file"
														(change)="rejTEbusinessFileChange($event,'technical')">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.userService.technicalvalidDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>
													<div *ngIf="rejTEtechnicalInterviewFileNames && rejTEtechnicalInterviewFileNames!='NA'"
														class="file-border-box">
														{{ rejTEtechnicalInterviewFileNames }}
														<!--<a (click)="downloadbgroupFile(brejdetail.id,'interview', rejTEtechnicalInterviewFileNames);openmodal(downloading)" ><i class="fa fa-download"  ></i>-->
														<a href="javascript:void(0);"
															(click)="rejTEbusinessremoveFiles('technical')"
															style="color:red; font-weight:bold;">X</a>
													</div>
													<div *ngIf="rejTEuploadtechnicalErrors" class="validationerror">
														{{ rejTEuploadtechnicalErrors }}
													</div>
												</div>
												<div class="col-6" *ngIf="terf.academic_qualification.value==2">
													<label>Exam File</label>&nbsp;&nbsp;
													<input type="file" formControlname="exam_file"
														(change)="rejTEbusinessFileChange($event,'exam')">
													<div style="font-size:11px;">supported file formats:
														<span
															*ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{
															docs}}<span *ngIf="!last">, </span> </span>
													</div>
													<div *ngIf="rejTEexamFileNames  && rejTEexamFileNames!='NA'"
														class="file-border-box">
														{{ rejTEexamFileNames }}
														<!--<a (click)="downloadbgroupFile(brejdetail.id,'exam', rejTEexamFileNames);openmodal(downloading)" ><i class="fa fa-download"  ></i>-->
														<a href="javascript:void(0);"
															(click)="rejTEbusinessremoveFiles('exam')"
															style="color:red; font-weight:bold;">X</a>
													</div>
													<div *ngIf="rejTEuploadexamErrors" class="validationerror">
														{{ rejTEuploadexamErrors }}
													</div>
												</div>

											</div>

										</div>
										<div class="form-group row" *ngIf="tebrejdetail">
											<div class="col-lg-12 text-center mt-4 ">
												<!-- rejonBusinessSubmit() -->
												<button (click)="rejTEaddBusiness()"
													[disabled]="loadingArr['rejTEbusinessForm'] || buttonDisable"
													class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
													<span *ngIf="loadingArr['rejTEbusinessForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Update &amp; Send for Approval
												</button>
												&nbsp;&nbsp;
												<button [disabled]="loadingArr['rejTEbusinessForm'] || buttonDisable"
													type="button" (click)="resetUserForm('rejtebusiness_group')"
													class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
													<span *ngIf="loadingArr['rejTEbusinessForm']"
														class="spinner-border spinner-border-sm mr-1"></span>
													Cancel</button>

											</div>
										</div>
									</div>
								</form>
							</div>
						</mat-tab>
					</mat-tab-group>
				</div>


			</div>







			<!--<div class="form-group row">
						<div class="col-lg-12 text-center mt-4 ">
							<button [disabled]="loading || buttonDisable" class="btn btn-success btn-custom waves-effect w-md waves-light m-b-5">
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
								Submit
							</button>
							<button [disabled]="loading || buttonDisable" type="button" [routerLink]="['/master/user/list']" class="btn btn-secondary active grey btn-custom waves-effect w-md waves-light m-b-5 ml-2">
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
								Cancel
							</button>

							<div class="clearfix"></div>
							<app-usermessage [success]="success" [error]="error"  ></app-usermessage>
						</div>
						
					</div>-->

			<div class="clearfix"></div>
			<div class="row">
			<div class="col-12">
				<app-usermessage [success]="success" [error]="error"></app-usermessage>
			</div>
		</div>
	    </div>
	</div>
</div>
</div>
<ng-template #downloading let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">File Downloading</h4>
	</div>
	<div class="modal-body" style="font-size:16px;">
		Please wait, your file is downloading ...
	</div>
</ng-template>

<ng-template #userRoleReviewContent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Review Decision</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>

	<div class="modal-body text-center" style="font-size:16px;padding:5px;">
		<div class="alert alert-info" *ngIf="alertInfoMessage">{{alertInfoMessage}}</div>
		<div class="alert alert-success" *ngIf="alertSuccessMessage">{{alertSuccessMessage}}</div>
		<div class="alert alert-danger" *ngIf="alertErrorMessage">{{alertErrorMessage}}</div>
	</div>

	<div *ngIf="!alertSuccessMessage" class="modal-body">
		<form [formGroup]="form">
			<div class="form-group row">
				<div class="col-6">
					<label>Status <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Status"
						matTooltipClass="tooltip-text-size" aria-tooltip="Status" matTooltipPosition="right"></i>
					<select formControlName="status" (change)="changeUserRoleStatus($event.target.value)"
						[class.is-invalid]="raf.status.invalid && raf.status.touched" class="form-control select2">
						<option value="">-- Status --</option>
						<option value="2">Approve</option>
						<option value="3">Reject</option>
					</select>
					<div *ngIf="raf.status.errors" class="invalid-feedback">
						<div *ngIf="raf.status.errors.required">Status is required</div>
					</div>
				</div>
			</div>

			<div *ngIf="roleApproveStatus && model.user_role_type" class="clearfix"></div>

			<div *ngIf="roleApproveStatus && model.user_role_type" class="form-group row">
				<div class="col-6">
					<label>Username <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Username"
						matTooltipClass="tooltip-text-size" aria-tooltip="Username" matTooltipPosition="right"></i>
					<input type="text" formControlName="username" class="form-control" placeholder="Username"
						[class.is-invalid]="raf.username.invalid && raf.username.touched">
					<div *ngIf="raf.username.errors" class="invalid-feedback">
						<div *ngIf="raf.username.errors.required">Username is required</div>
						<div *ngIf="raf.username.errors.minlength">Username must be at least 6 characters</div>
						<div *ngIf="raf.username.errors.maxlength">Username cannot exceed 25 characters</div>
						<div *ngIf="raf.username.errors.pattern || raf.username.hasError('whitespace')">Please enter
							valid Username</div>
						<div *ngIf="raf.username.errors.cannotContainSpace">Username can not contain space.</div>
					</div>
					<div class="validationerror" *ngIf="usernameErrors && raf.username.invalid">{{usernameErrors}}</div>
				</div>
			</div>

			<div *ngIf="roleApproveStatus && model.user_role_type" class="clearfix"></div>

			<div *ngIf="roleApproveStatus && model.user_role_type" class="form-group row">
				<div class="col-6">
					<label>Password <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Password"
						matTooltipClass="tooltip-text-size" aria-tooltip="Password" matTooltipPosition="right"></i>
					<input type="password" formControlName="user_password" class="form-control" placeholder="Password"
						[class.is-invalid]="raf.user_password.invalid && raf.user_password.touched">
					<div *ngIf="raf.user_password.errors" class="invalid-feedback">
						<div *ngIf="raf.user_password.errors.required">Password is required</div>
						<div *ngIf="raf.user_password.errors.minlength">Password must be at least 6 characters</div>
						<div *ngIf="raf.user_password.errors.maxlength">Password cannot exceed 25 characters</div>
						<div *ngIf="raf.user_password.errors.pattern || raf.user_password.hasError('whitespace')">Please
							enter valid Password</div>
						<div *ngIf="raf.user_password.errors.cannotContainSpace">Password can not contain space.</div>
					</div>
				</div>
			</div>

			<div class="clearfix"></div>

			<div class="form-group row">
				<div class="col-12">
					<label>Comment <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Comment"
						matTooltipClass="tooltip-text-size" aria-tooltip="Comment" matTooltipPosition="right"></i>
					<textarea formControlName="comment" placeholder="Comment"
						[class.is-invalid]="raf.comment.invalid && raf.comment.touched" rows="5"
						class="form-control"></textarea>
					<div *ngIf="raf.comment.errors" class="invalid-feedback">
						<div *ngIf="raf.comment.errors.required">Comment is required</div>
						<div *ngIf="raf.comment.errors.pattern || raf.comment.hasError('whitespace')">Invalid Comment
						</div>
					</div>
				</div>
			</div>

		</form>

	</div>
	<div *ngIf="!alertSuccessMessage" class="modal-footer">

		<button type="button" [disabled]="loading" class="btn btn-success " (click)="checkUserSel()">
			<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Save</button>

		<button type="button" [disabled]="loading" class="btn btn-outline-secondary"
			(click)="modal.dismiss('cancel click')">
			<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Cancel</button>

	</div>
</ng-template>

<ng-template #approverConfirmContent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Review {{titlename}}</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<div class="alert alert-success" *ngIf="alertSuccessMessage">{{alertSuccessMessage}}</div>
		<form>
			<div class="form-group" *ngIf="!alertSuccessMessage">
				<label for="status">Status <span class="text-danger">*</span></label>
				<div class="input-group">


					<select name="status" [(ngModel)]="model.status" class="form-control select2"
						style="width:120px; display:inline;">
						<option value="">-- Status --</option>
						<option value="2">Approve</option>
						<option value="3">Reject</option>
					</select>

				</div>
				<div class="validationerror" *ngIf="status_error">Please select the status</div>

				<div class="form-group">
					<label for="status">Comment(s) <span class="text-danger">*</span></label>
					<div class="input-group">

						<textarea name="comment" [(ngModel)]="model.comment" rows="4"
							style="width:100%; display:inline;"></textarea>

						<div class="validationerror" *ngIf="comment_error">Please enter the comment</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " [disabled]="popupbtnDisable"
			(click)="commonReviewAction();">Save</button>

		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>

	</div>
</ng-template>

<ng-template #approverStandardConfirmContent let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Review {{titlename}}</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<div class="alert alert-success" *ngIf="alertSuccessMessage">{{alertSuccessMessage}}</div>
		<form>
			<div class="form-group row" *ngIf="!alertSuccessMessage">
				<div class="col-12">
					<label for="status">Status <span class="text-danger">*</span></label>
					<div class="input-group">


						<select name="status" #standardstatus [(ngModel)]="model.status" class="form-control select2"
							style="width:120px; display:inline;">
							<option value="">-- Status --</option>
							<option value="2">Approve</option>
							<option value="3">Reject</option>
						</select>

					</div>
					<div class="validationerror" *ngIf="status_error">Please select the status</div>
				</div>



				<div class="col-6 m-t-10">
					<label>Witness Date <span class="text-danger" *ngIf="standardstatus.value==2">*</span></label>
					<input type="text" [(ngModel)]="model.witness_date" #witdateref name="witness_date"
						class="form-control" placeholder="Witness Date *" matInput [matDatepicker]="witness_date"
						[max]="minDate" (dateChange)="witnessdate_change($event.value)" (click)="witness_date.open()"
						style="width:80%; float:left;">
					<mat-datepicker-toggle matSuffix [for]="witness_date" style="float:left;"></mat-datepicker-toggle>
					<mat-datepicker #witness_date></mat-datepicker>
					<div class="validationerror" *ngIf="witness_date_error">{{witness_date_error}}</div>
				</div>
				<ng-container *ngIf="standardstatus.value==2">
					<div class="col-6  m-t-10">
						<label>Valid Until <span class="text-danger">*</span></label>
						<input type="text" [(ngModel)]="model.valid_until" name="valid_until" class="form-control"
							placeholder="Valid Until Date *" matInput [matDatepicker]="valid_until" [min]="minDate"
							(click)="valid_until.open()" style="width:80%; float:left;">
						<mat-datepicker-toggle matSuffix [for]="valid_until" style="float:left;">
						</mat-datepicker-toggle>
						<mat-datepicker #valid_until></mat-datepicker>
						<div class="validationerror" *ngIf="valid_until_error">{{valid_until_error}}</div>
					</div>
				</ng-container>
				<div class="col-12  m-t-10">
					<label>Witness File <span class="text-danger" *ngIf="standardstatus.value==2">*</span></label>
					<input type="file" name="witness_file" (change)="witnessfileChange_popup($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="model.popup_witness_file" class="file-border-box">
						<a href="javascript:void(0);"
							(click)="downloadstdFile(model.id,'witness',model.popup_witness_file);open(downloading,'')"><i
								class="fa fa-download"></i> {{ model.popup_witness_file }}</a>
						<a href="javascript:void(0);" (click)="removepopup_std_witnessFiles()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="witnesspopup_fileErrors" class="validationerror">
						{{ witnesspopup_fileErrors }}
					</div>

				</div>

				<div class="col-12  m-t-10">
					<label>Witness Comment <span class="text-danger">*</span></label>
					<div class="input-group">

						<textarea name="comment" [(ngModel)]="model.comment" rows="3"
							style="width:100%; height:50px;display:inline;"></textarea>

						<div class="validationerror" *ngIf="comment_error">Please enter the comment</div>
					</div>
				</div>
				<!--<div class="col-12">
					<label>Witness Comment</label>
					<textarea name="witness_comment" [(ngModel)]="model.witness_comment" rows="3" style="width:100%; height:50px;display:inline;" ></textarea>
					<div class="validationerror" *ngIf="witness_comment_error">{{witness_comment_error}}</div>
				</div>-->
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " [disabled]="popupbtnDisable"
			(click)="commonReviewAction('standard');">Save</button>
		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>

	</div>
</ng-template>

<ng-template #tebgroupHistoryDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<mat-accordion *ngFor="let bgrouphistory of tebgroupcodeData index as i">
			<mat-expansion-panel (opened)="panelOpenState = false" (closed)="panelOpenState = true">
				<mat-expansion-panel-header>
					<mat-panel-title>
						Reject Details {{i+1}}
					</mat-panel-title>
				</mat-expansion-panel-header>
				<div class="card-box enq-view">
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Role</th>
							<td colspan="3">{{ bgrouphistory.role_name }}</td>
						</tr>
						<tr>
							<th width="20%">Business Sector</th>
							<td width="30%">{{ bgrouphistory.business_sector_name }}</td>
							<th width="20%">Business Sector Group</th>
							<td width="30%">{{ bgrouphistory.business_sector_group_name }}</td>
						</tr>
						<tr>
							<th width="20%">Rejected By</th>
							<td width="30%">{{ bgrouphistory.approval_by_name }}</td>
							<th width="20%">Rejected Date</th>
							<td width="30%">{{ bgrouphistory.approval_date }}</td>
						</tr>
						<tr *ngIf="bgrouphistory.approval_comment">
							<th width="20%">Comment</th>
							<td colspan="3">{{ bgrouphistory.approval_comment }}</td>
						</tr>
					</table>
				</div>
			</mat-expansion-panel>
		</mat-accordion>
	</div>
</ng-template>


<ng-template #bgroupHistoryDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<mat-accordion *ngFor="let bgrouphistory of bgroupcodeData index as i">
			<mat-expansion-panel (opened)="panelOpenState = false" (closed)="panelOpenState = true">
				<mat-expansion-panel-header>
					<mat-panel-title>
						Reject Details {{i+1}}
					</mat-panel-title>
				</mat-expansion-panel-header>
				<div class="card-box enq-view">
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Standard</th>
							<td width="30%">{{ bgrouphistory.standard_name }}</td>
							<th width="20%">Business Sector</th>
							<td width="30%">{{ bgrouphistory.business_sector_name }}</td>
						</tr>
						<tr>
							<th width="20%">Business Sector Group</th>
							<td width="30%">{{ bgrouphistory.business_sector_group_name }}</td>
							<th width="20%">Academic Qualification</th>
							<td width="30%">{{ bgrouphistory.academic_qualification_name }}</td>
						</tr>
						<tr *ngIf="bgrouphistory.academic_qualification==2">
							<th width="20%">Exam File</th>
							<td width="30%"><a href="javascript:void(0);"
									(click)="downloadbgroupFile(bgrouphistory.id,'exam',bgrouphistory.examfilename);openmodal(downloading)"><i
										class="fa fa-download" *ngIf="bgrouphistory.examfilename"></i> {{
									bgrouphistory.examfilename }}</a></td>
							<th width="20%">Technical Interview File</th>
							<td width="30%"><a href="javascript:void(0);"
									(click)="downloadbgroupFile(bgrouphistory.id,'interview',bgrouphistory.technicalfilename);openmodal(downloading)"><i
										class="fa fa-download" *ngIf="bgrouphistory.technicalfilename"></i> {{
									bgrouphistory.technicalfilename }}</a></td>
						</tr>
						<tr>
							<th width="20%">Rejected By</th>
							<td width="30%">{{ bgrouphistory.status_change_by }}</td>
							<th width="20%">Rejected Date</th>
							<td width="30%">{{ bgrouphistory.status_change_date }}</td>
						</tr>
						<tr *ngIf="bgrouphistory.status_change_comment">
							<th width="20%">Comment</th>
							<td colspan="3">{{ bgrouphistory.status_change_comment }}</td>
						</tr>
					</table>
				</div>
			</mat-expansion-panel>
		</mat-accordion>
	</div>
</ng-template>


<ng-template #DeclarationRejectDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<mat-accordion *ngFor="let dechistory of dechistoryData index as i">
			<mat-expansion-panel (opened)="panelOpenState = false" (closed)="panelOpenState = true">
				<mat-expansion-panel-header>
					<mat-panel-title>
						Reject Details {{i+1}}
					</mat-panel-title>
				</mat-expansion-panel-header>
				<div class="card-box enq-view">
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Company</th>
							<td colspan="3">{{ dechistory.declaration_company }}</td>
						</tr>
						<tr>
							<th width="20%">Contract</th>
							<td width="30%">{{ dechistory.declaration_contract }}</td>
							<th width="20%">Interest</th>
							<td width="30%">{{ dechistory.declaration_interest }}</td>
						</tr>
						<tr>
							<th width="20%">Start Year</th>
							<td width="30%">{{ dechistory.declaration_start_year }}</td>
							<th width="20%">End Year</th>
							<td width="30%">{{ dechistory.declaration_end_year }}</td>
						</tr>
						<tr>
							<th width="20%">Rejected By</th>
							<td width="30%">{{ dechistory.approval_by_name }}</td>
							<th width="20%">Rejected Date</th>
							<td width="30%">{{ dechistory.approval_date }}</td>
						</tr>
						<tr *ngIf="dechistory.approval_comment">
							<th width="20%">Comment</th>
							<td colspan="3">{{ dechistory.approval_comment }}</td>
						</tr>
					</table>
				</div>
			</mat-expansion-panel>
		</mat-accordion>
	</div>
</ng-template>

<ng-template #StandardRejectDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<mat-accordion *ngFor="let stdhistory of stdhistoryData index as i">
			<mat-expansion-panel (opened)="panelOpenState = false" (closed)="panelOpenState = true">
				<mat-expansion-panel-header>
					<mat-panel-title>
						Reject Details {{i+1}}
					</mat-panel-title>
				</mat-expansion-panel-header>
				<div class="card-box enq-view">
					<table class="table-secondary m-b-15">
						<tr>
							<th width="20%">Standard</th>
							<td width="30%">{{ stdhistory.standard_name }}</td>
							<th width="20%">Standard Exam Date</th>
							<td width="30%">{{ stdhistory.standard_exam_date }}</td>
						</tr>
						<tr>
							<th width="20%">Standard Exam File</th>
							<td colspan="3"><a href="javascript:void(0);"
									(click)="downloadstdFile(stdhistory.history_id,'standard',stdhistory.standard_exam_file);openmodal(downloading)"><i
										class="fa fa-download" *ngIf="stdhistory.standard_exam_file"></i> {{
									stdhistory.standard_exam_file }}</a></td>
						</tr>
						<tr *ngIf="stdhistory.recycle_exam_date">
							<th width="20%">Recycle Exam Date</th>
							<td colspan="3">{{ stdhistory.recycle_exam_date }}</td>
						</tr>
						<tr *ngIf="stdhistory.recycle_exam_file">
							<th width="20%">Recycle Exam File</th>
							<td colspan="3"><a href="javascript:void(0);"
									(click)="downloadstdFile(stdhistory.history_id,'recycle',stdhistory.recycle_exam_file);openmodal(downloading)"><i
										class="fa fa-download" *ngIf="stdhistory.standard_exam_file"></i> {{
									stdhistory.recycle_exam_file }}</a></td>
						</tr>
						<tr *ngIf="stdhistory.social_course_exam_date">
							<th width="20%">Social Course Exam Date</th>
							<td colspan="3">{{ stdhistory.social_course_exam_date }}</td>
						</tr>
						<tr *ngIf="stdhistory.social_course_exam_file">
							<th width="20%">Social Course Exam File</th>
							<td colspan="3"><a href="javascript:void(0);"
									(click)="downloadstdFile(stdhistory.history_id,'social',stdhistory.social_course_exam_file);openmodal(downloading)"><i
										class="fa fa-download" *ngIf="stdhistory.social_course_exam_file"></i> {{
									stdhistory.social_course_exam_file }}</a></td>
						</tr>
						<tr *ngIf="stdhistory.witness_date">
							<th width="20%">Witness Date</th>
							<td colspan="3">{{ stdhistory.witness_date }}</td>
						</tr>
						<tr *ngIf="stdhistory.witness_file">
							<th width="20%">Witness File</th>
							<td colspan="3"><a href="javascript:void(0);"
									(click)="downloadstdFile(stdhistory.history_id,'witness',stdhistory.witness_file);openmodal(downloading)"><i
										class="fa fa-download" *ngIf="stdhistory.witness_file"></i> {{
									stdhistory.witness_file }}</a></td>
						</tr>
						<tr *ngIf="stdhistory.witness_valid_until">
							<th width="20%">Witness Valid Until</th>
							<td colspan="3">{{ stdhistory.witness_valid_until }}</td>
						</tr>
						<tr *ngIf="stdhistory.witness_comment">
							<th width="20%">Witness Comment</th>
							<td colspan="3">{{ stdhistory.witness_comment }}</td>
						</tr>
						<tr *ngIf="stdhistory.approval_by">
							<th width="20%">Rejected By</th>
							<td colspan="3">{{ stdhistory.approval_by }}</td>
						</tr>
						<tr *ngIf="stdhistory.approval_date">
							<th width="20%">Rejected Date</th>
							<td colspan="3">{{ stdhistory.approval_date }}</td>
						</tr>
						<tr *ngIf="stdhistory.approval_comment">
							<th width="20%">Comment</th>
							<td colspan="3">{{ stdhistory.approval_comment }}</td>
						</tr>
					</table>
				</div>
			</mat-expansion-panel>
		</mat-accordion>
	</div>
</ng-template>

<ng-template #tebgroupDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<div class="card-box enq-view">

			<table class="table-secondary m-b-15" *ngIf="tebgroupData">
				<tr>
					<th width="20%">Role</th>
					<td width="30%">{{ tebgroupData.role_name }}</td>
					<th width="20%">Business Sector</th>
					<td width="30%">{{ tebgroupData.business_sector_name }}</td>
				</tr>
				<tr>
					<th width="20%">Business Sector Group</th>
					<td colspan="3">{{ tebgroupData.business_sector_group_name_arr[tegpcoderow] }}</td>
				</tr>
				<tr *ngIf="tebgroupData.approval_status==2">
					<th width="20%">Approved Date</th>
					<td width="30%">{{ tebgroupData.approval_date[tegpcoderow] }}</td>
					<th width="20%">Approved By</th>
					<td width="30%">{{ tebgroupData.approval_by_name[tegpcoderow] }}</td>
				</tr>
				<tr *ngIf="tebgroupData.approval_status==3">
					<th width="20%">Rejected Date</th>
					<td width="30%">{{ tebgroupData.approval_date[tegpcoderow] }}</td>
					<th width="20%">Rejected By</th>
					<td width="30%">{{ tebgroupData.approval_by_name[tegpcoderow] }}</td>
				</tr>
				<tr>
					<th width="20%">Comments</th>
					<td colspan="3">{{ tebgroupData.approval_comment[tegpcoderow] }}</td>
				</tr>
			</table>
		</div>
	</div>
</ng-template>

<ng-template #bgroupDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<div class="card-box enq-view">

			<table class="table-secondary m-b-15" *ngIf="bgroupData">
				<tr>
					<th width="20%">Standard</th>
					<td width="30%">{{ bgroupData.standard_name }}</td>
					<th width="20%">Business Sector</th>
					<td width="30%">{{ bgroupData.business_sector_name }}</td>
				</tr>
				<tr>
					<th width="20%">Business Sector Group</th>
					<td width="30%">{{ bgroupData.business_sector_group_name }}</td>
					<th width="20%">Academic Qualification</th>
					<td width="30%">{{ bgroupData.academic_qualification_name }}</td>
				</tr>
				<tr *ngIf="bgroupData.academic_qualification==2">
					<th width="20%">Exam File</th>
					<td width="30%"><a href="javascript:void(0);"
							(click)="downloadbgroupFile(bgroupData.id,'exam',bgroupData.examfilename);openmodal(downloading)"><i
								class="fa fa-download" *ngIf="bgroupData.examfilename"></i> {{ bgroupData.examfilename
							}}</a></td>
					<th width="20%">Technical Interview File</th>
					<td width="30%"><a href="javascript:void(0);"
							(click)="downloadbgroupFile(bgroupData.id,'interview',bgroupData.technicalfilename);openmodal(downloading)"><i
								class="fa fa-download" *ngIf="bgroupData.technicalfilename"></i> {{
							bgroupData.technicalfilename }}</a></td>
				</tr>
				<tr *ngIf="bgroupData.status==2">
					<th width="20%">Approved Date</th>
					<td width="30%">{{ bgroupData.bscode_approval_date[gpcoderow] }}</td>
					<th width="20%">Approved By</th>
					<td width="30%">{{ bgroupData.bscode_approval_by_name[gpcoderow] }}</td>
				</tr>
				<tr *ngIf="bgroupData.status==3">
					<th width="20%">Rejected Date</th>
					<td width="30%">{{ bgroupData.approval_date[gpcoderow] }}</td>
					<th width="20%">Rejected By</th>
					<td width="30%">{{ bgroupData.approval_by_name[gpcoderow] }}</td>
				</tr>
				<tr>
					<th width="20%">Comments</th>
					<td colspan="3">{{ bgroupData.approval_comment[gpcoderow] }}</td>
				</tr>
			</table>
		</div>
	</div>
</ng-template>

<ng-template #RoleDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<div class="card-box enq-view">
			<table class="table-secondary m-b-15" *ngIf="roleData">
				<tr>
					<th width="20%">Role</th>
					<td width="30%">{{ roleData.role_name }}</td>
					<th width="20%">OSS</th>
					<td width="30%">{{ roleData.franchise_name }}</td>
				</tr>
				<tr *ngIf="roleData.username">
					<th width="20%">Username</th>
					<td colspan="3">{{ roleData.username }}</td>
				</tr>
				<tr *ngIf="roleData.approval_status==2">
					<th width="20%">Approved Date</th>
					<td width="30%">{{ roleData.approval_date }}</td>
					<th width="20%">Approved By</th>
					<td width="30%">{{ roleData.approval_by_name }}</td>
				</tr>
				<tr *ngIf="roleData.approval_status==3">
					<th width="20%">Rejected Date</th>
					<td width="30%">{{ roleData.approval_date }}</td>
					<th width="20%">Rejected By</th>
					<td width="30%">{{ roleData.approval_by_name }}</td>
				</tr>
				<tr>
					<th width="20%">Comments</th>
					<td colspan="3">{{ roleData.approval_comment }}</td>
				</tr>
			</table>
		</div>
	</div>
</ng-template>

<ng-template #StdDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<div class="card-box enq-view">
			<table class="table-secondary m-b-15" *ngIf="stdData">
				<tr>
					<th width="20%">Standard</th>
					<td width="30%">{{ stdData.standard_name }}</td>
					<th width="20%">Standard Exam Date</th>
					<td width="30%">{{ stdData.standard_exam_date }}</td>
				</tr>
				<tr>
					<th width="20%">Standard Exam File</th>
					<td width="30%"><a href="javascript:void(0);" *ngIf="stdData.standard_exam_file"
							(click)="downloadstdFile(stdData.id,'standard',stdData.standard_exam_file);openmodal(downloading)"><i
								class="fa fa-download"></i> {{ stdData.standard_exam_file }}</a></td>
					<th width="20%">Witness Date</th>
					<td width="30%">{{ stdData.witness_date }}</td>
				</tr>
				<tr>
					<th width="20%">Witness File</th>
					<td width="30%"><a href="javascript:void(0);" *ngIf="stdData.witness_file"
							(click)="downloadstdFile(stdData.id,'standard',stdData.witness_file);openmodal(downloading);"><i
								class="fa fa-download"></i> {{ stdData.witness_file }}</a></td>
					<th width="20%">Witness Valid Until</th>
					<td width="30%">{{ stdData.witness_valid_until }}</td>
				</tr>
				<tr *ngIf="stdData.standard_code == 'GRS' || stdData.standard_code == 'RCS'">
					<th width="20%">Recycle Exam Date</th>
					<td width="30%">{{ stdData.recycle_exam_date }}</td>
					<th width="20%">Recycle Exam File</th>
					<td width="30%"><a href="javascript:void(0);"
							(click)="downloadstdFile(stdData.id,'recycle',stdData.recycle_exam_file);openmodal(downloading)"
							*ngIf="stdData.recycle_exam_file"><i class="fa fa-download"></i> {{
							stdData.recycle_exam_file }}</a></td>
				</tr>
				<tr *ngIf="stdData.standard_code == 'GRS' || stdData.standard_code == 'GOTS'">
					<th width="20%">Social Exam Date</th>
					<td width="30%">{{ stdData.social_course_exam_date }}</td>
					<th width="20%">Social Exam File</th>
					<td width="30%"><a href="javascript:void(0);"
							(click)="downloadstdFile(stdData.id,'social',stdData.social_course_exam_file);openmodal(downloading)"
							*ngIf="stdData.social_course_exam_file"><i class="fa fa-download"></i> {{
							stdData.social_course_exam_file }}</a></td>
				</tr>
				<tr>
					<th width="20%">Pre Qualification</th>
					<td width="30%">{{ stdData.pre_qualification }}</td>
					<th width="20%">Pre Qualification File</th>
					<td width="30%"><a href="javascript:void(0);"
							(click)="downloadstdFile(stdData.id,'qua_exam',stdData.qua_exam_file);openmodal(downloading)"
							*ngIf="stdData.qua_exam_file"><i class="fa fa-download"></i> {{ stdData.qua_exam_file }}</a>
					</td>
				</tr>

				<tr *ngIf="stdData && stdData.status==2">
					<th width="20%">Approved Date</th>
					<td width="30%">{{ stdData.approval_date }}</td>
					<th width="20%">Approved By</th>
					<td width="30%">{{ stdData.approval_by_name }}</td>
				</tr>
				<tr *ngIf="stdData && stdData.status==3">
					<th width="20%">Rejected Date</th>
					<td width="30%">{{ stdData.approval_date }}</td>
					<th width="20%">Rejected By</th>
					<td width="30%">{{ stdData.approval_by_name }}</td>
				</tr>
				<tr>
					<th width="20%">Witness Comment</th>
					<td colspan="3">{{ stdData.approval_comment }}</td>
				</tr>
			</table>
		</div>
	</div>
</ng-template>

<ng-template #StandardFileDetails let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Update Files</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<form [formGroup]="stdfileform">
		<div class="modal-body">

			<div class="form-group row">
				<div class="col-12" *ngIf="stdfileData.standard_exam_file">
					<label>Upload the Standard Exam <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Standard Exam File"
						matTooltipClass="tooltip-text-size" aria-tooltip="Standard Exam File"
						matTooltipPosition="right"></i>
					&nbsp;<input type="file" formControlname="approved_std_exam"
						(change)="approved_std_examfileChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs }}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_std_exam_file" class="file-border-box">

						<ng-container>{{ approved_std_exam_file }}</ng-container>
						<!-- <a *ngIf="stdfileData.id" href="javascript:void(0);" (click)="downloadstdFile(stdfileData.id,'standard',approved_std_exam_file);open(downloading)" ><i class="fa fa-download"></i> {{ approved_std_exam_file }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_std_examFiles()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="approved_std_examfileErrors" class="validationerror">
						{{ approved_std_examfileErrors }}
					</div>
				</div>
			</div>

			<div class="form-group row"
				*ngIf="stdfileData.standard_code == 'GRS' || stdfileData.standard_code == 'RCS'">
				<div class="col-12" *ngIf="stdfileData.recycle_exam_file">
					<label>Upload the Recycle Exam <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Recycle Exam File"
						matTooltipClass="tooltip-text-size" aria-tooltip="Recycle Exam File"
						matTooltipPosition="right"></i>
					&nbsp;<input type="file" formControlname="approved_recycle_exam"
						(change)="approved_recycle_examfileChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_recycle_exam_file" class="file-border-box">

						<ng-container>{{ approved_recycle_exam_file }}</ng-container>
						<!-- <a href="javascript:void(0);" *ngIf="stdfileData.id" (click)="downloadstdFile(stdfileData.id,'recycle',approved_recycle_exam_file);open(downloading);" ><i class="fa fa-download"></i>{{ approved_recycle_exam_file }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_recycle_examFiles()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="approved_recycle_examFileErrors" class="validationerror">
						{{ approved_recycle_examFileErrors }}
					</div>

				</div>
			</div>

			<div class="form-group row"
				*ngIf="stdfileData.standard_code == 'GRS' || stdfileData.standard_code == 'GOTS'">

				<div class="col-12" *ngIf="stdfileData.social_course_exam_file">
					<label>Upload the Social Exam <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Social Exam"
						matTooltipClass="tooltip-text-size" aria-tooltip="Social Exam" matTooltipPosition="right"></i>
					&nbsp;<input type="file" formControlname="approved_social_exam"
						(change)="approved_social_examfileChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_social_exam_file" class="file-border-box">

						<ng-container>{{ approved_social_exam_file }}</ng-container>
						<!-- <a href="javascript:void(0);" *ngIf="stdfileData.id" (click)="downloadstdFile(stdfileData.id,'social',approved_social_exam_file);open(downloading)" ><i class="fa fa-download"></i>{{ approved_social_exam_file }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_social_examFiles()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="approved_social_examFileErrors" class="validationerror">
						{{ approved_social_examFileErrors }}
					</div>
				</div>
			</div>

			<div class="form-group row">
				<div class="col-4">
					<label style="float:left; width:100%; padding-top:5px; padding-right:15px;">Witness Date <span
							class="text-danger">*</span><i class="fa fa-info-circle text-info ml-1 info-icon-size"
							matTooltip="Witness Date" matTooltipClass="tooltip-text-size" aria-tooltip="Witness Date"
							matTooltipPosition="right"></i></label>
					<input type="text" formControlName="approved_witness_date" class="form-control"
						placeholder="Witness Date" [max]="minDate" [class.is-invalid]="asf.approved_witness_date.invalid &&
					asf.approved_witness_date.touched" matInput [matDatepicker]="approved_witness_date"
						(click)="approved_witness_date.open()" style="width:92px; float:left;font-size: 11px;">
					<mat-datepicker-toggle matSuffix [for]="approved_witness_date" style="float:left;">
					</mat-datepicker-toggle>
					<mat-datepicker #approved_witness_date></mat-datepicker>
					<div *ngIf="asf.approved_witness_date.errors" class="invalid-feedback">
						<div *ngIf="asf.approved_witness_date.errors.required">Witness Date cannot be blank.</div>
					</div>
				</div>
				<div class="col-4">
					<label style="float:left; width:100%; padding-top:5px; padding-right:15px;">Approval Date <span
							class="text-danger">*</span><i class="fa fa-info-circle text-info ml-1 info-icon-size"
							matTooltip="Approval Date" matTooltipClass="tooltip-text-size" aria-tooltip="Approval Date"
							matTooltipPosition="right"></i></label>
					<input type="text" formControlName="approved_approval_date" class="form-control"
						placeholder="Approval Date" [max]="minDate" [class.is-invalid]="asf.approved_approval_date.invalid &&
					asf.approved_approval_date.touched" matInput [matDatepicker]="approved_approval_date"
						(click)="approved_approval_date.open()" style="width:92px; float:left;font-size: 11px;">
					<mat-datepicker-toggle matSuffix [for]="approved_approval_date" style="float:left;">
					</mat-datepicker-toggle>
					<mat-datepicker #approved_approval_date></mat-datepicker>
					<div *ngIf="asf.approved_approval_date.errors" class="invalid-feedback">
						<div *ngIf="asf.approved_approval_date.errors.required">Approval Date cannot be blank.</div>
					</div>
				</div>

				<div class="col-4">
					<label style="float:left; width:100%; padding-top:5px; padding-right:15px;">Valid Until <span
							class="text-danger">*</span><i class="fa fa-info-circle text-info ml-1 info-icon-size"
							matTooltip="Valid Until Date" matTooltipClass="tooltip-text-size"
							aria-tooltip="Valid Until Date" matTooltipPosition="right"></i></label>
					<input type="text" formControlName="approved_valid_until" class="form-control"
						placeholder="Valid Until Date *" matInput [matDatepicker]="approved_valid_until" [min]="minDate"
						[class.is-invalid]="asf.approved_valid_until.invalid &&
					asf.approved_valid_until.touched" (click)="approved_valid_until.open()"
						style="width:92px; float:left;font-size: 11px;">
					<mat-datepicker-toggle matSuffix [for]="approved_valid_until" style="float:left;">
					</mat-datepicker-toggle>
					<mat-datepicker #approved_valid_until></mat-datepicker>
					<div *ngIf="asf.approved_valid_until.errors" class="invalid-feedback">
						<div *ngIf="asf.approved_valid_until.errors.required">Valid Until cannot be blank.</div>
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-12" *ngIf="stdfileData.witness_file">
					<label>Upload the Witness <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Upload the Witness"
						matTooltipClass="tooltip-text-size" aria-tooltip="Upload the Witness"
						matTooltipPosition="right"></i>
					&nbsp;<input type="file" formControlname="approved_witness_file"
						(change)="approved_witnessfileChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_witness_file" class="file-border-box">

						<ng-container>{{ approved_witness_file }}</ng-container>
						<!-- <a href="javascript:void(0);" *ngIf="stdfileData.id" (click)="downloadstdFile(stdfileData.id,'witness',approved_witness_file);open(downloading)" ><i class="fa fa-download"></i>{{ approved_witness_file }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_std_witnessFiles()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
						<!---->
					</div>

					<div *ngIf="approved_witness_fileErrors" class="validationerror">
						{{ approved_witness_fileErrors }}
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-4">
					<label>PreQualification<span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="PreQualification"
						matTooltipClass="tooltip-text-size" aria-tooltip="Last Name" matTooltipPosition="right"></i>
					<input type="text" formControlName="approved_pre_qualification"
						[class.is-invalid]="asf.approved_pre_qualification.invalid && asf.approved_pre_qualification.touched"
						class="form-control" placeholder="PreQualification">
					<div *ngIf="asf.approved_pre_qualification.errors" class="invalid-feedback">
						<div *ngIf="asf.approved_pre_qualification.errors.required">Pre Qualification is required</div>
					</div>
				</div>


				<div class="col-8">
					<label>Upload the PreQualification File<span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Pre Qualification File"
						matTooltipClass="tooltip-text-size" aria-tooltip="Pre Qualification File"
						matTooltipPosition="right"></i>
					<input type="file" formControlname="approved_qua_exam_file"
						(change)="approved_qua_examfileChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_qua_exam_file" class="file-border-box">
						<ng-container>{{ approved_qua_exam_file }}</ng-container>
						<!-- <a  href="javascript:void(0);" (click)="downloadstdFile(standardFormDetails.id,'standard',qua_exam_file);open(downloading)" ><i class="fa fa-download"></i> {{ qua_exam_file }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_qua_examFiles()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="approved_qua_exam_fileErrors" class="validationerror">
						{{ approved_qua_exam_fileErrors }}
					</div>
				</div>
			</div>

		</div>
		<div class="modal-footer">
			<button type="button" [disabled]="loading" class="btn btn-success " (click)="SaveStdFileChanges()">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Save</button>

			<button type="button" [disabled]="loading" class="btn btn-outline-secondary"
				(click)="modal.dismiss('cancel click')">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Cancel</button>
		</div>
	</form>
</ng-template>

<ng-template #BgroupDateDetails let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Update Approval Date</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<form [formGroup]="bgroupdateform">
		<div class="modal-body">

			<div class="form-group row">
				<div class="col-6">
					<label style="float:left; width:100%; padding-top:5px; padding-right:15px;">Approval Date <span
							class="text-danger">*</span><i class="fa fa-info-circle text-info ml-1 info-icon-size"
							matTooltip="Approval Date" matTooltipClass="tooltip-text-size" aria-tooltip="Approval Date"
							matTooltipPosition="right"></i></label>
					<input type="text" formControlName="approved_approval_date" class="form-control"
						placeholder="Approval Date" [max]="minDate" [class.is-invalid]="bsf.approved_approval_date.invalid &&
					bsf.approved_approval_date.touched" matInput [matDatepicker]="approved_approval_date"
						(click)="approved_approval_date.open()" style="width:80%; float:left;">
					<mat-datepicker-toggle matSuffix [for]="approved_approval_date" style="float:left;">
					</mat-datepicker-toggle>
					<mat-datepicker #approved_approval_date></mat-datepicker><br>
					<div *ngIf="bsf.approved_approval_date.errors" class="invalid-feedback">
						<div *ngIf="bsf.approved_approval_date.errors.required">Approval Date cannot be blank.</div>
					</div>
				</div>
			</div>


		</div>
		<div class="modal-footer">
			<button type="button" [disabled]="loading" class="btn btn-success " (click)="SaveBgroupDateChanges()">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Save</button>

			<button type="button" [disabled]="loading" class="btn btn-outline-secondary"
				(click)="modal.dismiss('cancel click')">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Cancel</button>

		</div>
	</form>
</ng-template>

<ng-template #BgroupFileDetails let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Update Files</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<form [formGroup]="bgroupfileform">
		<div class="modal-body">

			<div class="form-group row">
				<div class="col-12" *ngIf="bgroupfileData.examfilename">
					<label>Exam File <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Exam File"
						matTooltipClass="tooltip-text-size" aria-tooltip="Exam File" matTooltipPosition="right"></i>
					&nbsp;<input type="file" formControlname="approved_examfilename"
						(change)="approved_examfilenameChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs }}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_examfilename" class="file-border-box">

						<ng-container>{{ approved_examfilename }}</ng-container>
						<!-- <a *ngIf="bgroupfileDataid" href="javascript:void(0);" (click)="downloadstdFile(bgroupfileData.id,'standard',approved_examfilename);open(downloading)" ><i class="fa fa-download"></i> {{ approved_examfilename }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_examfilename()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="approved_examfileErrors" class="validationerror">
						{{ approved_examfileErrors }}
					</div>
				</div>
			</div>

			<div class="form-group row">
				<div class="col-12" *ngIf="bgroupfileData.technicalfilename">
					<label>Technical Interview File <span class="text-danger">*</span></label> <i
						class="fa fa-info-circle text-info ml-1 info-icon-size" matTooltip="Technical Interview File"
						matTooltipClass="tooltip-text-size" aria-tooltip="Technical Interview File"
						matTooltipPosition="right"></i>
					&nbsp;<input type="file" formControlname="approved_technicalfilename"
						(change)="approved_technicalfilenameChange($event)">
					<div style="font-size:11px;">supported file formats:
						<span *ngFor="let docs of this.errorSummary.validDocs; let last=last;">{{ docs}}<span
								*ngIf="!last">, </span> </span>
					</div>

					<div *ngIf="approved_technicalfilename" class="file-border-box">

						<ng-container>{{ approved_technicalfilename }}</ng-container>
						<!-- <a href="javascript:void(0);" *ngIf="bgroupfileData.id" (click)="downloadstdFile(bgroupfileData.id,'recycle',approved_technicalfilename);open(downloading);" ><i class="fa fa-download"></i>{{ approved_technicalfilename }}</a> -->
						<a href="javascript:void(0);" (click)="removeapproved_technicalfilename()"
							style="color:red; font-weight:bold;margin-right: 5px;float:right;">X</a>
					</div>

					<div *ngIf="approved_technicalFileErrors" class="validationerror">
						{{ approved_technicalFileErrors }}
					</div>

				</div>
			</div>




		</div>
		<div class="modal-footer">
			<button type="button" [disabled]="loading" class="btn btn-success " (click)="SaveBgroupFileChanges()">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Save</button>

			<button type="button" [disabled]="loading" class="btn btn-outline-secondary"
				(click)="modal.dismiss('cancel click')">
				<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>Cancel</button>


		</div>
	</form>
</ng-template>

<ng-template #DeclarationDetails let-modal>
	<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"
		style="top:-35px;right:-35px;">
		<span class="c-icon" aria-hidden="true">&times;</span>
	</button>
	<div class="modal-body" style="font-size:16px;">
		<div class="card-box enq-view">
			<table class="table-secondary m-b-15" *ngIf="decData">
				<tr>
					<th width="20%">Company</th>
					<td width="30%">{{ decData.declaration_company }}</td>
					<th width="20%">Contract</th>
					<td width="30%">{{ decData.declaration_contract }}</td>
				</tr>
				<tr>
					<th width="20%">Interest</th>
					<td colspan="3">{{ decData.declaration_interest }}</td>
				</tr>
				<tr>
					<th width="20%">Start Year</th>
					<td width="30%">{{ decData.declaration_start_year }}</td>
					<th width="20%">End Year</th>
					<td width="30%">{{ decData.declaration_end_year }}</td>
				</tr>
				<tr *ngIf="decData.status==2">
					<th width="20%">Approved Date</th>
					<td width="30%">{{ decData.approval_date }}</td>
					<th width="20%">Approved By</th>
					<td width="30%">{{ decData.approval_by_name }}</td>
				</tr>
				<tr *ngIf="decData.status==3">
					<th width="20%">Rejected Date</th>
					<td width="30%">{{ decData.approval_date }}</td>
					<th width="20%">Rejected By</th>
					<td width="30%">{{ decData.approval_by_name }}</td>
				</tr>
				
				<tr>
					<th width="20%">Comments</th>
					<td colspan="3">{{ decData.approval_comment }}</td>
					
				</tr>
				<tr *ngIf="decData.relation_consent==3">
					<th width="20%">Close Relations Declaration</th>
					<td width="30%">No</td>
					<th width="20%">Spouse's Work</th>
					<td width="30%">{{ decData.relation_work }}</td>

				</tr>
				<tr *ngIf="decData.relation_consent!=3">
					<th width="20%">Close Relations Declaration</th>
					<td width="30%">{{ userData.relAnsList[decData.relation_consent] }}</td>
					<th width="20%" *ngIf="decData.relation_consent!=1">Relation's Work</th>
					<td width="30%" *ngIf="decData.relation_consent!=1">{{ decData.relation_work }}</td>

				</tr>
				<tr>
					<th width="20%">Name</th>
					<td width="30%">{{ decData.name }}</td>
					<th width="20%">Type Of Relationship</th>
					<td width="30%">{{ decData.type_name }}</td>

				</tr>
				
			</table>
		</div>
	</div>
</ng-template>

<ng-template #confirmSendToApproval let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body" style="font-size:16px;">
		Are you sure, do you want to send the {{ sendApprovalValue }} for approval?
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="modal.close()">Ok</button>

		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>

<ng-template #confirmAction let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body text-center" style="font-size:16px;padding:5px;">
		<div class="alert alert-info" *ngIf="alertInfoMessage">{{alertInfoMessage}}</div>
		<div class="alert alert-success" *ngIf="alertSuccessMessage">{{alertSuccessMessage}}</div>
		<div class="alert alert-danger" *ngIf="alertErrorMessage">{{alertErrorMessage}}</div>
	</div>
	<div class="modal-footer" *ngIf="displayPopBtn">
		<button type="button" class="btn btn-success " (click)="commonModalAction();">Ok</button>

		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>

<ng-template #confirmSendAction let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body text-center" style="font-size:16px;padding:5px;">
		<div class="alert alert-info" *ngIf="alertInfoMessage">{{alertInfoMessage}}</div>
		<div class="alert alert-success" *ngIf="alertSuccessMessage">{{alertSuccessMessage}}</div>
		<div class="alert alert-danger" *ngIf="alertErrorMessage">{{alertErrorMessage}}</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-success " (click)="rejonteBusinessSubmit();">Ok</button>

		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>

<ng-template #confirmRoleSendAction let-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Confirm</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span class="c-icon" aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body text-center" style="font-size:16px;padding:5px;">
		<div class="alert alert-info" *ngIf="alertInfoMessage">{{alertInfoMessage}}</div>
		<div class="alert alert-success" *ngIf="alertSuccessMessage">{{alertSuccessMessage}}</div>
		<div class="alert alert-danger" *ngIf="alertErrorMessage">{{alertErrorMessage}}</div>
	</div>
	<div class="modal-footer" *ngIf="!dataprocessing">
		<button type="button" class="btn btn-success " (click)="rejRoleSubmit();">Ok</button>

		<button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Cancel</button>
	</div>
</ng-template>